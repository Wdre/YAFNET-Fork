{"version":3,"file":"choices.min.js","mappings":";;2EAGmEA,EAAOC,QAGjE,WAAe,aAkBpB,IAAIC,EAAgB,SAAUC,EAAGC,GAQ/B,OAPAF,EAAgBG,OAAOC,gBAAkB,CACvCC,UAAW,cACAC,OAAS,SAAUL,EAAGC,GACjCD,EAAEI,UAAYH,CAChB,GAAK,SAAUD,EAAGC,GAChB,IAAK,IAAIK,KAAKL,EAAOC,OAAOK,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,GAC5E,EACOP,EAAcC,EAAGC,EAC1B,EACA,SAASS,EAAUV,EAAGC,GACpB,GAAiB,mBAANA,GAA0B,OAANA,EAAY,MAAM,IAAIU,UAAU,uBAAyBC,OAAOX,GAAK,iCAEpG,SAASY,IACPC,KAAKC,YAAcf,CACrB,CAHAD,EAAcC,EAAGC,GAIjBD,EAAEO,UAAkB,OAANN,EAAaC,OAAOc,OAAOf,IAAMY,EAAGN,UAAYN,EAAEM,UAAW,IAAIM,EACjF,CACA,IAAII,EAAW,WAQb,OAPAA,EAAWf,OAAOgB,QAAU,SAAkBC,GAC5C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE9C,IAAK,IAAIf,KADTc,EAAIG,UAAUF,GACOnB,OAAOK,UAAUC,eAAeC,KAAKW,EAAGd,KAAIa,EAAEb,GAAKc,EAAEd,IAE5E,OAAOa,CACT,EACOF,EAASQ,MAAMX,KAAMS,UAC9B,EACA,SAASG,EAAcC,EAAIC,EAAMC,GAC/B,GAAIA,GAA6B,IAArBN,UAAUC,OAAc,IAAK,IAA4BM,EAAxBT,EAAI,EAAGU,EAAIH,EAAKJ,OAAYH,EAAIU,EAAGV,KAC1ES,GAAQT,KAAKO,IACVE,IAAIA,EAAKzB,MAAME,UAAUyB,MAAMvB,KAAKmB,EAAM,EAAGP,IAClDS,EAAGT,GAAKO,EAAKP,IAGjB,OAAOM,EAAGM,OAAOH,GAAMzB,MAAME,UAAUyB,MAAMvB,KAAKmB,GACpD,CAC2B,mBAApBM,iBAAiCA,gBAKxC,IA+IQC,EA/IJC,EAAa,CACbC,WAAY,aACZC,cAAe,gBACfC,eAAgB,iBAChBC,iBAAkB,mBAClBC,cAAe,gBACfC,UAAW,YACXC,SAAU,WACVC,YAAa,cACbC,eAAgB,kBAGhBC,EAAY,CACZC,aAAc,eACdC,aAAc,eACdC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACTC,WAAY,aACZC,cAAe,gBACfC,gBAAiB,kBACjBC,gBAAiB,mBAGjBC,EAAa,CACbC,QAAS,EACTC,UAAW,GACXC,SAAU,GACVC,WAAY,EACZC,UAAW,GACXC,MAAO,GACPC,QAAS,GACTC,OAAQ,GACRC,SAAU,GACVC,YAAa,GACbC,cAAe,IAGfC,EAAkB,CAAC,cAAe,cAElCC,EAAqB,CACrBC,KAAM,OACNC,UAAW,aACXC,eAAgB,mBAGhBC,EAAY,SAAUxB,GAAU,MAAO,CACvCyB,KAAMvC,EAAWC,WACjBa,OAAQA,EACR,EACA0B,EAAe,SAAU1B,GAAU,MAAO,CAC1CyB,KAAMvC,EAAWE,cACjBY,OAAQA,EACR,EACA2B,EAAgB,SAAUC,GAAW,MAAO,CAC5CH,KAAMvC,EAAWG,eACjBuC,QAASA,EACT,EACAC,EAAkB,SAAUC,GAC5B,MAAO,CACHL,KAAMvC,EAAWI,iBACjBwC,OAAQA,EAEhB,EAEIC,EAAW,SAAUC,GAAS,MAAO,CACrCP,KAAMvC,EAAWM,UACjBwC,MAAOA,EACP,EAEA9B,EAAU,SAAU+B,GAAQ,MAAO,CACnCR,KAAMvC,EAAWO,SACjBwC,KAAMA,EACN,EACAC,EAAe,SAAUD,GAAQ,MAAO,CACxCR,KAAMvC,EAAWQ,YACjBuC,KAAMA,EACN,EACA7B,EAAgB,SAAU6B,EAAME,GAAe,MAAO,CACtDV,KAAMvC,EAAWS,eACjBsC,KAAMA,EACNE,YAAaA,EACb,EAEAC,EAAkB,SAAUC,EAAKC,GAAO,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,EAAM,EAC9FK,EAAgB,SAAUpE,GAC1B,OAAOnB,MAAMuB,KAAK,CAAEJ,OAAQA,IAAU,WAAc,OAAO8D,EAAgB,EAAG,IAAIO,SAAS,GAAK,IAAGC,KAAK,GAC5G,EACIC,EAAa,SAAUC,EAASC,GAChC,IAAIC,EAAKF,EAAQE,IAAOF,EAAQG,MAAQ,GAAGlE,OAAO+D,EAAQG,KAAM,KAAKlE,OAAO2D,EAAc,KAAQA,EAAc,GAGhH,OAFAM,EAAKA,EAAGE,QAAQ,kBAAmB,IACnCF,EAAK,GAAGjE,OAAOgE,EAAQ,KAAKhE,OAAOiE,EAEvC,EACIG,EAAgB,SAAUC,EAASC,EAAUC,QAC3B,IAAdA,IAAwBA,EAAY,GAGxC,IAFA,IAAIC,EAAO,GAAGxE,OAAOuE,EAAY,EAAI,OAAS,WAAY,kBACtDE,EAAUJ,EAAQG,GACfC,GAAS,CACZ,GAAIA,EAAQC,QAAQJ,GAChB,OAAOG,EAEXA,EAAUA,EAAQD,EACtB,CACA,OAAO,IACX,EACIG,EAAqB,SAAUZ,EAASa,EAAQL,GAWhD,YAVkB,IAAdA,IAAwBA,EAAY,GAEpCA,EAAY,EAEAK,EAAOC,UAAYD,EAAOE,cAAgBf,EAAQgB,UAAYhB,EAAQe,aAItEf,EAAQgB,WAAaH,EAAOC,SAGhD,EACIG,EAAW,SAAUC,GACrB,GAAqB,iBAAVA,EAAoB,CAC3B,GAAIA,QACA,MAAO,GAEX,GAAqB,iBAAVA,EAAoB,CAC3B,GAAI,QAASA,EACT,OAAOD,EAASC,EAAMC,KAE1B,GAAI,YAAaD,EACb,OAAOA,EAAME,OAErB,CACA,OAAOF,CACX,CACA,OAAOA,EACFd,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,SACvB,EACIiB,GACIlF,EAAQmF,SAASC,cAAc,OAC5B,SAAUC,GACbrF,EAAMsF,UAAYD,EAAIE,OAEtB,IADA,IAAIC,EAAaxF,EAAMyF,SAAS,GACzBzF,EAAMwF,YACTxF,EAAM0F,YAAY1F,EAAMwF,YAE5B,OAAOA,CACX,GAEAG,EAAwB,SAAUC,EAAIb,GACtC,MAAqB,mBAAPa,EAAoBA,EAAGd,EAASC,GAAQA,GAASa,CACnE,EACIC,EAAwB,SAAUD,GAClC,MAAqB,mBAAPA,EAAoBA,IAAOA,CAC7C,EACIE,EAAqB,SAAU7G,GAC/B,GAAiB,iBAANA,EACP,OAAOA,EAEX,GAAiB,iBAANA,EAAgB,CACvB,GAAI,YAAaA,EACb,OAAOA,EAAEgG,QAEb,GAAI,QAAShG,EACT,OAAOA,EAAE+F,GAEjB,CACA,MAAO,EACX,EACIe,EAAyB,SAAU9G,GACnC,GAAiB,iBAANA,EACP,OAAOA,EAEX,GAAiB,iBAANA,EAAgB,CACvB,GAAI,YAAaA,EACb,OAAOA,EAAE+G,QAEb,GAAI,YAAa/G,EACb,OAAOA,EAAEgG,OAEjB,CACA,MAAO,EACX,EACIgB,EAAoB,SAAUC,EAAWjH,GACzC,OAAOiH,EAAYH,EAAuB9G,GAAK6F,EAAS7F,EAC5D,EACIkH,EAAiB,SAAUC,EAAIC,EAAWC,GAC1CF,EAAGd,UAAYW,EAAkBI,EAAWC,EAChD,EACIC,EAAc,SAAUC,EAAIC,GAC5B,IAAI1B,EAAQyB,EAAGzB,MAAO2B,EAAKF,EAAGG,MAAOA,OAAe,IAAPD,EAAgB3B,EAAQ2B,EACjEE,EAASH,EAAG1B,MAAO8B,EAAKJ,EAAGE,MAAOG,OAAgB,IAAPD,EAAgBD,EAASC,EACxE,OAAOf,EAAmBa,GAAOI,cAAcjB,EAAmBgB,GAAS,GAAI,CAC3EE,YAAa,OACbC,mBAAmB,EACnBC,SAAS,GAEjB,EACIC,EAAa,SAAUC,EAAGtJ,GAC1B,OAAOsJ,EAAEC,KAAOvJ,EAAEuJ,IACtB,EACIC,EAAgB,SAAUzD,EAASrB,EAAM+E,QACtB,IAAfA,IAAyBA,EAAa,MAC1C,IAAIC,EAAQ,IAAIC,YAAYjF,EAAM,CAC9BkF,OAAQH,EACRI,SAAS,EACTC,YAAY,IAEhB,OAAO/D,EAAQyD,cAAcE,EACjC,EAKIK,EAAO,SAAUT,EAAGtJ,GACpB,IAAIgK,EAAQ/J,OAAOgK,KAAKX,GAAGY,OACvBC,EAAQlK,OAAOgK,KAAKjK,GAAGkK,OAC3B,OAAOF,EAAMI,QAAO,SAAUhJ,GAAK,OAAO+I,EAAME,QAAQjJ,GAAK,CAAG,GACpE,EACIkJ,EAAgB,SAAUC,GAC1B,OAAOnK,MAAMoK,QAAQD,GAAcA,EAAa,CAACA,EACrD,EACIE,EAAwB,SAAUC,GAClC,OAAIA,GAAUtK,MAAMoK,QAAQE,GACjBA,EACFC,KAAI,SAAUzF,GACf,MAAO,IAAIlD,OAAOkD,EACtB,IACKW,KAAK,IAEP,IAAI7D,OAAO0I,EACtB,EACIE,EAAsB,SAAU7E,EAAS8E,GACzC,IAAInC,GACHA,EAAK3C,EAAQ+E,WAAWC,IAAIvJ,MAAMkH,EAAI4B,EAAcO,GACzD,EACIG,EAA2B,SAAUjF,EAAS8E,GAC9C,IAAInC,GACHA,EAAK3C,EAAQ+E,WAAWG,OAAOzJ,MAAMkH,EAAI4B,EAAcO,GAC5D,EACIK,EAAwB,SAAUC,GAClC,QAAgC,IAArBA,EACP,IACI,OAAOC,KAAKC,MAAMF,EACtB,CACA,MAAOG,GACH,OAAOH,CACX,CAEJ,MAAO,CAAC,CACZ,EACII,EAAkB,SAAUrG,EAAM6F,EAAKE,GACvC,IAAIO,EAAStG,EAAKsG,OACdA,IACAR,EAAyBQ,EAAQP,GACjCL,EAAoBY,EAAQT,GAEpC,EAEIU,EAA0B,WAC1B,SAASA,EAAS/C,GACd,IAAI3C,EAAU2C,EAAG3C,QAASrB,EAAOgE,EAAGhE,KAAMgH,EAAahD,EAAGgD,WAC1D7K,KAAKkF,QAAUA,EACflF,KAAK6K,WAAaA,EAClB7K,KAAK6D,KAAOA,EACZ7D,KAAK8K,UAAW,CACpB,CAmBA,OAfAF,EAASnL,UAAUsL,KAAO,WAItB,OAHAhB,EAAoB/J,KAAKkF,QAASlF,KAAK6K,WAAWG,aAClDhL,KAAKkF,QAAQ+F,aAAa,gBAAiB,QAC3CjL,KAAK8K,UAAW,EACT9K,IACX,EAIA4K,EAASnL,UAAUyL,KAAO,WAItB,OAHAf,EAAyBnK,KAAKkF,QAASlF,KAAK6K,WAAWG,aACvDhL,KAAKkF,QAAQ+F,aAAa,gBAAiB,SAC3CjL,KAAK8K,UAAW,EACT9K,IACX,EACO4K,CACX,CA3B6B,GA6BzBO,EAA2B,WAC3B,SAASA,EAAUtD,GACf,IAAI3C,EAAU2C,EAAG3C,QAASrB,EAAOgE,EAAGhE,KAAMgH,EAAahD,EAAGgD,WAAYO,EAAWvD,EAAGuD,SACpFpL,KAAKkF,QAAUA,EACflF,KAAK6K,WAAaA,EAClB7K,KAAK6D,KAAOA,EACZ7D,KAAKoL,SAAWA,EAChBpL,KAAKqL,QAAS,EACdrL,KAAKsL,WAAY,EACjBtL,KAAKuL,YAAa,EAClBvL,KAAKwL,WAAY,CACrB,CAoGA,OA/FAL,EAAU1L,UAAUgM,WAAa,SAAUC,EAAaC,GAGpD,IAAIF,GAAa,EASjB,MARsB,SAAlBzL,KAAKoL,SACLK,EACIzL,KAAKkF,QAAQ0G,wBAAwBC,IAAMF,GAAkB,IACxDG,OAAOC,WAAW,gBAAgB5K,OAAOuK,EAAc,EAAG,QAAQ7F,QAEpD,QAAlB7F,KAAKoL,WACVK,GAAa,GAEVA,CACX,EACAN,EAAU1L,UAAUuM,oBAAsB,SAAUC,GAChDjM,KAAKkF,QAAQ+F,aAAa,wBAAyBgB,EACvD,EACAd,EAAU1L,UAAUyM,uBAAyB,WACzClM,KAAKkF,QAAQiH,gBAAgB,wBACjC,EACAhB,EAAU1L,UAAU2M,KAAO,SAAUV,EAAaC,GAC9C5B,EAAoB/J,KAAKkF,QAASlF,KAAK6K,WAAWwB,WAClDrM,KAAKkF,QAAQ+F,aAAa,gBAAiB,QAC3CjL,KAAKqL,QAAS,EACVrL,KAAKyL,WAAWC,EAAaC,KAC7B5B,EAAoB/J,KAAKkF,QAASlF,KAAK6K,WAAWyB,cAClDtM,KAAKsL,WAAY,EAEzB,EACAH,EAAU1L,UAAU8M,MAAQ,WACxBpC,EAAyBnK,KAAKkF,QAASlF,KAAK6K,WAAWwB,WACvDrM,KAAKkF,QAAQ+F,aAAa,gBAAiB,SAC3CjL,KAAKkM,yBACLlM,KAAKqL,QAAS,EAEVrL,KAAKsL,YACLnB,EAAyBnK,KAAKkF,QAASlF,KAAK6K,WAAWyB,cACvDtM,KAAKsL,WAAY,EAEzB,EACAH,EAAU1L,UAAU+M,cAAgB,WAChCzC,EAAoB/J,KAAKkF,QAASlF,KAAK6K,WAAW4B,WACtD,EACAtB,EAAU1L,UAAUiN,iBAAmB,WACnCvC,EAAyBnK,KAAKkF,QAASlF,KAAK6K,WAAW4B,WAC3D,EACAtB,EAAU1L,UAAUkN,OAAS,WACzBxC,EAAyBnK,KAAKkF,QAASlF,KAAK6K,WAAW+B,eACvD5M,KAAKkF,QAAQiH,gBAAgB,iBACzBnM,KAAK6D,OAASL,EAAmBE,WACjC1D,KAAKkF,QAAQ+F,aAAa,WAAY,KAE1CjL,KAAKuL,YAAa,CACtB,EACAJ,EAAU1L,UAAUoN,QAAU,WAC1B9C,EAAoB/J,KAAKkF,QAASlF,KAAK6K,WAAW+B,eAClD5M,KAAKkF,QAAQ+F,aAAa,gBAAiB,QACvCjL,KAAK6D,OAASL,EAAmBE,WACjC1D,KAAKkF,QAAQ+F,aAAa,WAAY,MAE1CjL,KAAKuL,YAAa,CACtB,EACAJ,EAAU1L,UAAUqN,KAAO,SAAU5H,GACjC,IAAIuC,EAAKzH,KAAKkF,QACV6H,EAAa7H,EAAQ6H,WACrBA,IACI7H,EAAQ8H,YACRD,EAAWE,aAAaxF,EAAIvC,EAAQ8H,aAGpCD,EAAWG,YAAYzF,IAG/BA,EAAGyF,YAAYhI,EACnB,EACAiG,EAAU1L,UAAU0N,OAAS,SAAUjI,GACnC,IAAIuC,EAAKzH,KAAKkF,QACV6H,EAAatF,EAAGsF,WAChBA,IAEAA,EAAWE,aAAa/H,EAASuC,GAEjCsF,EAAWhG,YAAYU,GAE/B,EACA0D,EAAU1L,UAAU2N,gBAAkB,WAClCrD,EAAoB/J,KAAKkF,QAASlF,KAAK6K,WAAWwC,cAClDrN,KAAKkF,QAAQ+F,aAAa,YAAa,QACvCjL,KAAKwL,WAAY,CACrB,EACAL,EAAU1L,UAAU6N,mBAAqB,WACrCnD,EAAyBnK,KAAKkF,QAASlF,KAAK6K,WAAWwC,cACvDrN,KAAKkF,QAAQiH,gBAAgB,aAC7BnM,KAAKwL,WAAY,CACrB,EACOL,CACX,CAhH8B,GAkH1BoC,EAAuB,WACvB,SAASA,EAAM1F,GACX,IAAI3C,EAAU2C,EAAG3C,QAASrB,EAAOgE,EAAGhE,KAAMgH,EAAahD,EAAGgD,WAAY2C,EAAe3F,EAAG2F,aACxFxN,KAAKkF,QAAUA,EACflF,KAAK6D,KAAOA,EACZ7D,KAAK6K,WAAaA,EAClB7K,KAAKwN,aAAeA,EACpBxN,KAAKyN,WAAazN,KAAKkF,QAAQwI,YAAYlH,SAASmH,eACpD3N,KAAKuL,WAAarG,EAAQ0I,SAC1B5N,KAAK6N,SAAW7N,KAAK6N,SAASC,KAAK9N,MACnCA,KAAK+N,SAAW/N,KAAK+N,SAASD,KAAK9N,MACnCA,KAAKgO,SAAWhO,KAAKgO,SAASF,KAAK9N,MACnCA,KAAKiO,QAAUjO,KAAKiO,QAAQH,KAAK9N,KACrC,CAkGA,OAjGAZ,OAAO8O,eAAeX,EAAM9N,UAAW,cAAe,CAClD0O,IAAK,SAAUC,GACXpO,KAAKkF,QAAQkJ,YAAcA,CAC/B,EACAC,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAeX,EAAM9N,UAAW,QAAS,CAC5C8O,IAAK,WACD,OAAOvO,KAAKkF,QAAQkB,KACxB,EACA+H,IAAK,SAAU/H,GACXpG,KAAKkF,QAAQkB,MAAQA,CACzB,EACAiI,YAAY,EACZC,cAAc,IAElBf,EAAM9N,UAAU+O,kBAAoB,WAChC,IAAI/G,EAAKzH,KAAKkF,QACduC,EAAGgH,iBAAiB,QAASzO,KAAK6N,UAClCpG,EAAGgH,iBAAiB,QAASzO,KAAK+N,SAAU,CACxCW,SAAS,IAEbjH,EAAGgH,iBAAiB,QAASzO,KAAKgO,SAAU,CACxCU,SAAS,IAEbjH,EAAGgH,iBAAiB,OAAQzO,KAAKiO,QAAS,CACtCS,SAAS,GAEjB,EACAnB,EAAM9N,UAAUkP,qBAAuB,WACnC,IAAIlH,EAAKzH,KAAKkF,QACduC,EAAGmH,oBAAoB,QAAS5O,KAAK+N,UACrCtG,EAAGmH,oBAAoB,QAAS5O,KAAK6N,UACrCpG,EAAGmH,oBAAoB,QAAS5O,KAAKgO,UACrCvG,EAAGmH,oBAAoB,OAAQ5O,KAAKiO,QACxC,EACAV,EAAM9N,UAAUkN,OAAS,WACZ3M,KAAKkF,QACXiH,gBAAgB,YACnBnM,KAAKuL,YAAa,CACtB,EACAgC,EAAM9N,UAAUoN,QAAU,WACb7M,KAAKkF,QACX+F,aAAa,WAAY,IAC5BjL,KAAKuL,YAAa,CACtB,EACAgC,EAAM9N,UAAUoP,MAAQ,WACf7O,KAAKyN,YACNzN,KAAKkF,QAAQ2J,OAErB,EACAtB,EAAM9N,UAAUqP,KAAO,WACf9O,KAAKyN,YACLzN,KAAKkF,QAAQ4J,MAErB,EACAvB,EAAM9N,UAAUsP,MAAQ,SAAUC,GAM9B,YALiB,IAAbA,IAAuBA,GAAW,GACtChP,KAAKkF,QAAQkB,MAAQ,GACjB4I,GACAhP,KAAKgP,WAEFhP,IACX,EAKAuN,EAAM9N,UAAUuP,SAAW,WAEvB,IAAI9J,EAAUlF,KAAKkF,QACnBA,EAAQ+J,MAAMC,SAAW,GAAG/N,OAAO+D,EAAQkJ,YAAY1N,OAAS,EAAG,MACnEwE,EAAQ+J,MAAME,MAAQ,GAAGhO,OAAO+D,EAAQkB,MAAM1F,OAAS,EAAG,KAC9D,EACA6M,EAAM9N,UAAUuM,oBAAsB,SAAUC,GAC5CjM,KAAKkF,QAAQ+F,aAAa,wBAAyBgB,EACvD,EACAsB,EAAM9N,UAAUyM,uBAAyB,WACrClM,KAAKkF,QAAQiH,gBAAgB,wBACjC,EACAoB,EAAM9N,UAAUsO,SAAW,WACnB/N,KAAK6D,OAASL,EAAmBE,WACjC1D,KAAKgP,UAEb,EACAzB,EAAM9N,UAAUoO,SAAW,SAAUhF,GAC7B7I,KAAKwN,cACL3E,EAAMuG,gBAEd,EACA7B,EAAM9N,UAAUuO,SAAW,WACvBhO,KAAKyN,YAAa,CACtB,EACAF,EAAM9N,UAAUwO,QAAU,WACtBjO,KAAKyN,YAAa,CACtB,EACOF,CACX,CAhH0B,GAkHtB8B,EAAkB,EAElBC,EAAsB,WACtB,SAASA,EAAKzH,GACV,IAAI3C,EAAU2C,EAAG3C,QACjBlF,KAAKkF,QAAUA,EACflF,KAAKuP,UAAYvP,KAAKkF,QAAQc,UAC9BhG,KAAKwP,OAASxP,KAAKkF,QAAQe,YAC/B,CA+DA,OA9DAqJ,EAAK7P,UAAUgQ,QAAU,SAAUC,GAC/B,IAAIC,EAAQ3P,KAAKkF,QAAQ0K,kBACrBD,EACA3P,KAAKkF,QAAQ+H,aAAayC,EAAMC,GAGhC3P,KAAKkF,QAAQ2K,OAAOH,EAE5B,EACAJ,EAAK7P,UAAUqQ,YAAc,WACzB9P,KAAKkF,QAAQc,UAAY,CAC7B,EACAsJ,EAAK7P,UAAUsQ,qBAAuB,SAAU7K,EAASQ,GACrD,IAAIsK,EAAQhQ,KACZ,GAAKkF,EAAL,CAGA,IAAI+K,EAAajQ,KAAKkF,QAAQe,aAE1BiK,EAAqBlQ,KAAKkF,QAAQc,UAAYiK,EAC9CE,EAAgBjL,EAAQe,aAExBmK,EAAalL,EAAQgB,UAAYiK,EAEjCE,EAAc3K,EAAY,EAAI1F,KAAKkF,QAAQc,UAAYoK,EAAaF,EAAqBhL,EAAQgB,UACrGoK,uBAAsB,WAClBN,EAAMO,eAAeF,EAAa3K,EACtC,GAXA,CAYJ,EACA4J,EAAK7P,UAAU+Q,YAAc,SAAUjB,EAAWkB,EAAUJ,GACxD,IAAIK,GAAUL,EAAcd,GAAakB,EACrCE,EAAWD,EAAS,EAAIA,EAAS,EACrC1Q,KAAKkF,QAAQc,UAAYuJ,EAAYoB,CACzC,EACArB,EAAK7P,UAAUmR,UAAY,SAAUrB,EAAWkB,EAAUJ,GACtD,IAAIK,GAAUnB,EAAYc,GAAeI,EACrCE,EAAWD,EAAS,EAAIA,EAAS,EACrC1Q,KAAKkF,QAAQc,UAAYuJ,EAAYoB,CACzC,EACArB,EAAK7P,UAAU8Q,eAAiB,SAAUF,EAAa3K,GACnD,IAAIsK,EAAQhQ,KACRyQ,EAAWpB,EACXwB,EAAsB7Q,KAAKkF,QAAQc,UACnC8K,GAAoB,EACpBpL,EAAY,GACZ1F,KAAKwQ,YAAYK,EAAqBJ,EAAUJ,GAC5CQ,EAAsBR,IACtBS,GAAoB,KAIxB9Q,KAAK4Q,UAAUC,EAAqBJ,EAAUJ,GAC1CQ,EAAsBR,IACtBS,GAAoB,IAGxBA,GACAR,uBAAsB,WAClBN,EAAMO,eAAeF,EAAa3K,EACtC,GAER,EACO4J,CACX,CAtEyB,GAwErByB,EAAgC,WAChC,SAASA,EAAelJ,GACpB,IAAI3C,EAAU2C,EAAG3C,QAAS2F,EAAahD,EAAGgD,WAC1C7K,KAAKkF,QAAUA,EACflF,KAAK6K,WAAaA,EAClB7K,KAAKuL,YAAa,CACtB,CAsEA,OArEAnM,OAAO8O,eAAe6C,EAAetR,UAAW,WAAY,CACxD8O,IAAK,WACD,MAAuC,WAAhCvO,KAAKkF,QAAQ8L,QAAQ5O,MAChC,EACAiM,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAe6C,EAAetR,UAAW,MAAO,CACnD8O,IAAK,WACD,OAAOvO,KAAKkF,QAAQ+L,GACxB,EACA5C,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAe6C,EAAetR,UAAW,QAAS,CACrD8O,IAAK,WACD,OAAOvO,KAAKkF,QAAQkB,KACxB,EACA+H,IAAK,SAAU/H,GACXpG,KAAKkF,QAAQ+F,aAAa,QAAS7E,GACnCpG,KAAKkF,QAAQkB,MAAQA,CACzB,EACAiI,YAAY,EACZC,cAAc,IAElByC,EAAetR,UAAUyR,QAAU,WAC/B,IAAIzJ,EAAKzH,KAAKkF,QAEd6E,EAAoBtC,EAAIzH,KAAK6K,WAAWsG,OACxC1J,EAAG2J,QAAS,EAEZ3J,EAAG4J,UAAY,EAEf,IAAIC,EAAY7J,EAAG8J,aAAa,SAC5BD,GACA7J,EAAGwD,aAAa,yBAA0BqG,GAE9C7J,EAAGwD,aAAa,cAAe,SACnC,EACA8F,EAAetR,UAAU+R,OAAS,WAC9B,IAAI/J,EAAKzH,KAAKkF,QAEdiF,EAAyB1C,EAAIzH,KAAK6K,WAAWsG,OAC7C1J,EAAG2J,QAAS,EACZ3J,EAAG0E,gBAAgB,YAEnB,IAAImF,EAAY7J,EAAG8J,aAAa,0BAC5BD,GACA7J,EAAG0E,gBAAgB,0BACnB1E,EAAGwD,aAAa,QAASqG,IAGzB7J,EAAG0E,gBAAgB,SAEvB1E,EAAG0E,gBAAgB,cACvB,EACA4E,EAAetR,UAAUkN,OAAS,WAC9B3M,KAAKkF,QAAQiH,gBAAgB,YAC7BnM,KAAKkF,QAAQ0I,UAAW,EACxB5N,KAAKuL,YAAa,CACtB,EACAwF,EAAetR,UAAUoN,QAAU,WAC/B7M,KAAKkF,QAAQ+F,aAAa,WAAY,IACtCjL,KAAKkF,QAAQ0I,UAAW,EACxB5N,KAAKuL,YAAa,CACtB,EACAwF,EAAetR,UAAUgS,aAAe,SAAUC,EAAWC,GACzDhJ,EAAc3I,KAAKkF,QAASwM,EAAWC,GAAQ,CAAC,EACpD,EACOZ,CACX,CA7EmC,GA+E/Ba,EAA8B,SAAUC,GAExC,SAASD,IACL,OAAkB,OAAXC,GAAmBA,EAAOlR,MAAMX,KAAMS,YAAcT,IAC/D,CACA,OAJAJ,EAAUgS,EAAcC,GAIjBD,CACX,CANiC,CAM/Bb,GAEEe,EAAa,SAAUC,EAAKC,GAE5B,YADqB,IAAjBA,IAA2BA,GAAe,QACxB,IAARD,EAAsBC,IAAiBD,CACzD,EACIE,EAAoB,SAAUd,GAK9B,GAJqB,iBAAVA,IAEPA,EAAQA,EAAMe,MAAM,KAAK3I,QAAO,SAAUjJ,GAAK,OAAOA,EAAEI,MAAQ,KAEhEnB,MAAMoK,QAAQwH,IAAUA,EAAMzQ,OAC9B,OAAOyQ,CAGf,EACIgB,EAAmB,SAAU/L,EAAOgM,EAAYC,GAEhD,QADuB,IAAnBA,IAA6BA,GAAiB,GAC7B,iBAAVjM,EAAoB,CAC3B,IAAIkM,EAAiBnM,EAASC,GAO9B,OALe+L,EAAiB,CAC5B/L,MAAOA,EACP4B,MAHYqK,GAAkBC,IAAmBlM,EAAQA,EAAQ,CAAEiB,QAASiL,EAAgBjM,IAAKD,GAIjGmM,UAAU,IACX,EAEP,CACA,IAAIC,EAAgBpM,EACpB,GAAI,YAAaoM,EAAe,CAC5B,IAAKJ,EAED,MAAM,IAAIvS,UAAU,2BAExB,IAAIuE,EAAQoO,EACRC,EAAUrO,EAAMqO,QAAQ3I,KAAI,SAAUW,GAAK,OAAO0H,EAAiB1H,GAAG,EAAQ,IASlF,MARe,CACXrF,GAAI,EACJgB,MAAOhC,EAAMgC,MACb4B,MAAOb,EAAmB/C,EAAM4D,QAAU5D,EAAMgC,MAChDlC,SAAUuO,EAAQ/R,OAClBkN,WAAYxJ,EAAMwJ,SAClB6E,QAASA,EAGjB,CACA,IAAIrQ,EAASoQ,EAiBb,MAhBa,CACTpN,GAAI,EACJhB,MAAO,KACPsO,MAAO,EACPhK,KAAM,EACNtC,MAAOhE,EAAOgE,MACd4B,MAAO5F,EAAO4F,OAAS5F,EAAOgE,MAC9BlC,OAAQ4N,EAAW1P,EAAO8B,QAC1BqO,SAAUT,EAAW1P,EAAOmQ,UAAU,GACtC3E,SAAUkE,EAAW1P,EAAOwL,UAAU,GACtCQ,YAAa0D,EAAW1P,EAAOgM,aAAa,GAC5C7J,aAAa,EACboO,WAAYV,EAAkB7P,EAAOuQ,YACrCC,iBAAkBxQ,EAAOwQ,iBACzBtI,iBAAkBlI,EAAOkI,iBAGjC,EAEIuI,EAAqB,SAAUpI,GAAK,MAAqB,UAAdA,EAAEqI,OAAqB,EAClEC,EAAsB,SAAUtI,GAAK,MAAqB,WAAdA,EAAEqI,OAAsB,EACpEE,EAAe,SAAUvI,GAAK,MAAqB,WAAdA,EAAEqI,OAAsB,EAC7DG,GAAiB,SAAUxI,GAAK,MAAqB,aAAdA,EAAEqI,OAAwB,EAEjEI,GAA+B,SAAUrB,GAEzC,SAASqB,EAAcrL,GACnB,IAAI3C,EAAU2C,EAAG3C,QAAS2F,EAAahD,EAAGgD,WAAYsI,EAAWtL,EAAGsL,SAAUC,EAAqBvL,EAAGuL,mBAClGpD,EAAQ6B,EAAOlS,KAAKK,KAAM,CAAEkF,QAASA,EAAS2F,WAAYA,KAAiB7K,KAG/E,OAFAgQ,EAAMmD,SAAWA,EACjBnD,EAAMoD,mBAAqBA,EACpBpD,CACX,CAgFA,OAvFApQ,EAAUsT,EAAerB,GAQzBzS,OAAO8O,eAAegF,EAAczT,UAAW,oBAAqB,CAChE8O,IAAK,WACD,OAAQvO,KAAKkF,QAAQmO,cAAc,qBAE/BrT,KAAKkF,QAAQmO,cAAc,sBACnC,EACAhF,YAAY,EACZC,cAAc,IAElB4E,EAAczT,UAAU6T,WAAa,SAAUb,GAC3C,IAAIzC,EAAQhQ,KACRuT,EAAW/M,SAASgN,yBACxBf,EAAQgB,SAAQ,SAAUC,GACtB,IAAItR,EAASsR,EACb,IAAItR,EAAO8C,QAAX,CAGA,IAAI2E,EAASmG,EAAMmD,SAAS/Q,GAC5BmR,EAASrG,YAAYrD,GACrBzH,EAAO8C,QAAU2E,CAHjB,CAIJ,IACA7J,KAAKkF,QAAQgI,YAAYqG,EAC7B,EACAL,EAAczT,UAAUkU,iBAAmB,WACvC,IAAI3D,EAAQhQ,KACRyS,EAAU,GAUd,OATAzS,KAAKkF,QAAQ0O,iBAAiB,sCAAsCH,SAAQ,SAAUhJ,GAC9EuI,EAAavI,GACbgI,EAAQoB,KAAK7D,EAAM8D,gBAAgBrJ,IAE9BwI,GAAexI,IACpBgI,EAAQoB,KAAK7D,EAAM+D,kBAAkBtJ,GAG7C,IACOgI,CACX,EAEAS,EAAczT,UAAUqU,gBAAkB,SAAUjK,GAMhD,OAJKA,EAAOmK,aAAa,UAAYnK,EAAOmK,aAAa,iBACrDnK,EAAOoB,aAAa,QAAS,IAC7BpB,EAAOzD,MAAQ,IAEZ,CACHhB,GAAI,EACJhB,MAAO,KACPsO,MAAO,EACPhK,KAAM,EACNtC,MAAOyD,EAAOzD,MAGd4B,MAAO6B,EAAO7B,MACd9C,QAAS2E,EACT3F,QAAQ,EAERqO,SAAUvS,KAAKoT,mBAAqBvJ,EAAO0I,SAAW1I,EAAOmK,aAAa,YAC1EpG,SAAU/D,EAAO+D,SACjBrJ,aAAa,EACb6J,YAAapO,KAAKoT,sBAAwBvJ,EAAOzD,OAASyD,EAAOmK,aAAa,gBAC9ErB,gBAAiD,IAA9B9I,EAAOmH,QAAQ2B,WAA6BV,EAAkBpI,EAAOmH,QAAQ2B,iBAAcsB,EAC9GrB,sBAA6D,IAApC/I,EAAOmH,QAAQ4B,iBAAmC/I,EAAOmH,QAAQ4B,sBAAmBqB,EAC7G3J,iBAAkBD,EAAsBR,EAAOmH,QAAQ1G,kBAE/D,EACA4I,EAAczT,UAAUsU,kBAAoB,SAAUG,GAClD,IAAIlE,EAAQhQ,KACRmU,EAAUD,EAASN,iBAAiB,UACpCnB,EAAUlT,MAAMuB,KAAKqT,GAASrK,KAAI,SAAUD,GAAU,OAAOmG,EAAM8D,gBAAgBjK,EAAS,IAChG,MAAO,CACHzE,GAAI,EACJ4C,MAAOkM,EAASlM,OAAS,GACzB5B,MAAO8N,EAAS3C,aAAa,UAAY,GACzCrM,QAASgP,EACThQ,SAAUuO,EAAQ/R,OAClBkN,SAAUsG,EAAStG,SACnB6E,QAASA,EAEjB,EACOS,CACX,CAzFkC,CAyFhCnC,GAiCEqD,GAAiB,CACjBC,MAAO,GACP5B,QAAS,GACT6B,QAAQ,EACRC,mBAAoB,EACpBC,cAAe,EACfC,sBAAuB,OACvBC,0BAA0B,EAC1BC,YAAY,EACZC,UAAU,EACVC,cAAe,SAAUzO,GAAS,QAASA,GAAmB,KAAVA,CAAc,EAClE0O,aAAa,EACbC,kBAAkB,EAClBC,2BAA2B,EAC3BC,WAAW,EACX1N,WAAW,EACX2N,oBAAoB,EACpBC,uBAAuB,EACvBC,UAAW,IACXC,OAAO,EACPC,eAAe,EACfC,eAAe,EACfC,YAAa,EACbC,kBAAmB,EACnBC,aAAc,CAAC,QAAS,SACxBtK,SAAU,OACVuK,qBAAqB,EACrBC,YAAY,EACZC,iBAAiB,EACjBC,OAAQlO,EACRmO,WAAY,KACZ3H,aAAa,EACb4H,iBAAkB,KAClBC,uBAAwB,KACxBC,aAAc,KACdC,YAAa,KACbC,sBAAuB,OACvBC,YAAa,aACbC,cAAe,mBACfC,cAAe,4BACfC,eAAgB,kBAChBC,eAAgB,kCAChBC,kBAAmB,wDACnBC,YAAa,SAAUvQ,GAAS,MAAO,0BAA2BjF,OAAOiF,EAAO,QAAW,EAC3FwQ,mBAAoB,WAAc,MAAO,aAAe,EACxDC,oBAAqB,SAAUzQ,GAAS,MAAO,gBAAgBjF,OAAOiF,EAAQ,EAC9E0Q,YAAa,SAAUtC,GAAgB,MAAO,QAAQrT,OAAOqT,EAAc,uBAAyB,EACpGuC,cAAe,SAAUC,EAAQ/O,GAAU,OAAO+O,IAAW/O,CAAQ,EACrEgP,YAAa,CACTC,cAAc,GAElBC,QAAS,GACTC,eAAgB,KAChBC,0BAA2B,KAC3BxM,WArFqB,CACrByM,eAAgB,CAAC,WACjBC,eAAgB,CAAC,kBACjBpG,MAAO,CAAC,kBACRqG,YAAa,CAAC,yBAA0B,gBACxCC,KAAM,CAAC,iBACPC,UAAW,CAAC,2BACZC,WAAY,CAAC,yBACbC,aAAc,CAAC,2BACfvT,KAAM,CAAC,iBACPwT,eAAgB,CAAC,6BACjBC,aAAc,CAAC,2BACfC,WAAY,CAAC,yBACbC,YAAa,CAAC,wBACd5J,YAAa,CAAC,wBACdhK,MAAO,CAAC,kBACR6T,aAAc,CAAC,oBACfC,OAAQ,CAAC,6BACTlN,YAAa,CAAC,aACdyB,WAAY,CAAC,cACbJ,UAAW,CAAC,WACZO,cAAe,CAAC,eAChBuL,iBAAkB,CAAC,kBACnBC,cAAe,CAAC,eAChB9L,aAAc,CAAC,cACfe,aAAc,CAAC,cACfgL,OAAQ,CAAC,mBACTzU,UAAW,CAAC,4BAA6B,cACzC0U,UAAW,CAAC,kBACZC,UAAW,CAAC,mBAyDZC,qBAAqB,GAGrBjW,GAAa,SAAU8B,GACvB,IAAIsG,EAAStG,EAAKsG,OACdA,IACAA,EAAOP,SACP/F,EAAKsG,YAASsJ,EAEtB,EACA,SAASI,GAAM/T,EAAGmY,EAAQC,GACtB,IAAIC,EAAQrY,EACRsY,GAAS,EACb,OAAQH,EAAO5U,MACX,KAAKvC,EAAWO,SACZ4W,EAAOpU,KAAKkO,UAAW,GACnB9K,EAAKgR,EAAOpU,KAAKa,WAEjBuC,EAAG8K,UAAW,EACd9K,EAAGwD,aAAa,WAAY,KAEhC0N,EAAM9E,KAAK4E,EAAOpU,MAClB,MAEJ,KAAK/C,EAAWQ,YAEZ,IAAI2F,EACJ,GAFAgR,EAAOpU,KAAKkO,UAAW,EACnB9K,EAAKgR,EAAOpU,KAAKa,QACb,CACJuC,EAAG8K,UAAW,EACd9K,EAAG0E,gBAAgB,YAEnB,IAAI0M,EAASpR,EAAGqR,cACZD,GAAU9F,EAAoB8F,IAAWA,EAAOhV,OAASL,EAAmBE,YAC5EmV,EAAOzS,MAAQ,GAEvB,CAEA7D,GAAWkW,EAAOpU,MAClBsU,EAAQA,EAAMpP,QAAO,SAAUnH,GAAU,OAAOA,EAAOgD,KAAOqT,EAAOpU,KAAKe,EAAI,IAC9E,MAEJ,KAAK9D,EAAWE,cACZe,GAAWkW,EAAOrW,QAClBuW,EAAQA,EAAMpP,QAAO,SAAUlF,GAAQ,OAAOA,EAAKe,KAAOqT,EAAOrW,OAAOgD,EAAI,IAC5E,MAEJ,KAAK9D,EAAWS,eACZ,IAAIwC,EAAckU,EAAOlU,YACrBF,EAAOsU,EAAMI,MAAK,SAAUrF,GAAO,OAAOA,EAAItO,KAAOqT,EAAOpU,KAAKe,EAAI,IACrEf,GAAQA,EAAKE,cAAgBA,IAC7BF,EAAKE,YAAcA,EACfmU,GACAhO,EAAgBrG,EAAME,EAAcmU,EAAQ7N,WAAWsN,iBAAmBO,EAAQ7N,WAAWuN,cAAe7T,EAAcmU,EAAQ7N,WAAWuN,cAAgBM,EAAQ7N,WAAWsN,mBAGxL,MAEJ,QACIS,GAAS,EAIjB,MAAO,CAAED,MAAOA,EAAOC,OAAQA,EACnC,CAEA,SAASI,GAAO1Y,EAAGmY,GACf,IAAIE,EAAQrY,EACRsY,GAAS,EACb,OAAQH,EAAO5U,MACX,KAAKvC,EAAWM,UACZ+W,EAAM9E,KAAK4E,EAAOrU,OAClB,MAEJ,KAAK9C,EAAWK,cACZgX,EAAQ,GACR,MAEJ,QACIC,GAAS,EAIjB,MAAO,CAAED,MAAOA,EAAOC,OAAQA,EACnC,CAGA,SAASnG,GAAQnS,EAAGmY,EAAQC,GACxB,IAAIC,EAAQrY,EACRsY,GAAS,EACb,OAAQH,EAAO5U,MACX,KAAKvC,EAAWC,WACZoX,EAAM9E,KAAK4E,EAAOrW,QAClB,MAEJ,KAAKd,EAAWE,cACZiX,EAAOrW,OAAO6W,cAAWhF,EACrBwE,EAAOrW,OAAOgC,QACdqU,EAAOrW,OAAOgC,MAAMqO,QAAUgG,EAAOrW,OAAOgC,MAAMqO,QAAQlJ,QAAO,SAAUmK,GAAO,OAAOA,EAAItO,KAAOqT,EAAOrW,OAAOgD,EAAI,KAE1HuT,EAAQA,EAAMpP,QAAO,SAAUmK,GAAO,OAAOA,EAAItO,KAAOqT,EAAOrW,OAAOgD,EAAI,IAC1E,MAEJ,KAAK9D,EAAWO,SAChB,KAAKP,EAAWQ,YACZ2W,EAAOpU,KAAK4U,cAAWhF,EACvB,MAEJ,KAAK3S,EAAWG,eAEZ,IAAIyX,EAAgB,GACpBT,EAAOzU,QAAQyP,SAAQ,SAAU0F,GAC7BD,EAAcC,EAAO9U,KAAKe,IAAM+T,CACpC,IACAR,EAAMlF,SAAQ,SAAUrR,GACpB,IAAI+W,EAASD,EAAc9W,EAAOgD,SACnB6O,IAAXkF,GACA/W,EAAOsQ,MAAQyG,EAAOzG,MACtBtQ,EAAOsG,KAAOyQ,EAAOzQ,KACrBtG,EAAO8B,QAAS,IAGhB9B,EAAOsQ,MAAQ,EACftQ,EAAOsG,KAAO,EACdtG,EAAO8B,QAAS,GAEhBwU,GAAWA,EAAQF,sBACnBpW,EAAO6W,cAAWhF,EAE1B,IACA,MAEJ,KAAK3S,EAAWI,iBACZiX,EAAMlF,SAAQ,SAAUrR,GACpBA,EAAO8B,OAASuU,EAAOvU,OACnBwU,GAAWA,EAAQF,sBACnBpW,EAAO6W,cAAWhF,EAE1B,IACA,MAEJ,KAAK3S,EAAWK,cACZgX,EAAQ,GACR,MAEJ,QACIC,GAAS,EAIjB,MAAO,CAAED,MAAOA,EAAOC,OAAQA,EACnC,CAEA,IAAIQ,GAAW,CACXJ,OAAQA,GACR3E,MAAOA,GACP5B,QAASA,IAET4G,GAAuB,WACvB,SAASA,EAAMX,GACX1Y,KAAKsZ,OAAStZ,KAAKuZ,aACnBvZ,KAAKwZ,WAAa,GAClBxZ,KAAKyZ,KAAO,EACZzZ,KAAK0Z,SAAWhB,CACpB,CA6KA,OA5KAtZ,OAAO8O,eAAemL,EAAM5Z,UAAW,eAAgB,CAEnD8O,IAAK,WACD,MAAO,CACHyK,OAAQ,GACR3E,MAAO,GACP5B,QAAS,GAEjB,EACApE,YAAY,EACZC,cAAc,IAGlB+K,EAAM5Z,UAAUka,UAAY,SAAUC,GAClC,MAAO,CACHZ,OAAQY,EACRvF,MAAOuF,EACPnH,QAASmH,EAEjB,EACAP,EAAM5Z,UAAUoa,MAAQ,WACpB7Z,KAAKsZ,OAAStZ,KAAKuZ,aACnB,IAAIO,EAAU9Z,KAAK2Z,WAAU,GACzB3Z,KAAKyZ,KACLzZ,KAAK+Z,WAAaD,EAGlB9Z,KAAKwZ,WAAW/F,SAAQ,SAAUxS,GAAK,OAAOA,EAAE6Y,EAAU,GAElE,EACAT,EAAM5Z,UAAUua,UAAY,SAAUC,GAElC,OADAja,KAAKwZ,WAAW3F,KAAKoG,GACdja,IACX,EACAqZ,EAAM5Z,UAAUya,SAAW,SAAUzB,GACjC,IAAIzI,EAAQhQ,KACR2Y,EAAQ3Y,KAAKsZ,OACba,GAAa,EACbL,EAAU9Z,KAAK+Z,YAAc/Z,KAAK2Z,WAAU,GAChDva,OAAOgK,KAAKgQ,IAAU3F,SAAQ,SAAU2G,GACpC,IAAIC,EAAcjB,GAASgB,GAAKzB,EAAMyB,GAAM3B,EAAQzI,EAAM0J,UACtDW,EAAYzB,SACZuB,GAAa,EACbL,EAAQM,IAAO,EACfzB,EAAMyB,GAAOC,EAAY1B,MAEjC,IACIwB,IACIna,KAAKyZ,KACLzZ,KAAK+Z,WAAaD,EAGlB9Z,KAAKwZ,WAAW/F,SAAQ,SAAUxS,GAAK,OAAOA,EAAE6Y,EAAU,IAGtE,EACAT,EAAM5Z,UAAU6a,QAAU,SAAUC,GAChCva,KAAKyZ,OACL,IACIc,GACJ,CACA,QAEI,GADAva,KAAKyZ,KAAO9U,KAAKD,IAAI,EAAG1E,KAAKyZ,KAAO,IAC/BzZ,KAAKyZ,KAAM,CACZ,IAAIe,EAAcxa,KAAK+Z,WACnBS,IACAxa,KAAK+Z,gBAAa9F,EAClBjU,KAAKwZ,WAAW/F,SAAQ,SAAUxS,GAAK,OAAOA,EAAEuZ,EAAc,IAEtE,CACJ,CACJ,EACApb,OAAO8O,eAAemL,EAAM5Z,UAAW,QAAS,CAI5C8O,IAAK,WACD,OAAOvO,KAAKsZ,MAChB,EACAjL,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAemL,EAAM5Z,UAAW,QAAS,CAI5C8O,IAAK,WACD,OAAOvO,KAAK2Y,MAAMtE,KACtB,EACAhG,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAemL,EAAM5Z,UAAW,yBAA0B,CAI7D8O,IAAK,WACD,OAAOvO,KAAKqU,MAAM9K,QAAO,SAAUlF,GAAQ,OAAOA,EAAKH,QAAUG,EAAKE,WAAa,GACvF,EACA8J,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAemL,EAAM5Z,UAAW,UAAW,CAI9C8O,IAAK,WACD,OAAOvO,KAAK2Y,MAAMlG,OACtB,EACApE,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAemL,EAAM5Z,UAAW,gBAAiB,CAIpD8O,IAAK,WACD,OAAOvO,KAAKyS,QAAQlJ,QAAO,SAAUnH,GAAU,OAAOA,EAAO8B,MAAQ,GACzE,EACAmK,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAemL,EAAM5Z,UAAW,oBAAqB,CAIxD8O,IAAK,WACD,OAAOvO,KAAKyS,QAAQlJ,QAAO,SAAUnH,GAAU,OAAQA,EAAOwL,WAAaxL,EAAOgM,WAAa,GACnG,EACAC,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAemL,EAAM5Z,UAAW,SAAU,CAI7C8O,IAAK,WACD,OAAOvO,KAAK2Y,MAAMK,MACtB,EACA3K,YAAY,EACZC,cAAc,IAElBlP,OAAO8O,eAAemL,EAAM5Z,UAAW,eAAgB,CAInD8O,IAAK,WACD,IAAIyB,EAAQhQ,KACZ,OAAOA,KAAK2Y,MAAMK,OAAOzP,QAAO,SAAUnF,GACtC,IAAI0G,EAAW1G,EAAMF,SAAWE,EAAMwJ,SAClC6M,EAAmBzK,EAAM2I,MAAMlG,QAAQiI,MAAK,SAAUtY,GAAU,OAAOA,EAAO8B,SAAW9B,EAAOwL,QAAU,IAC9G,OAAO9C,GAAY2P,CACvB,GAAG,GACP,EACApM,YAAY,EACZC,cAAc,IAElB+K,EAAM5Z,UAAUkb,MAAQ,WACpB,OAAO3a,KAAKyZ,KAAO,CACvB,EAIAJ,EAAM5Z,UAAUmb,cAAgB,SAAUxV,GACtC,OAAOpF,KAAK6a,cAAc9B,MAAK,SAAU3W,GAAU,OAAOA,EAAOgD,KAAOA,CAAI,GAChF,EAIAiU,EAAM5Z,UAAUqb,aAAe,SAAU1V,GACrC,OAAOpF,KAAKgZ,OAAOD,MAAK,SAAU3U,GAAS,OAAOA,EAAMgB,KAAOA,CAAI,GACvE,EACOiU,CACX,CApL0B,GAsLtB0B,GAAc,CACdxC,UAAW,aACXD,UAAW,aACX1U,UAAW,aACXoX,QAAS,IAGb,SAASC,GAAgBxQ,EAAGyQ,EAAG7a,GAC7B,OAAQ6a,EAAIC,GAAeD,MAAOzQ,EAAIrL,OAAO8O,eAAezD,EAAGyQ,EAAG,CAChE9U,MAAO/F,EACPgO,YAAY,EACZC,cAAc,EACd8M,UAAU,IACP3Q,EAAEyQ,GAAK7a,EAAGoK,CACjB,CACA,SAAS4Q,GAAQ5Q,EAAGyQ,GAClB,IAAI7a,EAAIjB,OAAOgK,KAAKqB,GACpB,GAAIrL,OAAOkc,sBAAuB,CAChC,IAAIC,EAAInc,OAAOkc,sBAAsB7Q,GACrCyQ,IAAMK,EAAIA,EAAEhS,QAAO,SAAU2R,GAC3B,OAAO9b,OAAOoc,yBAAyB/Q,EAAGyQ,GAAG7M,UAC/C,KAAKhO,EAAEwT,KAAKlT,MAAMN,EAAGkb,EACvB,CACA,OAAOlb,CACT,CACA,SAASob,GAAehR,GACtB,IAAK,IAAIyQ,EAAI,EAAGA,EAAIza,UAAUC,OAAQwa,IAAK,CACzC,IAAI7a,EAAI,MAAQI,UAAUya,GAAKza,UAAUya,GAAK,CAAC,EAC/CA,EAAI,EAAIG,GAAQjc,OAAOiB,IAAI,GAAMoT,SAAQ,SAAUyH,GACjDD,GAAgBxQ,EAAGyQ,EAAG7a,EAAE6a,GAC1B,IAAK9b,OAAOsc,0BAA4Btc,OAAOuc,iBAAiBlR,EAAGrL,OAAOsc,0BAA0Brb,IAAMgb,GAAQjc,OAAOiB,IAAIoT,SAAQ,SAAUyH,GAC7I9b,OAAO8O,eAAezD,EAAGyQ,EAAG9b,OAAOoc,yBAAyBnb,EAAG6a,GACjE,GACF,CACA,OAAOzQ,CACT,CACA,SAASmR,GAAavb,EAAG6a,GACvB,GAAI,iBAAmB7a,IAAMA,EAAG,OAAOA,EACvC,IAAIoK,EAAIpK,EAAEwb,OAAOC,aACjB,QAAI,IAAWrR,EAAG,CAChB,IAAIlK,EAAIkK,EAAE9K,KAAKU,EAAG6a,GAClB,GAAI,iBAAmB3a,EAAG,OAAOA,EACjC,MAAM,IAAIV,UAAU,+CACtB,CACA,OAAQ,WAAaqb,EAAIpb,OAASic,QAAQ1b,EAC5C,CACA,SAAS8a,GAAe9a,GACtB,IAAIE,EAAIqb,GAAavb,EAAG,UACxB,MAAO,iBAAmBE,EAAIA,EAAIA,EAAI,EACxC,CAWA,SAASoJ,GAAQvD,GACf,OAAQ7G,MAAMoK,QAA+CpK,MAAMoK,QAAQvD,GAAjC,mBAAlB4V,GAAO5V,EACjC,CACA,SAAS6V,GAAa7V,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,IAAI+S,EAAS/S,EAAQ,GACrB,MAAiB,KAAV+S,GAAiB,EAAI/S,IAAS,IAAY,KAAO+S,CAC1D,CACA,SAASpU,GAASqB,GAChB,OAAgB,MAATA,EAAgB,GAAK6V,GAAa7V,EAC3C,CACA,SAAS8V,GAAS9V,GAChB,MAAwB,iBAAVA,CAChB,CACA,SAAS+V,GAAS/V,GAChB,MAAwB,iBAAVA,CAChB,CAGA,SAASgW,GAAUhW,GACjB,OAAiB,IAAVA,IAA4B,IAAVA,GAAmBiW,GAAajW,IAA2B,oBAAjB4V,GAAO5V,EAC5E,CACA,SAASkW,GAASlW,GAChB,MAAwB,iBAAVA,CAChB,CAGA,SAASiW,GAAajW,GACpB,OAAOkW,GAASlW,IAAoB,OAAVA,CAC5B,CACA,SAASmW,GAAUnW,GACjB,OAAOA,OACT,CACA,SAASoW,GAAQpW,GACf,OAAQA,EAAMQ,OAAOlG,MACvB,CAIA,SAASsb,GAAO5V,GACd,OAAgB,MAATA,OAA0B6N,IAAV7N,EAAsB,qBAAuB,gBAAkBhH,OAAOK,UAAUsF,SAASpF,KAAKyG,EACvH,CACA,MAAMqW,GAAuB,yBACvBC,GAAuCtC,GAAO,yBAAyBA,IACvEuC,GAA2BjY,GAAO,iCAAiCA,KACnEkY,GAAuBvX,GAAQ,WAAWA,oBAC1CwX,GAA2BzC,GAAO,6BAA6BA,gCAC/D0C,GAAS1d,OAAOK,UAAUC,eAChC,MAAMqd,GACJ,WAAA9c,CAAYmJ,GACVpJ,KAAKgd,MAAQ,GACbhd,KAAKid,QAAU,CAAC,EAChB,IAAIC,EAAc,EAClB9T,EAAKqK,SAAQ2G,IACX,IAAI1G,EAAMyJ,GAAU/C,GACpBpa,KAAKgd,MAAMnJ,KAAKH,GAChB1T,KAAKid,QAAQvJ,EAAItO,IAAMsO,EACvBwJ,GAAexJ,EAAI0J,MAAM,IAI3Bpd,KAAKgd,MAAMvJ,SAAQ2G,IACjBA,EAAIgD,QAAUF,CAAW,GAE7B,CACA,GAAA3O,CAAI8O,GACF,OAAOrd,KAAKid,QAAQI,EACtB,CACA,IAAAjU,GACE,OAAOpJ,KAAKgd,KACd,CACA,MAAAM,GACE,OAAO/S,KAAKgT,UAAUvd,KAAKgd,MAC7B,EAEF,SAASG,GAAU/C,GACjB,IAAIoD,EAAO,KACPpY,EAAK,KACLqY,EAAM,KACNL,EAAS,EACTM,EAAQ,KACZ,GAAIxB,GAAS9B,IAAQzQ,GAAQyQ,GAC3BqD,EAAMrD,EACNoD,EAAOG,GAAcvD,GACrBhV,EAAKwY,GAAYxD,OACZ,CACL,IAAK0C,GAAOnd,KAAKya,EAAK,QACpB,MAAM,IAAIyD,MAAMjB,GAAqB,SAEvC,MAAMvX,EAAO+U,EAAI/U,KAEjB,GADAoY,EAAMpY,EACFyX,GAAOnd,KAAKya,EAAK,YACnBgD,EAAShD,EAAIgD,OACTA,GAAU,GACZ,MAAM,IAAIS,MAAMhB,GAAyBxX,IAG7CmY,EAAOG,GAActY,GACrBD,EAAKwY,GAAYvY,GACjBqY,EAAQtD,EAAIsD,KACd,CACA,MAAO,CACLF,OACApY,KACAgY,SACAK,MACAC,QAEJ,CACA,SAASC,GAAcvD,GACrB,OAAOzQ,GAAQyQ,GAAOA,EAAMA,EAAIlI,MAAM,IACxC,CACA,SAAS0L,GAAYxD,GACnB,OAAOzQ,GAAQyQ,GAAOA,EAAIpV,KAAK,KAAOoV,CACxC,CACA,SAAS7L,GAAImF,EAAK8J,GAChB,IAAI/F,EAAO,GACPqG,GAAM,EACV,MAAMC,EAAU,CAACrK,EAAK8J,EAAMQ,KAC1B,GAAKzB,GAAU7I,GAGf,GAAK8J,EAAKQ,GAGH,CAEL,MAAM5X,EAAQsN,EADJ8J,EAAKQ,IAEf,IAAKzB,GAAUnW,GACb,OAKF,GAAI4X,IAAUR,EAAK9c,OAAS,IAAMwb,GAAS9V,IAAU+V,GAAS/V,IAAUgW,GAAUhW,IAChFqR,EAAK5D,KAAK9O,GAASqB,SACd,GAAIuD,GAAQvD,GAAQ,CACzB0X,GAAM,EAEN,IAAK,IAAIvd,EAAI,EAAG0d,EAAM7X,EAAM1F,OAAQH,EAAI0d,EAAK1d,GAAK,EAChDwd,EAAQ3X,EAAM7F,GAAIid,EAAMQ,EAAQ,EAEpC,MAAWR,EAAK9c,QAEdqd,EAAQ3X,EAAOoX,EAAMQ,EAAQ,EAEjC,MAtBEvG,EAAK5D,KAAKH,EAsBZ,EAKF,OADAqK,EAAQrK,EAAKwI,GAASsB,GAAQA,EAAKtL,MAAM,KAAOsL,EAAM,GAC/CM,EAAMrG,EAAOA,EAAK,EAC3B,CACA,MAAMyG,GAAe,CAInBC,gBAAgB,EAGhBC,gBAAgB,EAEhBC,mBAAoB,GAiBhBC,GAAe,CAEnBC,SAAU,EAGVC,UAAW,GAMX7N,SAAU,KAEN8N,GAAkB,CAEtBC,mBAAmB,EAGnBhB,MAAOnP,GAIPoQ,gBAAgB,EAIhBC,iBAAiB,EAEjBC,gBAAiB,GAEnB,IAAIC,GAASrD,GAAeA,GAAeA,GAAeA,GAAe,CAAC,EA7CrD,CAGnBsD,iBAAiB,EAEjBC,kBAAkB,EAElB9H,cAAc,EAEd9N,KAAM,GAENwM,YAAY,EAEZqJ,OAAQ,CAACxW,EAAGtJ,IAAMsJ,EAAEiK,QAAUvT,EAAEuT,MAAQjK,EAAEyW,IAAM/f,EAAE+f,KAAO,EAAI,EAAIzW,EAAEiK,MAAQvT,EAAEuT,OAAS,EAAI,IAgCAwL,IAAeI,IAAeG,IAC1H,MAAMU,GAAQ,SAId,SAASC,GAAKhC,EAAS,EAAGiC,EAAW,GACnC,MAAMC,EAAQ,IAAIC,IACZC,EAAI7a,KAAK8a,IAAI,GAAIJ,GACvB,MAAO,CACL,GAAA9Q,CAAInI,GACF,MAAMsZ,EAAYtZ,EAAMuZ,MAAMR,IAAOze,OACrC,GAAI4e,EAAMM,IAAIF,GACZ,OAAOJ,EAAM/Q,IAAImR,GAInB,MAAMN,EAAO,EAAIza,KAAK8a,IAAIC,EAAW,GAAMtC,GAGrC5c,EAAIqf,WAAWlb,KAAKmb,MAAMV,EAAOI,GAAKA,GAE5C,OADAF,EAAMnR,IAAIuR,EAAWlf,GACdA,CACT,EACA,KAAAuO,GACEuQ,EAAMvQ,OACR,EAEJ,CACA,MAAMgR,GACJ,WAAA9f,EAAY,MACVyd,EAAQoB,GAAOpB,MAAK,gBACpBmB,EAAkBC,GAAOD,iBACvB,CAAC,GACH7e,KAAKof,KAAOA,GAAKP,EAAiB,GAClC7e,KAAK0d,MAAQA,EACb1d,KAAKggB,WAAY,EACjBhgB,KAAKigB,iBACP,CACA,UAAAC,CAAWC,EAAO,IAChBngB,KAAKmgB,KAAOA,CACd,CACA,eAAAF,CAAgBG,EAAU,IACxBpgB,KAAKogB,QAAUA,CACjB,CACA,OAAAC,CAAQjX,EAAO,IACbpJ,KAAKoJ,KAAOA,EACZpJ,KAAKsgB,SAAW,CAAC,EACjBlX,EAAKqK,SAAQ,CAAC2G,EAAK8E,KACjBlf,KAAKsgB,SAASlG,EAAIhV,IAAM8Z,CAAG,GAE/B,CACA,MAAAhf,IACMF,KAAKggB,WAAchgB,KAAKmgB,KAAKzf,SAGjCV,KAAKggB,WAAY,EAGb9D,GAASlc,KAAKmgB,KAAK,IACrBngB,KAAKmgB,KAAK1M,SAAQ,CAAC8M,EAAKC,KACtBxgB,KAAKygB,WAAWF,EAAKC,EAAS,IAIhCxgB,KAAKmgB,KAAK1M,SAAQ,CAAC8M,EAAKC,KACtBxgB,KAAK0gB,WAAWH,EAAKC,EAAS,IAGlCxgB,KAAKof,KAAKrQ,QACZ,CAEA,GAAA7E,CAAIqW,GACF,MAAMrB,EAAMlf,KAAK2gB,OACbzE,GAASqE,GACXvgB,KAAKygB,WAAWF,EAAKrB,GAErBlf,KAAK0gB,WAAWH,EAAKrB,EAEzB,CAEA,QAAA0B,CAAS1B,GACPlf,KAAKogB,QAAQS,OAAO3B,EAAK,GAGzB,IAAK,IAAI3e,EAAI2e,EAAKjB,EAAMje,KAAK2gB,OAAQpgB,EAAI0d,EAAK1d,GAAK,EACjDP,KAAKogB,QAAQ7f,GAAGA,GAAK,CAEzB,CACA,sBAAAugB,CAAuBzc,EAAMgZ,GAC3B,OAAOhZ,EAAKrE,KAAKsgB,SAASjD,GAC5B,CACA,IAAAsD,GACE,OAAO3gB,KAAKogB,QAAQ1f,MACtB,CACA,UAAA+f,CAAWF,EAAKC,GACd,IAAKjE,GAAUgE,IAAQ/D,GAAQ+D,GAC7B,OAEF,IAAIQ,EAAS,CACXC,EAAGT,EACHhgB,EAAGigB,EACHhgB,EAAGR,KAAKof,KAAK7Q,IAAIgS,IAEnBvgB,KAAKogB,QAAQvM,KAAKkN,EACpB,CACA,UAAAL,CAAWH,EAAKC,GACd,IAAIO,EAAS,CACXxgB,EAAGigB,EACHS,EAAG,CAAC,GAINjhB,KAAKoJ,KAAKqK,SAAQ,CAAC2G,EAAK8G,KACtB,IAAI9a,EAAQgU,EAAIsD,MAAQtD,EAAIsD,MAAM6C,GAAOvgB,KAAK0d,MAAM6C,EAAKnG,EAAIoD,MAC7D,GAAKjB,GAAUnW,GAGf,GAAIuD,GAAQvD,GAAQ,CAClB,IAAI+a,EAAa,GACjB,MAAMC,EAAQ,CAAC,CACbC,gBAAiB,EACjBjb,UAEF,KAAOgb,EAAM1gB,QAAQ,CACnB,MAAM,eACJ2gB,EAAc,MACdjb,GACEgb,EAAME,MACV,GAAK/E,GAAUnW,GAGf,GAAI8V,GAAS9V,KAAWoW,GAAQpW,GAAQ,CACtC,IAAImb,EAAY,CACdP,EAAG5a,EACH7F,EACAC,EAAGR,KAAKof,KAAK7Q,IAAInI,IAEnB+a,EAAWtN,KAAK0N,EAClB,MAAW5X,GAAQvD,IACjBA,EAAMqN,SAAQ,CAACpP,EAAMmd,KACnBJ,EAAMvN,KAAK,CACTwN,eAAgBG,EAChBpb,MAAO/B,GACP,GAGR,CACA0c,EAAOE,EAAEC,GAAYC,CACvB,MAAO,GAAIjF,GAAS9V,KAAWoW,GAAQpW,GAAQ,CAC7C,IAAImb,EAAY,CACdP,EAAG5a,EACH5F,EAAGR,KAAKof,KAAK7Q,IAAInI,IAEnB2a,EAAOE,EAAEC,GAAYK,CACvB,KAEFvhB,KAAKogB,QAAQvM,KAAKkN,EACpB,CACA,MAAAzD,GACE,MAAO,CACLlU,KAAMpJ,KAAKoJ,KACXgX,QAASpgB,KAAKogB,QAElB,EAEF,SAASqB,GAAYrY,EAAM+W,GAAM,MAC/BzC,EAAQoB,GAAOpB,MAAK,gBACpBmB,EAAkBC,GAAOD,iBACvB,CAAC,GACH,MAAM6C,EAAU,IAAI3B,GAAU,CAC5BrC,QACAmB,oBAKF,OAHA6C,EAAQrB,QAAQjX,EAAKU,IAAIqT,KACzBuE,EAAQxB,WAAWC,GACnBuB,EAAQxhB,SACDwhB,CACT,CACA,SAASC,GAAWhQ,GAAM,MACxB+L,EAAQoB,GAAOpB,MAAK,gBACpBmB,EAAkBC,GAAOD,iBACvB,CAAC,GACH,MAAM,KACJzV,EAAI,QACJgX,GACEzO,EACE+P,EAAU,IAAI3B,GAAU,CAC5BrC,QACAmB,oBAIF,OAFA6C,EAAQrB,QAAQjX,GAChBsY,EAAQzB,gBAAgBG,GACjBsB,CACT,CACA,SAASE,GAAeC,GAAS,OAC/BC,EAAS,EAAC,gBACVC,EAAkB,EAAC,iBACnBC,EAAmB,EAAC,SACpBrR,EAAWmO,GAAOnO,SAAQ,eAC1BgO,EAAiBG,GAAOH,gBACtB,CAAC,GACH,MAAMsD,EAAWH,EAASD,EAAQnhB,OAClC,GAAIie,EACF,OAAOsD,EAET,MAAMC,EAAYvd,KAAKwd,IAAIH,EAAmBD,GAC9C,OAAKpR,EAIEsR,EAAWC,EAAYvR,EAFrBuR,EAAY,EAAMD,CAG7B,CACA,SAASG,GAAqBC,EAAY,GAAIhE,EAAqBS,GAAOT,oBACxE,IAAIiE,EAAU,GACVC,GAAS,EACTC,GAAO,EACPjiB,EAAI,EACR,IAAK,IAAI0d,EAAMoE,EAAU3hB,OAAQH,EAAI0d,EAAK1d,GAAK,EAAG,CAChD,IAAIof,EAAQ0C,EAAU9hB,GAClBof,IAAoB,IAAX4C,EACXA,EAAQhiB,EACEof,IAAoB,IAAX4C,IACnBC,EAAMjiB,EAAI,EACNiiB,EAAMD,EAAQ,GAAKlE,GACrBiE,EAAQzO,KAAK,CAAC0O,EAAOC,IAEvBD,GAAS,EAEb,CAMA,OAHIF,EAAU9hB,EAAI,IAAMA,EAAIgiB,GAASlE,GACnCiE,EAAQzO,KAAK,CAAC0O,EAAOhiB,EAAI,IAEpB+hB,CACT,CAGA,MAAMG,GAAW,GACjB,SAASpgB,GAAOqgB,EAAMb,EAASc,GAAiB,SAC9CpE,EAAWO,GAAOP,SAAQ,SAC1B5N,EAAWmO,GAAOnO,SAAQ,UAC1B6N,EAAYM,GAAON,UAAS,eAC5BJ,EAAiBU,GAAOV,eAAc,mBACtCC,EAAqBS,GAAOT,mBAAkB,eAC9CF,EAAiBW,GAAOX,eAAc,eACtCQ,EAAiBG,GAAOH,gBACtB,CAAC,GACH,GAAIkD,EAAQnhB,OAAS+hB,GACnB,MAAM,IAAI5E,MAAMlB,GAAyB8F,KAE3C,MAAMG,EAAaf,EAAQnhB,OAErBmiB,EAAUH,EAAKhiB,OAEfshB,EAAmBrd,KAAKD,IAAI,EAAGC,KAAKF,IAAI8Z,EAAUsE,IAExD,IAAIC,EAAmBtE,EAEnBuE,EAAef,EAInB,MAAMgB,EAAiB3E,EAAqB,GAAKF,EAE3C8E,EAAYD,EAAiBzjB,MAAMsjB,GAAW,GACpD,IAAI7E,EAGJ,MAAQA,EAAQ0E,EAAKlZ,QAAQqY,EAASkB,KAAkB,GAAG,CACzD,IAAIrQ,EAAQkP,GAAeC,EAAS,CAClCE,gBAAiB/D,EACjBgE,mBACArR,WACAgO,mBAIF,GAFAmE,EAAmBne,KAAKF,IAAIiO,EAAOoQ,GACnCC,EAAe/E,EAAQ4E,EACnBI,EAAgB,CAClB,IAAIziB,EAAI,EACR,KAAOA,EAAIqiB,GACTK,EAAUjF,EAAQzd,GAAK,EACvBA,GAAK,CAET,CACF,CAGAwiB,GAAgB,EAChB,IAAIG,EAAa,GACbC,EAAa,EACbC,EAASR,EAAaC,EAC1B,MAAMQ,EAAO,GAAKT,EAAa,EAC/B,IAAK,IAAIriB,EAAI,EAAGA,EAAIqiB,EAAYriB,GAAK,EAAG,CAItC,IAAI+iB,EAAS,EACTC,EAASH,EACb,KAAOE,EAASC,GACA3B,GAAeC,EAAS,CACpCC,OAAQvhB,EACRwhB,gBAAiBC,EAAmBuB,EACpCvB,mBACArR,WACAgO,oBAEWmE,EACXQ,EAASC,EAETH,EAASG,EAEXA,EAAS5e,KAAKC,OAAOwe,EAASE,GAAU,EAAIA,GAI9CF,EAASG,EACT,IAAIhB,EAAQ5d,KAAKD,IAAI,EAAGsd,EAAmBuB,EAAS,GAChDC,EAASpF,EAAiByE,EAAUle,KAAKF,IAAIud,EAAmBuB,EAAQV,GAAWD,EAGnFa,EAASlkB,MAAMikB,EAAS,GAC5BC,EAAOD,EAAS,IAAM,GAAKjjB,GAAK,EAChC,IAAK,IAAImjB,EAAIF,EAAQE,GAAKnB,EAAOmB,GAAK,EAAG,CACvC,IAAI3B,EAAkB2B,EAAI,EACtBC,EAAYhB,EAAgBD,EAAKkB,OAAO7B,IAa5C,GAZIiB,IAEFC,EAAUlB,MAAsB4B,GAIlCF,EAAOC,IAAMD,EAAOC,EAAI,IAAM,EAAI,GAAKC,EAGnCpjB,IACFkjB,EAAOC,KAAOR,EAAWQ,EAAI,GAAKR,EAAWQ,KAAO,EAAI,EAAIR,EAAWQ,EAAI,IAEzED,EAAOC,GAAKL,IACdF,EAAavB,GAAeC,EAAS,CACnCC,OAAQvhB,EACRwhB,kBACAC,mBACArR,WACAgO,mBAKEwE,GAAcL,GAAkB,CAMlC,GAJAA,EAAmBK,EACnBJ,EAAehB,EAGXgB,GAAgBf,EAClB,MAIFO,EAAQ5d,KAAKD,IAAI,EAAG,EAAIsd,EAAmBe,EAC7C,CAEJ,CAUA,GAPcnB,GAAeC,EAAS,CACpCC,OAAQvhB,EAAI,EACZwhB,gBAAiBC,EACjBA,mBACArR,WACAgO,mBAEUmE,EACV,MAEFI,EAAaO,CACf,CACA,MAAMtK,EAAS,CACb0K,QAASd,GAAgB,EAEzBrQ,MAAO/N,KAAKD,IAAI,KAAOye,IAEzB,GAAIH,EAAgB,CAClB,MAAMV,EAAUF,GAAqBa,EAAW5E,GAC3CiE,EAAQ5hB,OAEFyd,IACThF,EAAOmJ,QAAUA,GAFjBnJ,EAAO0K,SAAU,CAIrB,CACA,OAAO1K,CACT,CACA,SAAS2K,GAAsBjC,GAC7B,IAAIwB,EAAO,CAAC,EACZ,IAAK,IAAI9iB,EAAI,EAAG0d,EAAM4D,EAAQnhB,OAAQH,EAAI0d,EAAK1d,GAAK,EAAG,CACrD,MAAMwjB,EAAOlC,EAAQ+B,OAAOrjB,GAC5B8iB,EAAKU,IAASV,EAAKU,IAAS,GAAK,GAAK9F,EAAM1d,EAAI,CAClD,CACA,OAAO8iB,CACT,CACA,MAAMW,GAAkBlkB,OAAOL,UAAUwkB,UAAYvd,GAAOA,EAAIud,UAAU,OAAO3e,QAAQ,ykEAA0kE,IAAMoB,GAAOA,EAChrE,MAAMwd,GACJ,WAAAjkB,CAAY4hB,GAAS,SACnBtD,EAAWO,GAAOP,SAAQ,UAC1BC,EAAYM,GAAON,UAAS,SAC5B7N,EAAWmO,GAAOnO,SAAQ,eAC1BwN,EAAiBW,GAAOX,eAAc,eACtCC,EAAiBU,GAAOV,eAAc,mBACtCC,EAAqBS,GAAOT,mBAAkB,gBAC9CU,EAAkBD,GAAOC,gBAAe,iBACxCC,EAAmBF,GAAOE,iBAAgB,eAC1CL,EAAiBG,GAAOH,gBACtB,CAAC,GAgBH,GAfA3e,KAAKmU,QAAU,CACboK,WACAC,YACA7N,WACAwN,iBACAC,iBACAC,qBACAU,kBACAC,mBACAL,kBAEFkD,EAAU9C,EAAkB8C,EAAUA,EAAQsC,cAC9CtC,EAAU7C,EAAmBgF,GAAgBnC,GAAWA,EACxD7hB,KAAK6hB,QAAUA,EACf7hB,KAAKokB,OAAS,IACTpkB,KAAK6hB,QAAQnhB,OAChB,OAEF,MAAM2jB,EAAW,CAACxC,EAASyC,KACzBtkB,KAAKokB,OAAOvQ,KAAK,CACfgO,UACA0C,SAAUT,GAAsBjC,GAChCyC,cACA,EAEErG,EAAMje,KAAK6hB,QAAQnhB,OACzB,GAAIud,EAAMwE,GAAU,CAClB,IAAIliB,EAAI,EACR,MAAMikB,EAAYvG,EAAMwE,GAClBD,EAAMvE,EAAMuG,EAClB,KAAOjkB,EAAIiiB,GACT6B,EAASrkB,KAAK6hB,QAAQ4C,OAAOlkB,EAAGkiB,IAAWliB,GAC3CA,GAAKkiB,GAEP,GAAI+B,EAAW,CACb,MAAMF,EAAarG,EAAMwE,GACzB4B,EAASrkB,KAAK6hB,QAAQ4C,OAAOH,GAAaA,EAC5C,CACF,MACED,EAASrkB,KAAK6hB,QAAS,EAE3B,CACA,QAAA6C,CAAShC,GACP,MAAM,gBACJ3D,EAAe,iBACfC,EAAgB,eAChBb,GACEne,KAAKmU,QAKT,GAJAuO,EAAO3D,EAAkB2D,EAAOA,EAAKyB,cACrCzB,EAAO1D,EAAmBgF,GAAgBtB,GAAQA,EAG9C1iB,KAAK6hB,UAAYa,EAAM,CACzB,IAAIvJ,EAAS,CACX0K,SAAS,EACTnR,MAAO,GAKT,OAHIyL,IACFhF,EAAOmJ,QAAU,CAAC,CAAC,EAAGI,EAAKhiB,OAAS,KAE/ByY,CACT,CAGA,MAAM,SACJoF,EAAQ,SACR5N,EAAQ,UACR6N,EAAS,eACTJ,EAAc,mBACdC,EAAkB,eAClBM,GACE3e,KAAKmU,QACT,IAAIwQ,EAAa,GACbC,EAAa,EACbC,GAAa,EACjB7kB,KAAKokB,OAAO3Q,SAAQ,EAClBoO,UACA0C,WACAD,iBAEA,MAAM,QACJT,EAAO,MACPnR,EAAK,QACL4P,GACEjgB,GAAOqgB,EAAMb,EAAS0C,EAAU,CAClChG,SAAUA,EAAW+F,EACrB3T,WACA6N,YACAJ,iBACAC,qBACAF,iBACAQ,mBAEEkF,IACFgB,GAAa,GAEfD,GAAclS,EACVmR,GAAWvB,IACbqC,EAAa,IAAIA,KAAerC,GAClC,IAEF,IAAInJ,EAAS,CACX0K,QAASgB,EACTnS,MAAOmS,EAAaD,EAAa5kB,KAAKokB,OAAO1jB,OAAS,GAKxD,OAHImkB,GAAc1G,IAChBhF,EAAOmJ,QAAUqC,GAEZxL,CACT,EAEF,MAAM2L,GACJ,WAAA7kB,CAAY4hB,GACV7hB,KAAK6hB,QAAUA,CACjB,CACA,mBAAOkD,CAAalD,GAClB,OAAOmD,GAASnD,EAAS7hB,KAAKilB,WAChC,CACA,oBAAOC,CAAcrD,GACnB,OAAOmD,GAASnD,EAAS7hB,KAAKmlB,YAChC,CACA,MAAA9iB,GAAkB,EAEpB,SAAS2iB,GAASnD,EAASuD,GACzB,MAAMvf,EAAUgc,EAAQlC,MAAMyF,GAC9B,OAAOvf,EAAUA,EAAQ,GAAK,IAChC,CAIA,MAAMwf,WAAmBP,GACvB,WAAA7kB,CAAY4hB,GACVyD,MAAMzD,EACR,CACA,eAAWhe,GACT,MAAO,OACT,CACA,qBAAWohB,GACT,MAAO,WACT,CACA,sBAAWE,GACT,MAAO,SACT,CACA,MAAA9iB,CAAOqgB,GACL,MAAMmB,EAAUnB,IAAS1iB,KAAK6hB,QAC9B,MAAO,CACLgC,UACAnR,MAAOmR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAGtiB,KAAK6hB,QAAQnhB,OAAS,GAEvC,EAKF,MAAM6kB,WAA0BT,GAC9B,WAAA7kB,CAAY4hB,GACVyD,MAAMzD,EACR,CACA,eAAWhe,GACT,MAAO,eACT,CACA,qBAAWohB,GACT,MAAO,WACT,CACA,sBAAWE,GACT,MAAO,SACT,CACA,MAAA9iB,CAAOqgB,GACL,MACMmB,GAAqB,IADbnB,EAAKlZ,QAAQxJ,KAAK6hB,SAEhC,MAAO,CACLgC,UACAnR,MAAOmR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAGI,EAAKhiB,OAAS,GAE/B,EAKF,MAAM8kB,WAAyBV,GAC7B,WAAA7kB,CAAY4hB,GACVyD,MAAMzD,EACR,CACA,eAAWhe,GACT,MAAO,cACT,CACA,qBAAWohB,GACT,MAAO,YACT,CACA,sBAAWE,GACT,MAAO,UACT,CACA,MAAA9iB,CAAOqgB,GACL,MAAMmB,EAAUnB,EAAK+C,WAAWzlB,KAAK6hB,SACrC,MAAO,CACLgC,UACAnR,MAAOmR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAGtiB,KAAK6hB,QAAQnhB,OAAS,GAEvC,EAKF,MAAMglB,WAAgCZ,GACpC,WAAA7kB,CAAY4hB,GACVyD,MAAMzD,EACR,CACA,eAAWhe,GACT,MAAO,sBACT,CACA,qBAAWohB,GACT,MAAO,aACT,CACA,sBAAWE,GACT,MAAO,WACT,CACA,MAAA9iB,CAAOqgB,GACL,MAAMmB,GAAWnB,EAAK+C,WAAWzlB,KAAK6hB,SACtC,MAAO,CACLgC,UACAnR,MAAOmR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAGI,EAAKhiB,OAAS,GAE/B,EAKF,MAAMilB,WAAyBb,GAC7B,WAAA7kB,CAAY4hB,GACVyD,MAAMzD,EACR,CACA,eAAWhe,GACT,MAAO,cACT,CACA,qBAAWohB,GACT,MAAO,YACT,CACA,sBAAWE,GACT,MAAO,UACT,CACA,MAAA9iB,CAAOqgB,GACL,MAAMmB,EAAUnB,EAAKkD,SAAS5lB,KAAK6hB,SACnC,MAAO,CACLgC,UACAnR,MAAOmR,EAAU,EAAI,EACrBvB,QAAS,CAACI,EAAKhiB,OAASV,KAAK6hB,QAAQnhB,OAAQgiB,EAAKhiB,OAAS,GAE/D,EAKF,MAAMmlB,WAAgCf,GACpC,WAAA7kB,CAAY4hB,GACVyD,MAAMzD,EACR,CACA,eAAWhe,GACT,MAAO,sBACT,CACA,qBAAWohB,GACT,MAAO,aACT,CACA,sBAAWE,GACT,MAAO,WACT,CACA,MAAA9iB,CAAOqgB,GACL,MAAMmB,GAAWnB,EAAKkD,SAAS5lB,KAAK6hB,SACpC,MAAO,CACLgC,UACAnR,MAAOmR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAGI,EAAKhiB,OAAS,GAE/B,EAEF,MAAMolB,WAAmBhB,GACvB,WAAA7kB,CAAY4hB,GAAS,SACnBtD,EAAWO,GAAOP,SAAQ,UAC1BC,EAAYM,GAAON,UAAS,SAC5B7N,EAAWmO,GAAOnO,SAAQ,eAC1BwN,EAAiBW,GAAOX,eAAc,eACtCC,EAAiBU,GAAOV,eAAc,mBACtCC,EAAqBS,GAAOT,mBAAkB,gBAC9CU,EAAkBD,GAAOC,gBAAe,iBACxCC,EAAmBF,GAAOE,iBAAgB,eAC1CL,EAAiBG,GAAOH,gBACtB,CAAC,GACH2G,MAAMzD,GACN7hB,KAAK+lB,aAAe,IAAI7B,GAAYrC,EAAS,CAC3CtD,WACAC,YACA7N,WACAwN,iBACAC,iBACAC,qBACAU,kBACAC,mBACAL,kBAEJ,CACA,eAAW9a,GACT,MAAO,OACT,CACA,qBAAWohB,GACT,MAAO,UACT,CACA,sBAAWE,GACT,MAAO,QACT,CACA,MAAA9iB,CAAOqgB,GACL,OAAO1iB,KAAK+lB,aAAarB,SAAShC,EACpC,EAKF,MAAMsD,WAAqBlB,GACzB,WAAA7kB,CAAY4hB,GACVyD,MAAMzD,EACR,CACA,eAAWhe,GACT,MAAO,SACT,CACA,qBAAWohB,GACT,MAAO,WACT,CACA,sBAAWE,GACT,MAAO,SACT,CACA,MAAA9iB,CAAOqgB,GACL,IACI1E,EADAO,EAAW,EAEf,MAAM+D,EAAU,GACVM,EAAa5iB,KAAK6hB,QAAQnhB,OAGhC,MAAQsd,EAAQ0E,EAAKlZ,QAAQxJ,KAAK6hB,QAAStD,KAAc,GACvDA,EAAWP,EAAQ4E,EACnBN,EAAQzO,KAAK,CAACmK,EAAOO,EAAW,IAElC,MAAMsF,IAAYvB,EAAQ5hB,OAC1B,MAAO,CACLmjB,UACAnR,MAAOmR,EAAU,EAAI,EACrBvB,UAEJ,EAIF,MAAM2D,GAAY,CAACZ,GAAYW,GAAcR,GAAkBE,GAAyBG,GAAyBF,GAAkBJ,GAAmBO,IAChJI,GAAeD,GAAUvlB,OAGzBylB,GAAW,qCACXC,GAAW,IAKjB,SAASC,GAAWxE,EAAS1N,EAAU,CAAC,GACtC,OAAO0N,EAAQ3P,MAAMkU,IAAUtc,KAAIzF,IACjC,IAAIiiB,EAAQjiB,EAAKuC,OAAOsL,MAAMiU,IAAU5c,QAAOlF,GAAQA,KAAUA,EAAKuC,SAClE5C,EAAU,GACd,IAAK,IAAIzD,EAAI,EAAG0d,EAAMqI,EAAM5lB,OAAQH,EAAI0d,EAAK1d,GAAK,EAAG,CACnD,MAAMgmB,EAAYD,EAAM/lB,GAGxB,IAAIimB,GAAQ,EACRtH,GAAO,EACX,MAAQsH,KAAWtH,EAAMgH,IAAc,CACrC,MAAMO,EAAWR,GAAU/G,GAC3B,IAAIwH,EAAQD,EAAS1B,aAAawB,GAC9BG,IACF1iB,EAAQ6P,KAAK,IAAI4S,EAASC,EAAOvS,IACjCqS,GAAQ,EAEZ,CACA,IAAIA,EAMJ,IADAtH,GAAO,IACEA,EAAMgH,IAAc,CAC3B,MAAMO,EAAWR,GAAU/G,GAC3B,IAAIwH,EAAQD,EAASvB,cAAcqB,GACnC,GAAIG,EAAO,CACT1iB,EAAQ6P,KAAK,IAAI4S,EAASC,EAAOvS,IACjC,KACF,CACF,CACF,CACA,OAAOnQ,CAAO,GAElB,CAIA,MAAM2iB,GAAgB,IAAIC,IAAI,CAACd,GAAWjiB,KAAMmiB,GAAaniB,OA8B7D,MAAMgjB,GACJ,WAAA5mB,CAAY4hB,GAAS,gBACnB9C,EAAkBD,GAAOC,gBAAe,iBACxCC,EAAmBF,GAAOE,iBAAgB,eAC1Cb,EAAiBW,GAAOX,eAAc,mBACtCE,EAAqBS,GAAOT,mBAAkB,eAC9CM,EAAiBG,GAAOH,eAAc,eACtCP,EAAiBU,GAAOV,eAAc,SACtCG,EAAWO,GAAOP,SAAQ,UAC1BC,EAAYM,GAAON,UAAS,SAC5B7N,EAAWmO,GAAOnO,UAChB,CAAC,GACH3Q,KAAKsmB,MAAQ,KACbtmB,KAAKmU,QAAU,CACb4K,kBACAC,mBACAb,iBACAE,qBACAD,iBACAO,iBACAJ,WACAC,YACA7N,YAEFkR,EAAU9C,EAAkB8C,EAAUA,EAAQsC,cAC9CtC,EAAU7C,EAAmBgF,GAAgBnC,GAAWA,EACxD7hB,KAAK6hB,QAAUA,EACf7hB,KAAKsmB,MAAQD,GAAWrmB,KAAK6hB,QAAS7hB,KAAKmU,QAC7C,CACA,gBAAO2S,CAAUC,EAAG5S,GAClB,OAAOA,EAAQuK,iBACjB,CACA,QAAAgG,CAAShC,GACP,MAAM4D,EAAQtmB,KAAKsmB,MACnB,IAAKA,EACH,MAAO,CACLzC,SAAS,EACTnR,MAAO,GAGX,MAAM,eACJyL,EAAc,gBACdY,EAAe,iBACfC,GACEhf,KAAKmU,QACTuO,EAAO3D,EAAkB2D,EAAOA,EAAKyB,cACrCzB,EAAO1D,EAAmBgF,GAAgBtB,GAAQA,EAClD,IAAIsE,EAAa,EACbrC,EAAa,GACbC,EAAa,EAGjB,IAAK,IAAIrkB,EAAI,EAAG0mB,EAAOX,EAAM5lB,OAAQH,EAAI0mB,EAAM1mB,GAAK,EAAG,CACrD,MAAM0lB,EAAYK,EAAM/lB,GAGxBokB,EAAWjkB,OAAS,EACpBsmB,EAAa,EAGb,IAAK,IAAItD,EAAI,EAAGwD,EAAOjB,EAAUvlB,OAAQgjB,EAAIwD,EAAMxD,GAAK,EAAG,CACzD,MAAM+C,EAAWR,EAAUvC,IACrB,QACJG,EAAO,QACPvB,EAAO,MACP5P,GACE+T,EAASpkB,OAAOqgB,GACpB,IAAImB,EAWG,CACLe,EAAa,EACboC,EAAa,EACbrC,EAAWjkB,OAAS,EACpB,KACF,CAbE,GAFAsmB,GAAc,EACdpC,GAAclS,EACVyL,EAAgB,CAClB,MAAMta,EAAO4iB,EAASxmB,YAAY4D,KAC9B8iB,GAAc/G,IAAI/b,GACpB8gB,EAAa,IAAIA,KAAerC,GAEhCqC,EAAW9Q,KAAKyO,EAEpB,CAOJ,CAGA,GAAI0E,EAAY,CACd,IAAI7N,EAAS,CACX0K,SAAS,EACTnR,MAAOkS,EAAaoC,GAKtB,OAHI7I,IACFhF,EAAOmJ,QAAUqC,GAEZxL,CACT,CACF,CAGA,MAAO,CACL0K,SAAS,EACTnR,MAAO,EAEX,EAEF,MAAMyU,GAAsB,GAC5B,SAASC,MAAYC,GACnBF,GAAoBtT,QAAQwT,EAC9B,CACA,SAASC,GAAezF,EAAS1N,GAC/B,IAAK,IAAI5T,EAAI,EAAG0d,EAAMkJ,GAAoBzmB,OAAQH,EAAI0d,EAAK1d,GAAK,EAAG,CACjE,IAAIgnB,EAAgBJ,GAAoB5mB,GACxC,GAAIgnB,EAAcT,UAAUjF,EAAS1N,GACnC,OAAO,IAAIoT,EAAc1F,EAAS1N,EAEtC,CACA,OAAO,IAAI+P,GAAYrC,EAAS1N,EAClC,CACA,MAAMqT,GAAkB,CACtBC,IAAK,OACLC,GAAI,OAEAC,GAAU,CACdC,KAAM,QACNC,QAAS,QAELC,GAAexB,MAAYA,EAAMkB,GAAgBC,OAAQnB,EAAMkB,GAAgBE,KAC/EK,GAASzB,KAAWA,EAAMqB,GAAQC,MAClCI,GAAS1B,IAAU3c,GAAQ2c,IAAUhK,GAASgK,KAAWwB,GAAaxB,GACtE2B,GAAoB3B,IAAS,CACjC,CAACkB,GAAgBC,KAAMroB,OAAOgK,KAAKkd,GAAOxc,KAAIsQ,IAAO,CACnD,CAACA,GAAMkM,EAAMlM,SAMjB,SAAS5P,GAAM8b,EAAOnS,GAAS,KAC7B+T,GAAO,GACL,CAAC,GACH,MAAMC,EAAO7B,IACX,IAAIld,EAAOhK,OAAOgK,KAAKkd,GACvB,MAAM8B,EAAcL,GAAOzB,GAC3B,IAAK8B,GAAehf,EAAK1I,OAAS,IAAMonB,GAAaxB,GACnD,OAAO6B,EAAKF,GAAkB3B,IAEhC,GAAI0B,GAAO1B,GAAQ,CACjB,MAAMlM,EAAMgO,EAAc9B,EAAMqB,GAAQC,MAAQxe,EAAK,GAC/CyY,EAAUuG,EAAc9B,EAAMqB,GAAQE,SAAWvB,EAAMlM,GAC7D,IAAK8B,GAAS2F,GACZ,MAAM,IAAIhE,MAAMnB,GAAqCtC,IAEvD,MAAM1G,EAAM,CACV2J,MAAOO,GAAYxD,GACnByH,WAKF,OAHIqG,IACFxU,EAAI+S,SAAWa,GAAezF,EAAS1N,IAElCT,CACT,CACA,IAAIhE,EAAO,CACT5I,SAAU,GACVuhB,SAAUjf,EAAK,IAUjB,OARAA,EAAKqK,SAAQ2G,IACX,MAAMhU,EAAQkgB,EAAMlM,GAChBzQ,GAAQvD,IACVA,EAAMqN,SAAQpP,IACZqL,EAAK5I,SAAS+M,KAAKsU,EAAK9jB,GAAM,GAElC,IAEKqL,CAAI,EAKb,OAHKoY,GAAaxB,KAChBA,EAAQ2B,GAAkB3B,IAErB6B,EAAK7B,EACd,CAGA,SAASgC,GAAatkB,GAAS,gBAC7B4a,EAAkBE,GAAOF,kBAEzB5a,EAAQyP,SAAQ0F,IACd,IAAIyL,EAAa,EACjBzL,EAAOtT,QAAQ4N,SAAQ,EACrB2G,MACAgF,OACA1M,YAEA,MAAM0K,EAAShD,EAAMA,EAAIgD,OAAS,KAClCwH,GAAcjgB,KAAK8a,IAAc,IAAV/M,GAAe0K,EAASrB,OAAOwM,QAAU7V,GAAQ0K,GAAU,IAAMwB,EAAkB,EAAIQ,GAAM,IAEtHjG,EAAOzG,MAAQkS,CAAU,GAE7B,CACA,SAAS4D,GAAiBrP,EAAQxH,GAChC,MAAM9L,EAAUsT,EAAOtT,QACvB8L,EAAK9L,QAAU,GACV0W,GAAU1W,IAGfA,EAAQ4N,SAAQkM,IACd,IAAKpD,GAAUoD,EAAM2C,WAAa3C,EAAM2C,QAAQ5hB,OAC9C,OAEF,MAAM,QACJ4hB,EAAO,MACPlc,GACEuZ,EACJ,IAAIjM,EAAM,CACR4O,UACAlc,SAEEuZ,EAAMvF,MACR1G,EAAI0G,IAAMuF,EAAMvF,IAAIqD,KAElBkC,EAAMT,KAAO,IACfxL,EAAI+U,SAAW9I,EAAMT,KAEvBvN,EAAK9L,QAAQgO,KAAKH,EAAI,GAE1B,CACA,SAASgV,GAAevP,EAAQxH,GAC9BA,EAAKe,MAAQyG,EAAOzG,KACtB,CACA,SAASiW,GAAO3kB,EAASmc,GAAM,eAC7BhC,EAAiBW,GAAOX,eAAc,aACtCjH,EAAe4H,GAAO5H,cACpB,CAAC,GACH,MAAM0R,EAAe,GAGrB,OAFIzK,GAAgByK,EAAa/U,KAAK2U,IAClCtR,GAAc0R,EAAa/U,KAAK6U,IAC7B1kB,EAAQ8F,KAAIqP,IACjB,MAAM,IACJ+F,GACE/F,EACExH,EAAO,CACXtN,KAAM8b,EAAKjB,GACXuJ,SAAUvJ,GAOZ,OALI0J,EAAaloB,QACfkoB,EAAanV,SAAQoV,IACnBA,EAAY1P,EAAQxH,EAAK,IAGtBA,CAAI,GAEf,CACA,MAAMmX,GACJ,WAAA7oB,CAAYkgB,EAAMhM,EAAU,CAAC,EAAG6J,GAC9Bhe,KAAKmU,QAAUsH,GAAeA,GAAe,CAAC,EAAGqD,IAAS3K,GACtDnU,KAAKmU,QAAQuK,kBACjB1e,KAAK+oB,UAAY,IAAIhM,GAAS/c,KAAKmU,QAAQ/K,MAC3CpJ,KAAKgpB,cAAc7I,EAAMnC,EAC3B,CACA,aAAAgL,CAAc7I,EAAMnC,GAElB,GADAhe,KAAKipB,MAAQ9I,EACTnC,KAAWA,aAAiB+B,IAC9B,MAAM,IAAIlC,MAAMpB,IAElBzc,KAAKkpB,SAAWlL,GAASyD,GAAYzhB,KAAKmU,QAAQ/K,KAAMpJ,KAAKipB,MAAO,CAClEvL,MAAO1d,KAAKmU,QAAQuJ,MACpBmB,gBAAiB7e,KAAKmU,QAAQ0K,iBAElC,CACA,GAAA3U,CAAIqW,GACGhE,GAAUgE,KAGfvgB,KAAKipB,MAAMpV,KAAK0M,GAChBvgB,KAAKkpB,SAAShf,IAAIqW,GACpB,CACA,MAAAnW,CAAO+e,EAAY,KAAoB,GACrC,MAAMnlB,EAAU,GAChB,IAAK,IAAIzD,EAAI,EAAG0d,EAAMje,KAAKipB,MAAMvoB,OAAQH,EAAI0d,EAAK1d,GAAK,EAAG,CACxD,MAAMggB,EAAMvgB,KAAKipB,MAAM1oB,GACnB4oB,EAAU5I,EAAKhgB,KACjBP,KAAK4gB,SAASrgB,GACdA,GAAK,EACL0d,GAAO,EACPja,EAAQ6P,KAAK0M,GAEjB,CACA,OAAOvc,CACT,CACA,QAAA4c,CAAS1B,GACPlf,KAAKipB,MAAMpI,OAAO3B,EAAK,GACvBlf,KAAKkpB,SAAStI,SAAS1B,EACzB,CACA,QAAAkK,GACE,OAAOppB,KAAKkpB,QACd,CACA,MAAA7mB,CAAOikB,GAAO,MACZ+C,GAAQ,GACN,CAAC,GACH,MAAM,eACJlL,EAAc,aACdjH,EAAY,WACZtB,EAAU,OACVqJ,EAAM,gBACNL,GACE5e,KAAKmU,QACT,IAAInQ,EAAUkY,GAASoK,GAASpK,GAASlc,KAAKipB,MAAM,IAAMjpB,KAAKspB,kBAAkBhD,GAAStmB,KAAKupB,kBAAkBjD,GAAStmB,KAAKwpB,eAAelD,GAU9I,OATAgC,GAAatkB,EAAS,CACpB4a,oBAEEhJ,GACF5R,EAAQqF,KAAK4V,GAEX9C,GAASkN,IAAUA,GAAS,IAC9BrlB,EAAUA,EAAQ9C,MAAM,EAAGmoB,IAEtBV,GAAO3kB,EAAShE,KAAKipB,MAAO,CACjC9K,iBACAjH,gBAEJ,CACA,iBAAAoS,CAAkBhD,GAChB,MAAMG,EAAWa,GAAehB,EAAOtmB,KAAKmU,UACtC,QACJiM,GACEpgB,KAAKkpB,SACHllB,EAAU,GA6BhB,OA1BAoc,EAAQ3M,SAAQ,EACduN,EAAG0B,EACHniB,EACAC,EAAG4e,MAEH,IAAK7C,GAAUmG,GACb,OAEF,MAAM,QACJmB,EAAO,MACPnR,EAAK,QACL4P,GACEmE,EAAS/B,SAAShC,GAClBmB,GACF7f,EAAQ6P,KAAK,CACXxP,KAAMqe,EACNxD,MACArZ,QAAS,CAAC,CACR6M,QACAtM,MAAOsc,EACPtD,OACAkD,aAGN,IAEKte,CACT,CACA,cAAAwlB,CAAelD,GACb,MAAMmD,EAAajf,GAAM8b,EAAOtmB,KAAKmU,SAC/BuV,EAAW,CAACha,EAAMrL,EAAM6a,KAC5B,IAAKxP,EAAK5I,SAAU,CAClB,MAAM,MACJuW,EAAK,SACLoJ,GACE/W,EACE7J,EAAU7F,KAAK2pB,aAAa,CAChCvP,IAAKpa,KAAK+oB,UAAUxa,IAAI8O,GACxBjX,MAAOpG,KAAKkpB,SAASpI,uBAAuBzc,EAAMgZ,GAClDoJ,aAEF,OAAI5gB,GAAWA,EAAQnF,OACd,CAAC,CACNwe,MACA7a,OACAwB,YAGG,EACT,CACA,MAAM+jB,EAAM,GACZ,IAAK,IAAIrpB,EAAI,EAAG0d,EAAMvO,EAAK5I,SAASpG,OAAQH,EAAI0d,EAAK1d,GAAK,EAAG,CAC3D,MAAMoP,EAAQD,EAAK5I,SAASvG,GACtB4Y,EAASuQ,EAAS/Z,EAAOtL,EAAM6a,GACrC,GAAI/F,EAAOzY,OACTkpB,EAAI/V,QAAQsF,QACP,GAAIzJ,EAAK2Y,WAAab,GAAgBC,IAC3C,MAAO,EAEX,CACA,OAAOmC,CAAG,EAENxJ,EAAUpgB,KAAKkpB,SAAS9I,QACxByJ,EAAY,CAAC,EACb7lB,EAAU,GAyBhB,OAxBAoc,EAAQ3M,SAAQ,EACdwN,EAAG5c,EACH9D,EAAG2e,MAEH,GAAI3C,GAAUlY,GAAO,CACnB,IAAIylB,EAAaJ,EAASD,EAAYplB,EAAM6a,GACxC4K,EAAWppB,SAERmpB,EAAU3K,KACb2K,EAAU3K,GAAO,CACfA,MACA7a,OACAwB,QAAS,IAEX7B,EAAQ6P,KAAKgW,EAAU3K,KAEzB4K,EAAWrW,SAAQ,EACjB5N,cAEAgkB,EAAU3K,GAAKrZ,QAAQgO,QAAQhO,EAAQ,IAG7C,KAEK7B,CACT,CACA,iBAAAulB,CAAkBjD,GAChB,MAAMG,EAAWa,GAAehB,EAAOtmB,KAAKmU,UACtC,KACJ/K,EAAI,QACJgX,GACEpgB,KAAKkpB,SACHllB,EAAU,GA4BhB,OAzBAoc,EAAQ3M,SAAQ,EACdwN,EAAG5c,EACH9D,EAAG2e,MAEH,IAAK3C,GAAUlY,GACb,OAEF,IAAIwB,EAAU,GAGduD,EAAKqK,SAAQ,CAAC2G,EAAK8G,KACjBrb,EAAQgO,QAAQ7T,KAAK2pB,aAAa,CAChCvP,MACAhU,MAAO/B,EAAK6c,GACZuF,aACC,IAED5gB,EAAQnF,QACVsD,EAAQ6P,KAAK,CACXqL,MACA7a,OACAwB,WAEJ,IAEK7B,CACT,CACA,YAAA2lB,EAAa,IACXvP,EAAG,MACHhU,EAAK,SACLqgB,IAEA,IAAKlK,GAAUnW,GACb,MAAO,GAET,IAAIP,EAAU,GACd,GAAI8D,GAAQvD,GACVA,EAAMqN,SAAQ,EACZuN,EAAG0B,EACHniB,EAAG2e,EACH1e,EAAG4e,MAEH,IAAK7C,GAAUmG,GACb,OAEF,MAAM,QACJmB,EAAO,MACPnR,EAAK,QACL4P,GACEmE,EAAS/B,SAAShC,GAClBmB,GACFhe,EAAQgO,KAAK,CACXnB,QACA0H,MACAhU,MAAOsc,EACPxD,MACAE,OACAkD,WAEJ,QAEG,CACL,MACEtB,EAAG0B,EACHliB,EAAG4e,GACDhZ,GACE,QACJyd,EAAO,MACPnR,EAAK,QACL4P,GACEmE,EAAS/B,SAAShC,GAClBmB,GACFhe,EAAQgO,KAAK,CACXnB,QACA0H,MACAhU,MAAOsc,EACPtD,OACAkD,WAGN,CACA,OAAOzc,CACT,EAEFijB,GAAKiB,QAAU,QACfjB,GAAKrH,YAAcA,GACnBqH,GAAKnH,WAAaA,GAClBmH,GAAKkB,OAASlL,GAEZgK,GAAKzC,WAAa7b,GAGlB4c,GAASP,IAGX,IAAIoD,GAA8B,WAC9B,SAASA,EAAaD,GAClBhqB,KAAKkqB,UAAY,GACjBlqB,KAAKmqB,aAAehqB,EAASA,EAAS,CAAC,EAAG6pB,EAAO/S,aAAc,CAAE7N,KAAMxI,EAAc,GAAIopB,EAAOtU,cAAc,GAAOyI,gBAAgB,GACzI,CA6BA,OA5BA8L,EAAaxqB,UAAUue,MAAQ,SAAUrM,GACrC3R,KAAKkqB,UAAYvY,EACb3R,KAAKoqB,OACLpqB,KAAKoqB,MAAMpB,cAAcrX,EAEjC,EACAsY,EAAaxqB,UAAUoa,MAAQ,WAC3B7Z,KAAKkqB,UAAY,GACjBlqB,KAAKoqB,WAAQnW,CACjB,EACAgW,EAAaxqB,UAAU4qB,aAAe,WAClC,OAAQrqB,KAAKkqB,UAAUxpB,MAC3B,EACAupB,EAAaxqB,UAAU4C,OAAS,SAAUioB,GAOtC,OANKtqB,KAAKoqB,QAEFpqB,KAAKoqB,MAAQ,IAAItB,GAAK9oB,KAAKkqB,UAAWlqB,KAAKmqB,eAGrCnqB,KAAKoqB,MAAM/nB,OAAOioB,GACjBxgB,KAAI,SAAU1D,EAAO7F,GAChC,MAAO,CACH8D,KAAM+B,EAAM/B,KACZqO,MAAOtM,EAAMsM,OAAS,EACtBhK,KAAMnI,EAAI,EAElB,GACJ,EACO0pB,CACX,CAlCiC,GAoCjC,SAASM,GAAYP,GAEb,OAAO,IAAIC,GAAaD,EAEhC,CAOA,IAAIQ,GAAgB,SAAU9W,GAE1B,IAAK,IAAI/N,KAAQ+N,EACb,GAAItU,OAAOK,UAAUC,eAAeC,KAAK+T,EAAK/N,GAC1C,OAAO,EAGf,OAAO,CACX,EACI8kB,GAAyB,SAAUhjB,EAAIrF,EAAQsoB,GAC/C,IAAI1Z,EAAUvJ,EAAGuJ,QACb1G,EAAmBlI,EAAOkI,iBAAkBqI,EAAavQ,EAAOuQ,WAAYC,EAAmBxQ,EAAOwQ,iBACtGD,IACA3B,EAAQ2B,WAAalJ,EAAckJ,GAAY3N,KAAK,MAEpD4N,IACA5B,EAAQ4B,iBAAmBA,GAE3B8X,GAAwBpgB,IACQ,iBAArBA,EACP0G,EAAQ1G,iBAAmBA,EAEM,iBAArBA,GAAkCkgB,GAAclgB,KAC5D0G,EAAQ1G,iBAAmBC,KAAKgT,UAAUjT,IAGtD,EACIqgB,GAAe,SAAUC,EAASxlB,EAAIF,GACtC,IAAI8C,EAAQ5C,GAAMwlB,EAAQvX,cAAc,cAAclS,OAAOiE,EAAI,OAC7Dsd,EAAO1a,GAASA,EAAM6iB,UACtBnI,GACAxd,EAAQ+F,aAAa,aAAcyX,EAE3C,EACIoI,GAAY,CACZxT,eAAgB,SAAUzP,EAAIoJ,EAAK8Z,EAAiBC,EAAoB1V,EAAe2V,EAAmB9T,GACtG,IAAIG,EAAiBzP,EAAGgD,WAAWyM,eAC/B4T,EAAM1kB,SAASC,cAAc,OAuBjC,OAtBAsD,EAAoBmhB,EAAK5T,GACzB4T,EAAIla,QAAQnN,KAAOonB,EACfha,IACAia,EAAIja,IAAMA,GAEV+Z,IACAE,EAAI7Z,SAAW,GAEf0Z,IACAG,EAAIjgB,aAAa,OAAQqK,EAAgB,WAAa,WAClDA,EACA4V,EAAIjgB,aAAa,oBAAqB,QAEhCkM,GACNwT,GAAa3qB,KAAKmrB,SAAUnrB,KAAKorB,cAAclmB,QAAQE,GAAI8lB,GAE/DA,EAAIjgB,aAAa,gBAAiB,QAClCigB,EAAIjgB,aAAa,gBAAiB,UAElCkM,GACA+T,EAAIjgB,aAAa,kBAAmBkM,GAEjC+T,CACX,EACA3T,eAAgB,SAAU1P,GACtB,IAAI0P,EAAiB1P,EAAGgD,WAAW0M,eAC/B2T,EAAM1kB,SAASC,cAAc,OAEjC,OADAsD,EAAoBmhB,EAAK3T,GAClB2T,CACX,EACAG,SAAU,SAAUxjB,EAAImjB,GACpB,IAAI1V,EAAgBzN,EAAGyN,cAAexN,EAAKD,EAAGgD,WAAY4M,EAAO3P,EAAG2P,KAAME,EAAa7P,EAAG6P,WAAYD,EAAY5P,EAAG4P,UACjHwT,EAAM1kB,SAASC,cAAc,OAMjC,OALAsD,EAAoBmhB,EAAKzT,GACzB1N,EAAoBmhB,EAAKF,EAAqBrT,EAAaD,GACvD1X,KAAKsrB,kBAAoBhW,GACzB4V,EAAIjgB,aAAa,OAAQ,WAEtBigB,CACX,EACA9c,YAAa,SAAUvG,EAAIzB,GACvB,IAAImB,EAAYM,EAAGN,UAAW6G,EAAcvG,EAAGgD,WAAWuD,YACtD8c,EAAM1kB,SAASC,cAAc,OAGjC,OAFAsD,EAAoBmhB,EAAK9c,GACzB5G,EAAe0jB,EAAK3jB,EAAWnB,GACxB8kB,CACX,EACA7mB,KAAM,SAAUwD,EAAIzF,EAAQ2S,GACxB,IAAIxN,EAAYM,EAAGN,UAAWyN,EAA4BnN,EAAGmN,0BAA2B4B,EAAqB/O,EAAG+O,mBAAoBC,EAAsBhP,EAAGgP,oBAAqB/O,EAAKD,EAAGgD,WAAYxG,EAAOyD,EAAGzD,KAAM6T,EAASpQ,EAAGoQ,OAAQC,EAAmBrQ,EAAGqQ,iBAAkBN,EAAiB/P,EAAG+P,eAAgBzJ,EAActG,EAAGsG,YACnUmd,EAAWpkB,EAAmB/E,EAAOgE,OACrC8kB,EAAM1kB,SAASC,cAAc,OAEjC,GADAsD,EAAoBmhB,EAAK7mB,GACrBjC,EAAOuQ,WAAY,CACnB,IAAI6Y,EAAYhlB,SAASC,cAAc,QACvCe,EAAegkB,EAAWjkB,EAAWnF,EAAO4F,OAC5C+B,EAAoByhB,EAAWppB,EAAOuQ,YACtCuY,EAAIhe,YAAYse,EACpB,MAEIhkB,EAAe0jB,EAAK3jB,EAAWnF,EAAO4F,OAkB1C,GAhBAkjB,EAAIla,QAAQ3M,KAAO,GACnB6mB,EAAIla,QAAQ5L,GAAKhD,EAAOgD,GACxB8lB,EAAIla,QAAQ5K,MAAQmlB,EACpBd,GAAuBS,EAAK9oB,GAAQ,IAChCA,EAAOwL,UAAY5N,KAAKsX,eAAe/L,aACvC2f,EAAIjgB,aAAa,gBAAiB,QAElCjL,KAAKsrB,mBACLJ,EAAIjgB,aAAa,gBAAiB,QAClCigB,EAAIjgB,aAAa,OAAQ,WAEzB7I,EAAOgM,cACPrE,EAAoBmhB,EAAK9c,GACzB8c,EAAIla,QAAQ5C,YAAc,IAE9BrE,EAAoBmhB,EAAK9oB,EAAOmC,YAAc4T,EAAmBN,GAC7D9C,EAAkB,CACd3S,EAAOwL,UACPzD,EAAyB+gB,EAAKrT,GAElCqT,EAAIla,QAAQya,UAAY,GACxB,IAAIC,EAAellB,SAASC,cAAc,UAC1CilB,EAAa7nB,KAAO,SACpBkG,EAAoB2hB,EAAcxT,GAClC1Q,EAAekkB,GAAc,EAAM1kB,EAAsB4P,EAAoBxU,EAAOgE,QACpF,IAAIulB,EAAoB3kB,EAAsB6P,EAAqBzU,EAAOgE,OACtEulB,GACAD,EAAazgB,aAAa,aAAc0gB,GAE5CD,EAAa1a,QAAQkH,OAAS,GAC1BlD,EACAkW,EAAIU,sBAAsB,aAAcF,GAGxCR,EAAIhe,YAAYwe,EAExB,CACA,OAAOR,CACX,EACAW,WAAY,SAAUhkB,EAAImjB,GACtB,IAAIvT,EAAO5P,EAAGgD,WAAW4M,KACrByT,EAAM1kB,SAASC,cAAc,OAMjC,OALAsD,EAAoBmhB,EAAKzT,GACpBuT,GACDE,EAAIjgB,aAAa,uBAAwB,QAE7CigB,EAAIjgB,aAAa,OAAQ,WAClBigB,CACX,EACAY,YAAa,SAAUjkB,EAAIC,GACvB,IAAIP,EAAYM,EAAGN,UAAWQ,EAAKF,EAAGgD,WAAYzG,EAAQ2D,EAAG3D,MAAO6T,EAAelQ,EAAGkQ,aAAcH,EAAe/P,EAAG+P,aAClH1S,EAAK0C,EAAG1C,GAAI4C,EAAQF,EAAGE,MAAO4F,EAAW9F,EAAG8F,SAC5Cme,EAAW5kB,EAAmBa,GAC9BkjB,EAAM1kB,SAASC,cAAc,OACjCsD,EAAoBmhB,EAAK9mB,GACrBwJ,GACA7D,EAAoBmhB,EAAKpT,GAE7BoT,EAAIjgB,aAAa,OAAQ,SACzBigB,EAAIla,QAAQ5M,MAAQ,GACpB8mB,EAAIla,QAAQ5L,GAAKA,EACjB8lB,EAAIla,QAAQ5K,MAAQ2lB,EAChBne,GACAsd,EAAIjgB,aAAa,gBAAiB,QAEtC,IAAI+gB,EAAUxlB,SAASC,cAAc,OAIrC,OAHAsD,EAAoBiiB,EAAS/T,GAC7BzQ,EAAewkB,EAASzkB,EAAWS,GAAS,IAC5CkjB,EAAIhe,YAAY8e,GACTd,CACX,EACA9oB,OAAQ,SAAUyF,EAAIzF,EAAQ6pB,EAAYC,GACtC,IAAI3kB,EAAYM,EAAGN,UAAWO,EAAKD,EAAGgD,WAAYxG,EAAOyD,EAAGzD,KAAM0T,EAAajQ,EAAGiQ,WAAYF,EAAiB/P,EAAG+P,eAAgBO,EAAgBtQ,EAAGsQ,cAAeN,EAAehQ,EAAGgQ,aAAcE,EAAclQ,EAAGkQ,YAAa5J,EAActG,EAAGsG,YAE/OpG,EAAQ5F,EAAO4F,MACfujB,EAAWpkB,EAAmB/E,EAAOgE,OACrC8kB,EAAM1kB,SAASC,cAAc,OACjCykB,EAAI9lB,GAAKhD,EAAO+pB,UAChBpiB,EAAoBmhB,EAAK7mB,GACzB0F,EAAoBmhB,EAAKnT,GACrBmU,GAA8B,iBAAVlkB,IACpBA,EAAQV,EAAkBC,EAAWS,GAErCA,EAAQ,CAAE1B,QADV0B,GAAS,KAAK7G,OAAO+qB,EAAW,OAGpC,IAAIE,EAAclB,EAClB,GAAI9oB,EAAOuQ,WAAY,CACnB,IAAI6Y,EAAYhlB,SAASC,cAAc,QACvCe,EAAegkB,EAAWjkB,EAAWS,GACrC+B,EAAoByhB,EAAWppB,EAAOuQ,YACtCyZ,EAAcZ,EACdN,EAAIhe,YAAYse,EACpB,MAEIhkB,EAAe0jB,EAAK3jB,EAAWS,GAEnC,GAAI5F,EAAOwQ,iBAAkB,CACzB,IAAIyZ,EAAS,GAAGlrB,OAAOiB,EAAO+pB,UAAW,gBACzCC,EAAYnhB,aAAa,mBAAoBohB,GAC7C,IAAIC,EAAW9lB,SAASC,cAAc,QACtCe,EAAe8kB,EAAU/kB,EAAWnF,EAAOwQ,kBAC3C0Z,EAASlnB,GAAKinB,EACdtiB,EAAoBuiB,EAAUtU,GAC9BkT,EAAIhe,YAAYof,EACpB,CA2BA,OA1BIlqB,EAAOmQ,UACPxI,EAAoBmhB,EAAK9S,GAEzBhW,EAAOgM,aACPrE,EAAoBmhB,EAAK9c,GAE7B8c,EAAIjgB,aAAa,OAAQ7I,EAAOgC,MAAQ,WAAa,UACrD8mB,EAAIla,QAAQ5O,OAAS,GACrB8oB,EAAIla,QAAQ5L,GAAKhD,EAAOgD,GACxB8lB,EAAIla,QAAQ5K,MAAQmlB,EAChBU,IACAf,EAAIla,QAAQib,WAAaA,GAEzB7pB,EAAOgC,QACP8mB,EAAIla,QAAQub,QAAU,GAAGprB,OAAOiB,EAAOgC,MAAMgB,KAEjDqlB,GAAuBS,EAAK9oB,GAAQ,GAChCA,EAAOwL,UACP7D,EAAoBmhB,EAAKpT,GACzBoT,EAAIla,QAAQwb,eAAiB,GAC7BtB,EAAIjgB,aAAa,gBAAiB,UAGlClB,EAAoBmhB,EAAKrT,GACzBqT,EAAIla,QAAQyb,iBAAmB,IAE5BvB,CACX,EACA/Z,MAAO,SAAUtJ,EAAImO,GACjB,IAAIlO,EAAKD,EAAGgD,WAAYsG,EAAQrJ,EAAGqJ,MAAOqG,EAAc1P,EAAG0P,YAAaL,EAAUtP,EAAGsP,QACjFuV,EAAMlmB,SAASC,cAAc,SAejC,OAdAimB,EAAI7oB,KAAO,SACXkG,EAAoB2iB,EAAKvb,GACzBpH,EAAoB2iB,EAAKlV,GACzBkV,EAAIC,aAAe,MACnBD,EAAIE,eAAiB,MACrBF,EAAIG,YAAa,EACjBH,EAAIrnB,KAAO,SACXqnB,EAAIzhB,aAAa,oBAAqB,QAClC+K,EACA0W,EAAIzhB,aAAa,aAAc+K,GAEzBmB,GACNwT,GAAa3qB,KAAKmrB,SAAUnrB,KAAKorB,cAAclmB,QAAQE,GAAIsnB,GAExDA,CACX,EACAI,SAAU,SAAUjlB,GAChB,IAAIC,EAAKD,EAAGgD,WAAY4M,EAAO3P,EAAG2P,KAAMG,EAAe9P,EAAG8P,aACtDsT,EAAM1kB,SAASC,cAAc,OAIjC,OAHAsD,EAAoBmhB,EAAKzT,GACzB1N,EAAoBmhB,EAAKtT,GACzBsT,EAAIjgB,aAAa,gBAAiB,SAC3BigB,CACX,EACA7S,OAAQ,SAAUxQ,EAAIlB,EAAW9C,GAC7B,IAAIiE,EAAKD,EAAGgD,WAAYxG,EAAOyD,EAAGzD,KAAM0T,EAAajQ,EAAGiQ,WAAYnU,EAAYkE,EAAGlE,UAAW0U,EAAYxQ,EAAGwQ,UAAWC,EAAYzQ,EAAGyQ,UAAWwU,EAAajlB,EAAGuQ,YACrJ,IAATxU,IAAmBA,EAAOkX,GAAYC,SAC1C,IAAI3C,EAAS7R,SAASC,cAAc,OAMpC,OALAe,EAAe6Q,GAAQ,EAAM1R,GAC7BoD,EAAoBsO,EAAQhU,GAC5B0F,EAAoBsO,EAAQN,GAC5BhO,EAAoBsO,EAAQ0U,GAEpBlpB,GACJ,KAAKkX,GAAYnX,UACbmG,EAAoBsO,EAAQzU,GAC5B,MACJ,KAAKmX,GAAYzC,UACbvO,EAAoBsO,EAAQC,GAC5B,MACJ,KAAKyC,GAAYxC,UACbxO,EAAoBsO,EAAQE,GAOpC,OAJI1U,IAASkX,GAAYnX,YACrByU,EAAOrH,QAAQyb,iBAAmB,GAClCpU,EAAOrH,QAAQ5O,OAAS,IAErBiW,CACX,EACAxO,OAAQ,SAAUzH,GAEd,IAAI4qB,EAAa7lB,EAAmB/E,EAAO4F,OACvCilB,EAAM,IAAIC,OAAOF,EAAY5qB,EAAOgE,OAAO,EAAOhE,EAAOmQ,UAM7D,OALAkY,GAAuBwC,EAAK7qB,GAAQ,GACpC6qB,EAAIrf,SAAWxL,EAAOwL,SAClBxL,EAAOmQ,UACP0a,EAAIhiB,aAAa,WAAY,IAE1BgiB,CACX,GAIAE,GAAU,qBAAsB3mB,SAAS4mB,gBAAgBne,OACzD,kBAAmBzI,SAAS4mB,gBAAgBne,MAC5Coe,GAAgB,CAAC,EACjBC,GAAiB,SAAUpoB,GAC3B,GAAKA,EAGL,OAAOA,EAAQ8L,QAAQ5L,GAAKmoB,SAASroB,EAAQ8L,QAAQ5L,GAAI,SAAM6O,CACnE,EACIuZ,GAA6B,2BAu3DjC,OAl3D6B,WACzB,SAASC,EAAQvoB,EAASwoB,QACN,IAAZxoB,IAAsBA,EAAU,sBACjB,IAAfwoB,IAAyBA,EAAa,CAAC,GAC3C,IAAI1d,EAAQhQ,KACZA,KAAK2tB,mBAAgB1Z,EACrBjU,KAAK4tB,0BAA2B,EAChC5tB,KAAK6tB,mBAAqB,EAC1B7tB,KAAK8tB,kBAAoB,EACzB,IAAIC,EAAWN,EAAQM,SACvB/tB,KAAKgqB,OAAS7pB,EAASA,EAASA,EAAS,CAAC,EAAG4tB,EAASC,YAAaD,EAAS5Z,SAAUuZ,GACtFnqB,EAAgBkQ,SAAQ,SAAU2G,GAC9BpK,EAAMga,OAAO5P,GAAOja,EAASA,EAASA,EAAS,CAAC,EAAG4tB,EAASC,WAAW5T,IAAO2T,EAAS5Z,QAAQiG,IAAOsT,EAAWtT,GACrH,IACA,IAAI4P,EAAShqB,KAAKgqB,OACbA,EAAO1V,QACRtU,KAAKiuB,kBAET,IAAIrD,EAAUZ,EAAOjU,YAAcvP,SAAS4mB,gBAC5CptB,KAAKmrB,SAAWP,EAChB,IAAIQ,EAAmC,iBAAZlmB,EAAuB0lB,EAAQvX,cAAcnO,GAAWA,EACnF,IAAKkmB,GACwB,iBAAlBA,IACLvY,EAAmBuY,KAAkBrY,EAAoBqY,GAAiB,CAC5E,IAAKA,GAAoC,iBAAZlmB,EACzB,MAAMrF,UAAU,YAAYsB,OAAO+D,EAAS,+BAEhD,MAAMrF,UAAU,sEACpB,CACA,IAAIquB,EAAc9C,EAAcvnB,KAC5BsqB,EAASD,IAAgB1qB,EAAmBC,MAC5C0qB,GAAkC,IAAxBnE,EAAOxV,gBACjBwV,EAAOtV,0BAA2B,GAElCsV,EAAOtV,2BACPwZ,EAAc1qB,EAAmBG,gBAErC,IAAIyqB,EAAcF,IAAgB1qB,EAAmBE,UACjD2qB,EAAmBH,IAAgB1qB,EAAmBG,eACtD2qB,EAAWF,GAAeC,EAyB9B,GAxBAruB,KAAKuuB,aAAeL,EACpBluB,KAAKwuB,eAAiBL,EACtBnuB,KAAKyuB,oBAAsBL,EAC3BpuB,KAAK0uB,yBAA2BL,EAChCruB,KAAKsrB,iBAAmB8C,GAAeC,EACvCruB,KAAK2uB,mBAAsBR,GAAUnE,EAAOpV,UAAc0Z,GAAYtE,EAAOrV,WACjC,kBAAjCqV,EAAO5T,wBACd4T,EAAO5T,sBAAyD,WAAjC4T,EAAO5T,uBAAsCgY,GAE3C,SAAjCpE,EAAOvV,sBACPuV,EAAOvV,sBAAwB0Z,GAAUC,GAAepE,EAAOtV,yBAG/DsV,EAAOvV,sBAAwB3C,EAAWkY,EAAOvV,uBAEjDuV,EAAO5b,cACH4b,EAAOhU,iBACPhW,KAAK4tB,0BAA2B,EAE3BxC,EAAcpa,QAAQ5C,cAC3BpO,KAAK4tB,0BAA2B,EAChC5D,EAAOhU,iBAAmBoV,EAAcpa,QAAQ5C,cAGpDsf,EAAW7Y,eAAqD,mBAA7B6Y,EAAW7Y,cAA8B,CAC5E,IAAI+Z,EAAKlB,EAAW7Y,yBAAyBga,OAASnB,EAAW7Y,cAAgB,IAAIga,OAAOnB,EAAW7Y,eACvGmV,EAAOnV,cAAgB+Z,EAAGE,KAAKhhB,KAAK8gB,EACxC,CACA,GAAI5uB,KAAKwuB,eACLxuB,KAAKorB,cAAgB,IAAIxZ,EAAa,CAClC1M,QAASkmB,EACTvgB,WAAYmf,EAAOnf,iBAGtB,CACD,IAAIkkB,EAAW3D,EACfprB,KAAKorB,cAAgB,IAAIlY,GAAc,CACnChO,QAAS6pB,EACTlkB,WAAYmf,EAAOnf,WACnBsI,SAAU,SAAUxB,GAAQ,OAAO3B,EAAMgf,WAAWnlB,OAAO8H,EAAO,EAClEyB,mBAAoB4W,EAAO5b,cAAgBpO,KAAK4tB,0BAExD,CAgBA,GAfA5tB,KAAKivB,aAAc,EACnBjvB,KAAKkvB,OAAS,IAAI7V,GAAM2Q,GACxBhqB,KAAKmvB,cAAgB,GACrBnF,EAAO1U,eAAkB6Y,GAAUnE,EAAO1U,eAAkB+Y,EAC5DruB,KAAKovB,WAAapF,EAAO1U,cACzBtV,KAAKqvB,kBAAmB,EACxBrvB,KAAKsvB,mBAAqB,EAC1BtvB,KAAKuvB,SAAU,EACfvvB,KAAKwvB,kBAAoBxvB,KAAKyvB,4BAC9BzvB,KAAK0vB,QAAUzqB,EAAWmmB,EAAe,YAKzCprB,KAAK2vB,WAAavE,EAAcna,KAC3BjR,KAAK2vB,WAAY,CAClB,IAAIC,EAAmB9jB,OAAO+jB,iBAAiBzE,GAAe1lB,UAE1DkqB,IADoB9jB,OAAO+jB,iBAAiBrpB,SAAS4mB,iBAAiB1nB,YAEtE1F,KAAK2vB,WAAaC,EAE1B,CAuBA,GAtBA5vB,KAAK8vB,SAAW,CACZ/X,WAAY,eAEhB/X,KAAKgvB,WAAajB,EAASjD,UAC3B9qB,KAAK+vB,QAAU/vB,KAAK+vB,QAAQjiB,KAAK9N,MACjCA,KAAKgO,SAAWhO,KAAKgO,SAASF,KAAK9N,MACnCA,KAAKiO,QAAUjO,KAAKiO,QAAQH,KAAK9N,MACjCA,KAAKgwB,SAAWhwB,KAAKgwB,SAASliB,KAAK9N,MACnCA,KAAKiwB,WAAajwB,KAAKiwB,WAAWniB,KAAK9N,MACvCA,KAAK+N,SAAW/N,KAAK+N,SAASD,KAAK9N,MACnCA,KAAKkwB,SAAWlwB,KAAKkwB,SAASpiB,KAAK9N,MACnCA,KAAKmwB,aAAenwB,KAAKmwB,aAAariB,KAAK9N,MAC3CA,KAAKowB,YAAcpwB,KAAKowB,YAAYtiB,KAAK9N,MACzCA,KAAKqwB,aAAerwB,KAAKqwB,aAAaviB,KAAK9N,MAC3CA,KAAKswB,aAAetwB,KAAKswB,aAAaxiB,KAAK9N,MAC3CA,KAAKuwB,aAAevwB,KAAKuwB,aAAaziB,KAAK9N,MAC3CA,KAAKwwB,aAAexwB,KAAKwwB,aAAa1iB,KAAK9N,MAC3CA,KAAKywB,YAAczwB,KAAKywB,YAAY3iB,KAAK9N,MACzCA,KAAK0wB,aAAe1wB,KAAK0wB,aAAa5iB,KAAK9N,MAC3CA,KAAK2wB,gBAAkB3wB,KAAK2wB,gBAAgB7iB,KAAK9N,MACjDA,KAAK4wB,aAAe5wB,KAAK4wB,aAAa9iB,KAAK9N,MAEvCA,KAAKorB,cAActgB,SAMnB,OALKkf,EAAO1V,QACRuc,QAAQC,KAAK,8DAA+D,CAAE5rB,QAASA,IAE3FlF,KAAKivB,aAAc,OACnBjvB,KAAK2tB,eAAgB,GAIzB3tB,KAAK4Z,OAEL5Z,KAAK+wB,cAAgB/wB,KAAKkvB,OAAO7a,MAAMvK,KAAI,SAAU1H,GAAU,OAAOA,EAAOgE,KAAO,GACxF,CAouDA,OAnuDAhH,OAAO8O,eAAeuf,EAAS,WAAY,CACvClf,IAAK,WACD,OAAOnP,OAAO4xB,kBAAkB,CAC5B,WAAI7c,GACA,OAAOkZ,EACX,EACA,cAAIW,GACA,OAAO5Z,EACX,EACA,aAAI0W,GACA,OAAOA,EACX,GAER,EACAzc,YAAY,EACZC,cAAc,IAElBmf,EAAQhuB,UAAUma,KAAO,WACrB,IAAI5Z,KAAKivB,kBAAsChb,IAAvBjU,KAAK2tB,cAA7B,CAGA3tB,KAAKixB,UAAY1G,GAAYvqB,KAAKgqB,QAClChqB,KAAKkxB,eACLlxB,KAAKmxB,mBACLnxB,KAAKoxB,kBACLpxB,KAAKqxB,mBACArxB,KAAKwuB,iBAAmBxuB,KAAKgqB,OAAOpV,UACrC5U,KAAKorB,cAAclmB,QAAQ8O,aAAa,aACtChU,KAAKorB,cAAclmB,QAAQosB,QAAQ,qBACrCtxB,KAAK6M,WAGL7M,KAAK2M,SACL3M,KAAKuxB,sBAGTvxB,KAAKwxB,aACLxxB,KAAKivB,aAAc,EACnBjvB,KAAK2tB,eAAgB,EACrB,IAAIvW,EAAiBpX,KAAKgqB,OAAO5S,eAEH,mBAAnBA,GACPA,EAAezX,KAAKK,KAtBxB,CAwBJ,EACAytB,EAAQhuB,UAAUgyB,QAAU,WACnBzxB,KAAKivB,cAGVjvB,KAAK0xB,wBACL1xB,KAAKorB,cAAc5Z,SACnBxR,KAAKsX,eAAenK,OAAOnN,KAAKorB,cAAclmB,SAC9ClF,KAAKkvB,OAAO1V,WAAa,GACzBxZ,KAAK2xB,YAAW,GAChB3xB,KAAK4xB,cACL5xB,KAAKgvB,WAAavB,EAAQM,SAASjD,UACnC9qB,KAAKivB,aAAc,EACnBjvB,KAAK2tB,mBAAgB1Z,EACzB,EACAwZ,EAAQhuB,UAAUkN,OAAS,WAUvB,OATI3M,KAAKorB,cAAc7f,YACnBvL,KAAKorB,cAAcze,SAEnB3M,KAAKsX,eAAe/L,aACpBvL,KAAKuxB,qBACLvxB,KAAKmR,MAAMxE,SACX3M,KAAKmR,MAAMjM,QAAQ2J,QACnB7O,KAAKsX,eAAe3K,UAEjB3M,IACX,EACAytB,EAAQhuB,UAAUoN,QAAU,WASxB,OARK7M,KAAKorB,cAAc7f,YACpBvL,KAAKorB,cAAcve,UAElB7M,KAAKsX,eAAe/L,aACrBvL,KAAK0xB,wBACL1xB,KAAKmR,MAAMtE,UACX7M,KAAKsX,eAAezK,WAEjB7M,IACX,EACAytB,EAAQhuB,UAAU+C,cAAgB,SAAU6B,EAAMwtB,GAE9C,QADiB,IAAbA,IAAuBA,GAAW,IACjCxtB,IAASA,EAAKe,GACf,OAAOpF,KAEX,IAAIoC,EAASpC,KAAKkvB,OAAO7a,MAAM0E,MAAK,SAAU+Y,GAAK,OAAOA,EAAE1sB,KAAOf,EAAKe,EAAI,IAC5E,OAAKhD,GAAUA,EAAOmC,cAGtBvE,KAAKkvB,OAAOhV,SAAS1X,EAAcJ,GAAQ,IACvCyvB,GACA7xB,KAAKorB,cAAc3Z,aAAazP,EAAUQ,cAAexC,KAAK+xB,oBAAoB3vB,KAJ3EpC,IAOf,EACAytB,EAAQhuB,UAAUiD,gBAAkB,SAAU2B,EAAMwtB,GAEhD,QADiB,IAAbA,IAAuBA,GAAW,IACjCxtB,IAASA,EAAKe,GACf,OAAOpF,KAEX,IAAIoC,EAASpC,KAAKkvB,OAAO7a,MAAM0E,MAAK,SAAU+Y,GAAK,OAAOA,EAAE1sB,KAAOf,EAAKe,EAAI,IAC5E,OAAKhD,GAAWA,EAAOmC,aAGvBvE,KAAKkvB,OAAOhV,SAAS1X,EAAcJ,GAAQ,IACvCyvB,GACA7xB,KAAKorB,cAAc3Z,aAAazP,EAAUU,gBAAiB1C,KAAK+xB,oBAAoB3vB,IAEjFpC,MANIA,IAOf,EACAytB,EAAQhuB,UAAUuyB,aAAe,WAC7B,IAAIhiB,EAAQhQ,KASZ,OARAA,KAAKkvB,OAAO5U,SAAQ,WAChBtK,EAAMkf,OAAO7a,MAAMZ,SAAQ,SAAUpP,GAC5BA,EAAKE,cACNyL,EAAMkf,OAAOhV,SAAS1X,EAAc6B,GAAM,IAC1C2L,EAAMob,cAAc3Z,aAAazP,EAAUQ,cAAewN,EAAM+hB,oBAAoB1tB,IAE5F,GACJ,IACOrE,IACX,EACAytB,EAAQhuB,UAAUwyB,eAAiB,WAC/B,IAAIjiB,EAAQhQ,KASZ,OARAA,KAAKkvB,OAAO5U,SAAQ,WAChBtK,EAAMkf,OAAO7a,MAAMZ,SAAQ,SAAUpP,GAC7BA,EAAKE,cACLyL,EAAMkf,OAAOhV,SAAS1X,EAAc6B,GAAM,IAC1C2L,EAAMob,cAAc3Z,aAAazP,EAAUQ,cAAewN,EAAM+hB,oBAAoB1tB,IAE5F,GACJ,IACOrE,IACX,EACAytB,EAAQhuB,UAAUyyB,yBAA2B,SAAU9rB,GACnD,IAAI4J,EAAQhQ,KAIZ,OAHAA,KAAKkvB,OAAO5U,SAAQ,WAChBtK,EAAMkf,OAAO7a,MAAM9K,QAAO,SAAUlF,GAAQ,OAAOA,EAAK+B,QAAUA,CAAO,IAAGqN,SAAQ,SAAUpP,GAAQ,OAAO2L,EAAMmiB,YAAY9tB,EAAO,GAC1I,IACOrE,IACX,EACAytB,EAAQhuB,UAAU2yB,kBAAoB,SAAUC,GAC5C,IAAIriB,EAAQhQ,KAOZ,OANAA,KAAKkvB,OAAO5U,SAAQ,WAChBtK,EAAMkf,OAAO7a,MAAM9K,QAAO,SAAU1B,GAEhC,OADSA,EAAGzC,KACEitB,CAClB,IAAG5e,SAAQ,SAAUpP,GAAQ,OAAO2L,EAAMmiB,YAAY9tB,EAAO,GACjE,IACOrE,IACX,EACAytB,EAAQhuB,UAAU6yB,uBAAyB,SAAUT,GACjD,IAAI7hB,EAAQhQ,KAYZ,YAXiB,IAAb6xB,IAAuBA,GAAW,GACtC7xB,KAAKkvB,OAAO5U,SAAQ,WAChBtK,EAAMkf,OAAOqD,uBAAuB9e,SAAQ,SAAUpP,GAClD2L,EAAMmiB,YAAY9tB,GAGdwtB,GACA7hB,EAAMwiB,eAAenuB,EAAK+B,MAElC,GACJ,IACOpG,IACX,EACAytB,EAAQhuB,UAAUwC,aAAe,SAAUwwB,GACvC,IAAIziB,EAAQhQ,KACZ,OAAIA,KAAK8sB,SAAShiB,gBAGQmJ,IAAtBwe,IAEAA,GAAqBzyB,KAAKovB,YAE9B9e,uBAAsB,WAClBN,EAAM8c,SAAS/hB,OACf,IAAI2nB,EAAO1iB,EAAM8c,SAAS5nB,QAAQ0G,wBAClCoE,EAAMsH,eAAelL,KAAKsmB,EAAKC,OAAQD,EAAKljB,QACvCijB,GACDziB,EAAMmB,MAAMtC,QAEhBmB,EAAMob,cAAc3Z,aAAazP,EAAUC,aAC/C,KAdWjC,IAgBf,EACAytB,EAAQhuB,UAAUyC,aAAe,SAAU0wB,GACvC,IAAI5iB,EAAQhQ,KACZ,OAAKA,KAAK8sB,SAAShiB,UAGnBwF,uBAAsB,WAClBN,EAAM8c,SAAS5hB,OACf8E,EAAMsH,eAAe/K,SAChBqmB,GAAoB5iB,EAAMof,aAC3Bpf,EAAMmB,MAAMjF,yBACZ8D,EAAMmB,MAAMrC,QAEhBkB,EAAMob,cAAc3Z,aAAazP,EAAUE,aAC/C,IACOlC,MAXIA,IAYf,EACAytB,EAAQhuB,UAAUozB,SAAW,SAAUC,GACnC,IAAI9iB,EAAQhQ,KACR+yB,EAAS/yB,KAAKkvB,OAAO7a,MAAMvK,KAAI,SAAUzF,GACzC,OAAQyuB,EAAYzuB,EAAK+B,MAAQ4J,EAAM+hB,oBAAoB1tB,EAC/D,IACA,OAAOrE,KAAKyuB,qBAAuBzuB,KAAKgqB,OAAOtV,yBAA2Bqe,EAAO,GAAKA,CAC1F,EACAtF,EAAQhuB,UAAUuzB,SAAW,SAAU3e,GACnC,IAAIrE,EAAQhQ,KACZ,OAAKA,KAAK2tB,eAIV3tB,KAAKkvB,OAAO5U,SAAQ,WAChBjG,EAAMZ,SAAQ,SAAUrN,GAChBA,GACA4J,EAAMijB,WAAW9gB,EAAiB/L,GAAO,GAEjD,GACJ,IAEApG,KAAKixB,UAAUpX,QACR7Z,OAZHA,KAAKkzB,uBAAuB,YACrBlzB,KAYf,EACAytB,EAAQhuB,UAAU0zB,iBAAmB,SAAU/sB,GAC3C,IAAI4J,EAAQhQ,KACZ,OAAKA,KAAK2tB,eAIN3tB,KAAKwuB,iBAGTxuB,KAAKkvB,OAAO5U,SAAQ,YAEE/a,MAAMoK,QAAQvD,GAASA,EAAQ,CAACA,IAEtCqN,SAAQ,SAAU2f,GAAO,OAAOpjB,EAAMqjB,4BAA4BD,EAAM,IACpFpjB,EAAMiiB,gBACV,IAEAjyB,KAAKixB,UAAUpX,SAVJ7Z,OAJPA,KAAKkzB,uBAAuB,oBACrBlzB,KAef,EAgEAytB,EAAQhuB,UAAU6zB,WAAa,SAAUC,EAAuBntB,EAAO4B,EAAOwrB,EAAgBC,EAAiBC,GAC3G,IAAI1jB,EAAQhQ,KAOZ,QAN8B,IAA1BuzB,IAAoCA,EAAwB,SAClD,IAAVntB,IAAoBA,EAAQ,cAClB,IAAV4B,IAAoBA,EAAQ,cACT,IAAnBwrB,IAA6BA,GAAiB,QAC1B,IAApBC,IAA8BA,GAAkB,QAC/B,IAAjBC,IAA2BA,GAAe,IACzC1zB,KAAK2tB,cAEN,OADA3tB,KAAKkzB,uBAAuB,cACrBlzB,KAEX,IAAKA,KAAKsrB,iBACN,MAAM,IAAIzrB,UAAU,qDAExB,GAAqB,iBAAVuG,IAAuBA,EAC9B,MAAM,IAAIvG,UAAU,qEAExB,GAAqC,mBAA1B0zB,EAAsC,CAE7C,IAAII,EAAYJ,EAAsBvzB,MACtC,GAAuB,mBAAZ4zB,SAA0BD,aAAqBC,QAGtD,OAAO,IAAIA,SAAQ,SAAUC,GAAW,OAAOvjB,sBAAsBujB,EAAU,IAC1EC,MAAK,WAAc,OAAO9jB,EAAM+jB,qBAAoB,EAAO,IAC3DD,MAAK,WAAc,OAAOH,CAAW,IACrCG,MAAK,SAAUniB,GAChB,OAAO3B,EAAMsjB,WAAW3hB,EAAMvL,EAAO4B,EAAOwrB,EAAgBC,EAAiBC,EACjF,IACKM,OAAM,SAAUC,GACZjkB,EAAMga,OAAO1V,QACduc,QAAQqD,MAAMD,EAEtB,IACKH,MAAK,WAAc,OAAO9jB,EAAM+jB,qBAAoB,EAAQ,IAC5DD,MAAK,WAAc,OAAO9jB,CAAO,IAG1C,IAAKzQ,MAAMoK,QAAQgqB,GACf,MAAM,IAAI9zB,UAAU,4FAA4FsB,cAAcwyB,IAGlI,OAAO3zB,KAAKszB,WAAWK,EAAWvtB,EAAO4B,GAAO,EACpD,CACA,IAAKzI,MAAMoK,QAAQ4pB,GACf,MAAM,IAAI1zB,UAAU,sHAqCxB,OAnCAG,KAAKsX,eAAehK,qBACpBtN,KAAKkvB,OAAO5U,SAAQ,WACZmZ,IACAzjB,EAAMmkB,cAAe,GAGrBX,GACAxjB,EAAMokB,cAAa,EAAMV,GAE7B,IAAIW,EAA2B,UAAVjuB,EACjBkuB,EAA2B,UAAVtsB,EACrBurB,EAAsB9f,SAAQ,SAAUjB,GACpC,GAAI,YAAaA,EAAe,CAC5B,IAAIpO,EAAQoO,EACP8hB,IACDlwB,EAAQjE,EAASA,EAAS,CAAC,EAAGiE,GAAQ,CAAE4D,MAAO5D,EAAM4D,GAAQ5B,MAAOhC,EAAMgC,MAE9E4J,EAAMukB,UAAUpiB,EAAiB/N,GAAO,GAC5C,KACK,CACD,IAAIhC,EAASoQ,EACR8hB,GAAmBD,IACpBjyB,EAASjC,EAASA,EAAS,CAAC,EAAGiC,GAAS,CAAEgE,MAAOhE,EAAOgE,GAAQ4B,MAAO5F,EAAO4F,MAElF,IAAIwsB,EAAariB,EAAiB/P,GAAQ,GAC1C4N,EAAMijB,WAAWuB,GACbA,EAAWpmB,cAAgB4B,EAAM4d,2BACjC5d,EAAMwf,kBAAoBpoB,EAAuBotB,EAAWxsB,OAEpE,CACJ,IACAgI,EAAMiiB,gBACV,IAEAjyB,KAAKixB,UAAUpX,QACR7Z,IACX,EACAytB,EAAQhuB,UAAUg1B,QAAU,SAAUC,EAAYC,EAAmBC,GACjE,IAAI5kB,EAAQhQ,KAIZ,YAHmB,IAAf00B,IAAyBA,GAAa,QAChB,IAAtBC,IAAgCA,GAAoB,QACpC,IAAhBC,IAA0BA,GAAc,GACvC50B,KAAKsrB,kBAMVtrB,KAAKkvB,OAAO5U,SAAQ,WAChB,IAAIua,EAAqB7kB,EAAMob,cAAczX,mBAEzCmhB,EAAgB,CAAC,EAChBF,GACD5kB,EAAMkf,OAAO7a,MAAMZ,SAAQ,SAAUrR,GAC7BA,EAAOgD,IAAMhD,EAAO8B,QAAU9B,EAAOmQ,WACrCuiB,EAAc1yB,EAAOgE,QAAS,EAEtC,IAEJ4J,EAAM2hB,YAAW,GACjB,IAAIoD,EAAe,SAAU3yB,GACrBwyB,EACA5kB,EAAMkf,OAAOhV,SAAS5V,EAAalC,IAE9B0yB,EAAc1yB,EAAOgE,SAC1BhE,EAAOmQ,UAAW,EAE1B,EACAsiB,EAAmBphB,SAAQ,SAAUjB,GAC7B,YAAaA,EACbA,EAAcC,QAAQgB,QAAQshB,GAGlCA,EAAaviB,EACjB,IAcAxC,EAAMglB,sBAAsBH,EAAoBF,EAAmBD,GAE/D1kB,EAAMmkB,cACNnkB,EAAMilB,eAAejlB,EAAMmB,MAAM/K,MAEzC,IACOpG,OAnDEA,KAAKgqB,OAAO1V,QACbuc,QAAQC,KAAK,2EAEV9wB,KAiDf,EACAytB,EAAQhuB,UAAUqE,aAAe,SAAUsC,GACvC,IAAIhE,EAASpC,KAAKkvB,OAAOzc,QAAQsG,MAAK,SAAU+Y,GAAK,OAAOA,EAAE1rB,QAAUA,CAAO,IAC/E,OAAKhE,GAGLpC,KAAKk1B,eACLl1B,KAAKkvB,OAAOhV,SAASpW,EAAa1B,IAElCpC,KAAKixB,UAAUpX,QACXzX,EAAOmQ,UACPvS,KAAKorB,cAAc3Z,aAAazP,EAAUO,WAAYvC,KAAK+xB,oBAAoB3vB,IAE5EpC,MATIA,IAUf,EACAytB,EAAQhuB,UAAU20B,aAAe,SAAUe,EAAcC,GACrD,IAAIplB,EAAQhQ,KA0BZ,YAzBqB,IAAjBm1B,IAA2BA,GAAe,QAC3B,IAAfC,IAAyBA,GAAa,GACtCD,IACIC,EACAp1B,KAAKorB,cAAclmB,QAAQmwB,gBAAgB,IAG3Cr1B,KAAKorB,cAAclmB,QAAQ0O,iBAAiB,oBAAoBH,SAAQ,SAAUhM,GAC9EA,EAAG2C,QACP,KAGRpK,KAAKqrB,SAASnmB,QAAQmwB,gBAAgB,IACtCr1B,KAAK6rB,WAAW3mB,QAAQmwB,gBAAgB,IACxCr1B,KAAKk1B,eACLl1B,KAAKkvB,OAAO5U,SAAQ,WAChB,IAAIjG,EAAQ+gB,EAAa,GAAKplB,EAAMkf,OAAO7a,MAC3CrE,EAAMkf,OAAOrV,QACbxF,EAAMZ,SAAQ,SAAUpP,GACpB2L,EAAMkf,OAAOhV,SAAStW,EAAUS,IAChC2L,EAAMkf,OAAOhV,SAAS5X,EAAQ+B,GAClC,GACJ,IAEArE,KAAKixB,UAAUpX,QACR7Z,IACX,EACAytB,EAAQhuB,UAAUkyB,WAAa,SAAUwD,GAMrC,YALqB,IAAjBA,IAA2BA,GAAe,GAC9Cn1B,KAAKo0B,aAAae,GAAc,GAChCn1B,KAAK4xB,cACL5xB,KAAK6tB,mBAAqB,EAC1B7tB,KAAK8tB,kBAAoB,EAClB9tB,IACX,EACAytB,EAAQhuB,UAAU61B,WAAa,WAC3B,IAAIC,GAAuBv1B,KAAKyuB,oBAGhC,OAFAzuB,KAAKmR,MAAMpC,MAAMwmB,GACjBv1B,KAAK4xB,cACE5xB,IACX,EACAytB,EAAQhuB,UAAUwuB,gBAAkB,WAChC,IAAIjE,EAAShqB,KAAKgqB,OACdwL,EAAuBtsB,EAAK8gB,EAAQ5V,IACpCohB,EAAqB90B,QACrBmwB,QAAQC,KAAK,kCAAmC0E,EAAqBxwB,KAAK,OAE1EglB,EAAOziB,WAAayiB,EAAO9U,qBACvB8U,EAAOpV,UACPic,QAAQC,KAAK,yHAEb9G,EAAOrV,YACPkc,QAAQC,KAAK,2HAGzB,EACArD,EAAQhuB,UAAUswB,QAAU,SAAUjW,QAClB,IAAZA,IAAsBA,EAAU,CAAErH,SAAS,EAAMuG,QAAQ,EAAM3E,OAAO,IACtErU,KAAKkvB,OAAOvU,UAGZ3a,KAAKsrB,mBACDxR,EAAQrH,SAAWqH,EAAQd,SAC3BhZ,KAAKy1B,iBAGT3b,EAAQzF,OACRrU,KAAK01B,eAEb,EACAjI,EAAQhuB,UAAUg2B,eAAiB,WAC/B,IAAIzlB,EAAQhQ,KACZ,GAAKA,KAAK21B,eAAV,CAGA,IAAI9tB,EAAK7H,KAAMgqB,EAASniB,EAAGmiB,OAAQ4L,EAAc/tB,EAAGssB,aAChDrsB,EAAK9H,KAAKkvB,OAAQ2G,EAAe/tB,EAAG+tB,aAAchb,EAAgB/S,EAAG+S,cACrEib,EAAc,EAOlB,GANIF,GAAe5L,EAAOvU,kBAAoB,EAC1CqgB,EAAc9L,EAAOvU,kBAEhBuU,EAAOzV,kBAAoB,IAChCuhB,EAAc9L,EAAOzV,mBAErBvU,KAAKsrB,iBAAkB,CACvB,IAAIyK,EAAiBlb,EAActR,QAAO,SAAUnH,GAAU,OAAQA,EAAO8C,OAAS,IAClF6wB,EAAer1B,QACfV,KAAKorB,cAAc9X,WAAWyiB,EAEtC,CACA,IAAIxiB,EAAW/M,SAASgN,yBACpBwiB,EAAoB,SAAUvjB,GAC9B,OAAOA,EAAQlJ,QAAO,SAAUnH,GAC5B,OAAQA,EAAOgM,cAAgBwnB,IAAgBxzB,EAAOsG,KAAOshB,EAAO5T,wBAA0BhU,EAAOmQ,SACzG,GACJ,EACI0jB,GAAoB,EACpBC,EAAgB,SAAUzjB,EAAS0jB,EAAaC,GAC5CR,EAGAnjB,EAAQpJ,KAAKb,GAERwhB,EAAOpU,YACZnD,EAAQpJ,KAAK2gB,EAAOlU,QAExB,IAAIugB,EAAc5jB,EAAQ/R,OAC1B21B,GAAeF,GAAeL,GAAeO,EAAcP,EAAcA,EAAcO,EACvFA,IACA5jB,EAAQ6jB,OAAM,SAAUl0B,EAAQ4b,GAE5B,IAAIuY,EAAen0B,EAAO6W,UAAYjJ,EAAMgf,WAAW5sB,OAAO4nB,EAAQ5nB,EAAQ4nB,EAAOxT,eAAgB4f,GAMrG,OALAh0B,EAAO6W,SAAWsd,EAClBhjB,EAASrG,YAAYqpB,IACjBX,GAAgBxzB,EAAOmQ,WACvB0jB,GAAoB,GAEjBjY,EAAQqY,CACnB,GACJ,EACIxb,EAAcna,SACVspB,EAAOrU,qBACPrF,uBAAsB,WAAc,OAAON,EAAM6b,WAAW/b,aAAe,IAE1E9P,KAAK4tB,0BAA6BgI,IAAe51B,KAAKyuB,qBAEvDyH,EAAcrb,EAActR,QAAO,SAAUnH,GAAU,OAAOA,EAAOgM,cAAgBhM,EAAOgC,KAAO,KAAI,OAAO6P,GAG9G4hB,EAAan1B,SAAWk1B,GACpB5L,EAAOpU,YACPigB,EAAaxsB,KAAK2gB,EAAOlU,QAI7BogB,EAAcrb,EAActR,QAAO,SAAUnH,GAAU,OAAQA,EAAOgM,cAAgBhM,EAAOgC,KAAO,KAAI,OAAO6P,GAC/G4hB,EAAapiB,SAAQ,SAAUrP,GAC3B,IAAIoyB,EAAeR,EAAkB5xB,EAAMqO,SAC3C,GAAI+jB,EAAa91B,OAAQ,CACrB,GAAI0D,EAAM4D,MAAO,CACb,IAAIyuB,EAAgBryB,EAAMsyB,SAAW1mB,EAAMgf,WAAWlD,YAAY9b,EAAMga,OAAQ5lB,GAChFA,EAAMsyB,QAAUD,EAChBA,EAAcrsB,SACdmJ,EAASrG,YAAYupB,EACzB,CACAP,EAAcM,GAAc,EAAMxM,EAAOxR,qBAAuBod,EAAcxxB,EAAM4D,WAAQiM,EAChG,CACJ,KAGAiiB,EAAcF,EAAkBnb,IAAgB,OAAO5G,IAG1DgiB,IAAsBL,GAAgBriB,EAASzM,SAASpG,QAAWspB,EAAO5T,wBACtEpW,KAAK22B,UACN32B,KAAK22B,QAAU,CACXjU,KAAMxb,EAAsB0uB,EAAc5L,EAAO1T,cAAgB0T,EAAOzT,eACxE1S,KAAM+xB,EAAc7a,GAAYzC,UAAYyC,GAAYxC,YAGhEhF,EAAS8hB,gBAAgB,KAE7Br1B,KAAK42B,cAAcrjB,GACnBvT,KAAK6rB,WAAW3mB,QAAQmwB,gBAAgB9hB,GACpC0iB,GACAj2B,KAAK62B,kBA3FT,CA6FJ,EACApJ,EAAQhuB,UAAUi2B,aAAe,WAC7B,IAAI1lB,EAAQhQ,KACRqU,EAAQrU,KAAKkvB,OAAO7a,OAAS,GAC7BgX,EAAWrrB,KAAKqrB,SAASnmB,QACzB8kB,EAAShqB,KAAKgqB,OACdzW,EAAW/M,SAASgN,yBACpBsjB,EAAe,SAAUzyB,GACzB,OAAOgnB,EAAShY,cAAc,wBAAyBlS,OAAOkD,EAAKe,GAAI,MAC3E,EACI2xB,EAAoB,SAAU1yB,GAC9B,IAAIoD,EAAKpD,EAAKsG,OACVlD,GAAMA,EAAGqR,gBAGbrR,EAAKqvB,EAAazyB,IAAS2L,EAAMgf,WAAW3qB,KAAK2lB,EAAQ3lB,EAAM2lB,EAAOjV,kBACtE1Q,EAAKsG,OAASlD,EACd8L,EAASrG,YAAYzF,GACzB,EAEA4M,EAAMZ,QAAQsjB,GACd,IAAIC,IAAezjB,EAAS0jB,WAAWv2B,OACvC,GAAIV,KAAKyuB,oBAAqB,CAC1B,IAAIqG,EAAgBzJ,EAASvkB,SAASpG,OACtC,GAAIs2B,GAAclC,EAAgB,EAAG,CACjC,IAAI1mB,EAAcid,EAAShY,cAAczJ,EAAsBogB,EAAOnf,WAAWuD,cAC7EA,GACAA,EAAYhE,QAEpB,MACU4sB,GAAelC,IAAiB90B,KAAKwvB,oBAC3CwH,GAAa,EACbD,EAAkB5kB,EAAiB,CAC/BI,UAAU,EACVnM,MAAO,GACP4B,MAAOhI,KAAKwvB,kBACZphB,aAAa,IACd,IAEX,CACI4oB,IACA3L,EAASxb,OAAO0D,GACZyW,EAAOnU,kBAAoB7V,KAAKyuB,sBAChCpa,EAAMhL,KAAK2gB,EAAOlU,QAElBzB,EAAMZ,SAAQ,SAAUpP,GACpB,IAAIoD,EAAKqvB,EAAazyB,GAClBoD,IACAA,EAAG2C,SACHmJ,EAAS1D,OAAOpI,GAExB,IACA4jB,EAASxb,OAAO0D,KAGpBvT,KAAKwuB,iBAELxuB,KAAKorB,cAAchlB,MAAQiO,EAAMvK,KAAI,SAAUjC,GAE3C,OADYA,EAAGzB,KAEnB,IAAGpB,KAAKglB,EAAO5U,WAEvB,EACAqY,EAAQhuB,UAAUy3B,eAAiB,SAAUxU,EAAM7e,EAAMszB,QAChC,IAAjBA,IAA2BA,GAAe,GAC9C,IAAIC,EAAYp3B,KAAK22B,QACjBS,IACEA,EAAUvzB,OAASA,GAAQuzB,EAAU1U,OAASA,GAC3C0U,EAAUvzB,OAASkX,GAAYnX,YAC3BC,IAASkX,GAAYzC,WAAazU,IAASkX,GAAYxC,YAC5D4e,GACAn3B,KAAKiC,cAAa,IAI1BjC,KAAKk1B,eACLl1B,KAAK22B,QAAUjU,EACT,CACEA,KAAMA,EACN7e,KAAMA,QAERoQ,EACNjU,KAAK42B,gBACDO,GAAgBzU,GAChB1iB,KAAKiC,cAAa,GAE1B,EACAwrB,EAAQhuB,UAAUy1B,aAAe,WAC7B,GAAKl1B,KAAK22B,QAAV,CAGA,IAAIU,EAAgBr3B,KAAK6rB,WAAW3mB,QAAQmO,cAAczJ,EAAsB5J,KAAKgqB,OAAOnf,WAAWwN,SACnGgf,GACAA,EAAcjtB,SAElBpK,KAAK22B,aAAU1iB,CALf,CAMJ,EACAwZ,EAAQhuB,UAAUm3B,cAAgB,SAAUrjB,GACxC,IAAI+jB,EAAat3B,KAAK22B,QACtB,GAAIW,EAAY,CACZ,IAAIjf,EAASrY,KAAKgvB,WAAW3W,OAAOrY,KAAKgqB,OAAQsN,EAAW5U,KAAM4U,EAAWzzB,MACzE0P,EACAA,EAAS1D,OAAOwI,GAGhBrY,KAAK6rB,WAAWpc,QAAQ4I,EAEhC,CACJ,EAEAoV,EAAQhuB,UAAUsyB,oBAAsB,SAAU3vB,EAAQm1B,GACtD,MAAO,CACHnyB,GAAIhD,EAAOgD,GACXb,YAAanC,EAAOmC,YACpBoO,WAAYvQ,EAAOuQ,WACnBC,iBAAkBxQ,EAAOwQ,iBACzBtI,iBAAkBlI,EAAOkI,iBACzBsD,SAAUxL,EAAOwL,SACjB1J,OAAQ9B,EAAO8B,OACf8D,MAAO5F,EAAO4F,MACdoG,YAAahM,EAAOgM,YACpBhI,MAAOhE,EAAOgE,MACdoxB,WAAYp1B,EAAOgC,MAAQhC,EAAOgC,MAAM4D,WAAQiM,EAChD/O,QAAS9C,EAAO8C,QAChBqyB,QAASA,EAEjB,EACA9J,EAAQhuB,UAAU+yB,eAAiB,SAAUpsB,GACrCA,SAGJpG,KAAKorB,cAAc3Z,aAAazP,EAAUG,OAAQ,CAC9CiE,MAAOA,GAEf,EACAqnB,EAAQhuB,UAAUg4B,oBAAsB,SAAUvyB,GAC9C,IAAI8K,EAAQhQ,KACRqU,EAAQrU,KAAKkvB,OAAO7a,MACxB,GAAKA,EAAM3T,QAAWV,KAAKgqB,OAAOlV,aAAgB9U,KAAKgqB,OAAOjV,iBAA9D,CAGA,IAAI3P,EAAKF,GAAWooB,GAAepoB,EAAQ4T,eACvC4e,EAAetyB,GAAMiP,EAAM0E,MAAK,SAAU1U,GAAQ,OAAOA,EAAKe,KAAOA,CAAI,IACxEsyB,GAGL13B,KAAKkvB,OAAO5U,SAAQ,WAIhB,GAFAtK,EAAMmiB,YAAYuF,GAClB1nB,EAAMwiB,eAAekF,EAAatxB,OAC9B4J,EAAMye,sBAAwBze,EAAM4d,yBAA0B,CAC9D,IAAI+J,GAAqB3nB,EAAMga,OAAOpU,WAAa5F,EAAMkf,OAAOzc,QAAQmlB,UAAY5nB,EAAMkf,OAAOzc,SAASsG,MAAK,SAAU3W,GAAU,OAAOA,EAAOgM,WAAa,IAC1JupB,IACA3nB,EAAM6nB,SAASF,GACf3nB,EAAMiiB,iBACF0F,EAAkBvxB,OAClB4J,EAAMwiB,eAAemF,EAAkBvxB,OAGnD,CACJ,GApBA,CAqBJ,EACAqnB,EAAQhuB,UAAUq4B,kBAAoB,SAAU5yB,EAAS6yB,GACrD,IAAI/nB,EAAQhQ,UACQ,IAAhB+3B,IAA0BA,GAAc,GAC5C,IAAI1jB,EAAQrU,KAAKkvB,OAAO7a,MACxB,GAAKA,EAAM3T,QAAWV,KAAKgqB,OAAOlV,cAAe9U,KAAKyuB,oBAAtD,CAGA,IAAIrpB,EAAKkoB,GAAepoB,GACnBE,IAMLiP,EAAMZ,SAAQ,SAAUpP,GAChBA,EAAKe,KAAOA,GAAOf,EAAKE,aAGlBwzB,GAAe1zB,EAAKE,aAC1ByL,EAAMtN,gBAAgB2B,GAHtB2L,EAAMxN,cAAc6B,EAK5B,IAGArE,KAAKmR,MAAMtC,QAlBX,CAmBJ,EACA4e,EAAQhuB,UAAUu4B,oBAAsB,SAAU9yB,GAC9C,IAAI8K,EAAQhQ,KAERoF,EAAKkoB,GAAepoB,GACpB9C,EAASgD,GAAMpF,KAAKkvB,OAAOtU,cAAcxV,GAC7C,IAAKhD,GAAUA,EAAOwL,SAClB,OAAO,EAEX,IAAIqqB,EAAoBj4B,KAAK8sB,SAAShiB,SACtC,IAAK1I,EAAOmQ,SAAU,CAClB,IAAKvS,KAAK21B,eACN,OAAO,EAEX31B,KAAKkvB,OAAO5U,SAAQ,WAChBtK,EAAM6nB,SAASz1B,GAAQ,GAAM,GAC7B4N,EAAMslB,aACNtlB,EAAMiiB,gBACV,IACAjyB,KAAKwyB,eAAepwB,EAAOgE,MAC/B,CAMA,OAJI6xB,GAAqBj4B,KAAKgqB,OAAOvV,wBACjCzU,KAAKkC,cAAa,GAClBlC,KAAKsX,eAAepS,QAAQ2J,UAEzB,CACX,EACA4e,EAAQhuB,UAAUy4B,iBAAmB,SAAU7jB,GAC3C,IAAI2V,EAAShqB,KAAKgqB,OAClB,GAAKA,EAAOlV,aAAgBT,EAAM3T,OAAlC,CAGA,IAAIy3B,EAAW9jB,EAAMA,EAAM3T,OAAS,GAChC03B,EAAsB/jB,EAAMqG,MAAK,SAAUrW,GAAQ,OAAOA,EAAKE,WAAa,IAG5EylB,EAAO/U,YAAcmjB,GAAuBD,GAC5Cn4B,KAAKmR,MAAM/K,MAAQ+xB,EAAS/xB,MAC5BpG,KAAKmR,MAAMnC,WACXhP,KAAKmyB,YAAYgG,GACjBn4B,KAAKwyB,eAAe2F,EAAS/xB,SAGxBgyB,GAEDp4B,KAAKwC,cAAc21B,GAAU,GAEjCn4B,KAAKsyB,wBAAuB,GAhBhC,CAkBJ,EACA7E,EAAQhuB,UAAUyxB,aAAe,WAC7B,IAAIrpB,EACAmI,EAAQhQ,KACRgqB,EAAShqB,KAAKgqB,OAClB,GAAIhqB,KAAKwuB,eAAgB,CAIrB,GAFAxuB,KAAKq4B,eAAiBrO,EAAO3V,MAAMvK,KAAI,SAAUW,GAAK,OAAO0H,EAAiB1H,GAAG,EAAQ,IAErFzK,KAAKorB,cAAchlB,MAAO,CAC1B,IAAIkyB,EAAet4B,KAAKorB,cAAchlB,MACjC8L,MAAM8X,EAAO5U,WACbtL,KAAI,SAAUW,GAAK,OAAO0H,EAAiB1H,GAAG,EAAOuF,EAAMga,OAAO9U,mBAAqB,IAC5FlV,KAAKq4B,eAAiBr4B,KAAKq4B,eAAel3B,OAAOm3B,EACrD,CACAt4B,KAAKq4B,eAAe5kB,SAAQ,SAAUrR,GAClCA,EAAOmQ,UAAW,CACtB,GACJ,MACK,GAAIvS,KAAKsrB,iBAAkB,CAE5BtrB,KAAKq4B,eAAiBrO,EAAOvX,QAAQ3I,KAAI,SAAUW,GAAK,OAAO0H,EAAiB1H,GAAG,EAAO,IAE1F,IAAIoqB,EAAqB70B,KAAKorB,cAAczX,mBACxCkhB,IACChtB,EAAK7H,KAAKq4B,gBAAgBxkB,KAAKlT,MAAMkH,EAAIgtB,EAElD,CACJ,EACApH,EAAQhuB,UAAUs0B,oBAAsB,SAAUwE,QAC3B,IAAfA,IAAyBA,GAAa,GAC1C,IAAI9wB,EAAKzH,KAAKqrB,SAASnmB,QACnBqzB,GACAv4B,KAAK6M,UACL7M,KAAKsX,eAAelK,kBAChBpN,KAAKyuB,oBACLhnB,EAAG4tB,gBAAgBr1B,KAAKgvB,WAAW5gB,YAAYpO,KAAKgqB,OAAQhqB,KAAKgqB,OAAO3T,cAGxErW,KAAKmR,MAAM/C,YAAcpO,KAAKgqB,OAAO3T,cAIzCrW,KAAK2M,SACL3M,KAAKsX,eAAehK,qBAChBtN,KAAKyuB,qBACLhnB,EAAG4tB,gBAAgB,IACnBr1B,KAAK+vB,WAGL/vB,KAAKmR,MAAM/C,YAAcpO,KAAKwvB,mBAAqB,GAG/D,EACA/B,EAAQhuB,UAAU+4B,cAAgB,SAAUpyB,GACxC,GAAKpG,KAAKmR,MAAM1D,WAIhB,GAAIrH,SAAkDA,EAAM1F,QAAUV,KAAKgqB,OAAOxU,YAAa,CAC3F,IAAIijB,EAAcz4B,KAAKgqB,OAAOzU,cAAgBvV,KAAKi1B,eAAe7uB,GAAS,EACvD,OAAhBqyB,GAEAz4B,KAAKorB,cAAc3Z,aAAazP,EAAUK,OAAQ,CAC9C+D,MAAOA,EACPqyB,YAAaA,GAGzB,MACSz4B,KAAKkvB,OAAOzc,QAAQiI,MAAK,SAAU7Q,GAAU,OAAQA,EAAO3F,MAAQ,KACzElE,KAAK4xB,aAEb,EACAnE,EAAQhuB,UAAUk2B,aAAe,WAC7B,IAAI3L,EAAShqB,KAAKgqB,OACdxV,EAAewV,EAAOxV,aAAcsC,EAAckT,EAAOlT,YAC7D,OAAKkT,EAAOtV,0BAA4BF,EAAe,GAAKA,GAAgBxU,KAAKkvB,OAAO7a,MAAM3T,QAC1FV,KAAK6rB,WAAW3mB,QAAQmwB,gBAAgB,IACxCr1B,KAAK22B,aAAU1iB,EACfjU,KAAKk3B,eAAsC,mBAAhBpgB,EAA6BA,EAAYtC,GAAgBsC,EAAaiE,GAAYnX,YACtG,IAEP5D,KAAK22B,SAAW32B,KAAK22B,QAAQ9yB,OAASkX,GAAYnX,WAClD5D,KAAKk1B,gBAEF,EACX,EACAzH,EAAQhuB,UAAUi5B,eAAiB,SAAUtyB,GACzC,IAAI4jB,EAAShqB,KAAKgqB,OACd2O,GAAa,EACbtgB,EAAS,GAKb,GAJIsgB,GAA8C,mBAAzB3O,EAAOnV,gBAAiCmV,EAAOnV,cAAczO,KAClFuyB,GAAa,EACbtgB,EAASrR,EAAsBgjB,EAAOtT,kBAAmBtQ,IAEzDuyB,GACkB34B,KAAKkvB,OAAOzc,QAAQsG,MAAK,SAAU3W,GAAU,OAAO4nB,EAAOjT,cAAc3U,EAAOgE,MAAOA,EAAQ,IAChG,CACb,GAAIpG,KAAKsrB,iBAGL,OADAtrB,KAAKk3B,eAAe,GAAInc,GAAYnX,YAC7B,EAENomB,EAAO7U,wBACRwjB,GAAa,EACbtgB,EAASrR,EAAsBgjB,EAAOvT,eAAgBrQ,GAE9D,CAQJ,OANIuyB,IACAtgB,EAASrR,EAAsBgjB,EAAOrT,YAAavQ,IAEnDiS,GACArY,KAAKk3B,eAAe7e,EAAQ0C,GAAYnX,WAErC+0B,CACX,EACAlL,EAAQhuB,UAAUw1B,eAAiB,SAAU7uB,GACzC,IAAIwyB,EAAWxyB,EAAMQ,OAAOtB,QAAQ,SAAU,KAE9C,IAAKszB,EAASl4B,QAAUk4B,IAAa54B,KAAKmvB,cACtC,OAAO,KAEX,IAAI1I,EAAWzmB,KAAKixB,UAChBxK,EAAS4D,gBACT5D,EAASzI,MAAMhe,KAAKkvB,OAAO2J,mBAG/B,IAAI70B,EAAUyiB,EAASpkB,OAAOu2B,GAC9B54B,KAAKmvB,cAAgByJ,EACrB54B,KAAKsvB,mBAAqB,EAC1BtvB,KAAKm0B,cAAe,EACpB,IAAI9b,EAASrY,KAAK22B,QAWlB,OAViBte,GAAUA,EAAOxU,QACfkX,GAAYnX,YACtBI,EAAQtD,OAITV,KAAKk1B,eAHLl1B,KAAKk3B,eAAehwB,EAAsBlH,KAAKgqB,OAAO1T,eAAgByE,GAAYzC,YAM1FtY,KAAKkvB,OAAOhV,SAASnW,EAAcC,IAC5BA,EAAQtD,MACnB,EACA+sB,EAAQhuB,UAAUmyB,YAAc,WACxB5xB,KAAKm0B,eACLn0B,KAAKmvB,cAAgB,GACrBnvB,KAAKm0B,cAAe,EACpBn0B,KAAKk1B,eACLl1B,KAAKkvB,OAAOhV,SAASjW,GAAgB,IACrCjE,KAAKorB,cAAc3Z,aAAazP,EAAUK,OAAQ,CAC9C+D,MAAO,GACPqyB,YAAa,IAGzB,EACAhL,EAAQhuB,UAAU8xB,mBAAqB,WACnC,IAAInE,EAAkBptB,KAAKmrB,SACvB2N,EAAe94B,KAAKsX,eAAepS,QACnC6zB,EAAe/4B,KAAKmR,MAAMjM,QAE9BkoB,EAAgB3e,iBAAiB,WAAYzO,KAAKowB,aAAa,GAC/D0I,EAAarqB,iBAAiB,UAAWzO,KAAKiwB,YAAY,GAC1D6I,EAAarqB,iBAAiB,YAAazO,KAAKqwB,cAAc,GAE9DjD,EAAgB3e,iBAAiB,QAASzO,KAAKkwB,SAAU,CAAExhB,SAAS,IACpE0e,EAAgB3e,iBAAiB,YAAazO,KAAKmwB,aAAc,CAC7DzhB,SAAS,IAEb1O,KAAK8sB,SAAS5nB,QAAQuJ,iBAAiB,YAAazO,KAAKswB,aAAc,CACnE5hB,SAAS,IAET1O,KAAKyuB,sBACLqK,EAAarqB,iBAAiB,QAASzO,KAAKgO,SAAU,CAClDU,SAAS,IAEboqB,EAAarqB,iBAAiB,OAAQzO,KAAKiO,QAAS,CAChDS,SAAS,KAGjBqqB,EAAatqB,iBAAiB,QAASzO,KAAKgwB,SAAU,CAClDthB,SAAS,IAEbqqB,EAAatqB,iBAAiB,QAASzO,KAAK+N,SAAU,CAClDW,SAAS,IAEbqqB,EAAatqB,iBAAiB,QAASzO,KAAKgO,SAAU,CAClDU,SAAS,IAEbqqB,EAAatqB,iBAAiB,OAAQzO,KAAKiO,QAAS,CAChDS,SAAS,IAETqqB,EAAaC,MACbD,EAAaC,KAAKvqB,iBAAiB,QAASzO,KAAKuwB,aAAc,CAC3D7hB,SAAS,IAGjB1O,KAAKmR,MAAM3C,mBACf,EACAif,EAAQhuB,UAAUiyB,sBAAwB,WACtC,IAAItE,EAAkBptB,KAAKmrB,SACvB2N,EAAe94B,KAAKsX,eAAepS,QACnC6zB,EAAe/4B,KAAKmR,MAAMjM,QAC9BkoB,EAAgBxe,oBAAoB,WAAY5O,KAAKowB,aAAa,GAClE0I,EAAalqB,oBAAoB,UAAW5O,KAAKiwB,YAAY,GAC7D6I,EAAalqB,oBAAoB,YAAa5O,KAAKqwB,cAAc,GACjEjD,EAAgBxe,oBAAoB,QAAS5O,KAAKkwB,UAClD9C,EAAgBxe,oBAAoB,YAAa5O,KAAKmwB,cACtDnwB,KAAK8sB,SAAS5nB,QAAQ0J,oBAAoB,YAAa5O,KAAKswB,cACxDtwB,KAAKyuB,sBACLqK,EAAalqB,oBAAoB,QAAS5O,KAAKgO,UAC/C8qB,EAAalqB,oBAAoB,OAAQ5O,KAAKiO,UAElD8qB,EAAanqB,oBAAoB,QAAS5O,KAAKgwB,UAC/C+I,EAAanqB,oBAAoB,QAAS5O,KAAK+N,UAC/CgrB,EAAanqB,oBAAoB,QAAS5O,KAAKgO,UAC/C+qB,EAAanqB,oBAAoB,OAAQ5O,KAAKiO,SAC1C8qB,EAAaC,MACbD,EAAaC,KAAKpqB,oBAAoB,QAAS5O,KAAKuwB,cAExDvwB,KAAKmR,MAAMxC,sBACf,EACA8e,EAAQhuB,UAAUwwB,WAAa,SAAUpnB,GACrC,IAAI0uB,EAAU1uB,EAAM0uB,QAChBU,EAAoBj4B,KAAK8sB,SAAShiB,SA6BlCmuB,EAAwC,IAArBpwB,EAAMuR,IAAI1Z,QACP,IAArBmI,EAAMuR,IAAI1Z,QAAgBmI,EAAMuR,IAAI8e,WAAW,IAAM,OACxC,iBAAdrwB,EAAMuR,IAwBV,OAnBKpa,KAAKwuB,gBACLyJ,GACDV,IAAY50B,EAAWO,SACvBq0B,IAAY50B,EAAWC,SACvB20B,IAAY50B,EAAWE,YACvB7C,KAAKiC,gBACAjC,KAAKmR,MAAM1D,YAAcwrB,IAM1Bj5B,KAAKmR,MAAM/K,OAASyC,EAAMuR,IAER,MAAdvR,EAAMuR,KACNvR,EAAMuG,mBAIVmoB,GACJ,KAAK50B,EAAWM,MACZ,OAAOjD,KAAKwwB,aAAa3nB,EAAO7I,KAAKqrB,SAASnmB,QAAQi0B,iBAC1D,KAAKx2B,EAAWK,UACZ,OAAOhD,KAAKywB,YAAY5nB,EAAOovB,GACnC,KAAKt1B,EAAWO,QACZ,OAAOlD,KAAK0wB,aAAa7nB,EAAOovB,GACpC,KAAKt1B,EAAWQ,OAChB,KAAKR,EAAWU,YAChB,KAAKV,EAAWS,SAChB,KAAKT,EAAWW,cACZ,OAAOtD,KAAK2wB,gBAAgB9nB,EAAOovB,GACvC,KAAKt1B,EAAWI,WAChB,KAAKJ,EAAWG,SACZ,OAAO9C,KAAK4wB,aAAa/nB,EAAO7I,KAAKkvB,OAAO7a,MAAOrU,KAAKmR,MAAM1D,YAE1E,EACAggB,EAAQhuB,UAAUuwB,SAAW,WACzBhwB,KAAKovB,WAAapvB,KAAKgqB,OAAO1U,aAClC,EACAmY,EAAQhuB,UAAUsO,SAAW,WACzB,IAAI3H,EAAQpG,KAAKmR,MAAM/K,MAClBA,EASApG,KAAK21B,iBAGN31B,KAAKovB,YAELpvB,KAAKw4B,cAAcpyB,GAElBpG,KAAK2uB,qBAIV3uB,KAAK04B,eAAetyB,GAChBpG,KAAKsrB,mBACLtrB,KAAKsvB,mBAAqB,EAC1BtvB,KAAK62B,sBAtBD72B,KAAKwuB,eACLxuB,KAAKkC,cAAa,GAGlBlC,KAAK4xB,aAoBjB,EACAnE,EAAQhuB,UAAU+wB,aAAe,SAAU3nB,EAAOuwB,IAEzCvwB,EAAMwwB,SAAWxwB,EAAMywB,UAAYF,IACpCp5B,KAAKovB,YAAa,EACQpvB,KAAKgqB,OAAOlV,cAAgB9U,KAAKmR,MAAM/K,OAASpG,KAAKmR,MAAMjM,UAAYsB,SAASmH,eAEtG3N,KAAKgyB,eAGjB,EACAvE,EAAQhuB,UAAUgxB,YAAc,SAAU5nB,EAAOovB,GAC7C,IAAIjoB,EAAQhQ,KACRoG,EAAQpG,KAAKmR,MAAM/K,MACnBmzB,EAAS1wB,EAAM0wB,OAEnB,GADA1wB,EAAMuG,iBACFmqB,GAAUA,EAAOvlB,aAAa,eAC9BhU,KAAKy3B,oBAAoB8B,QAG7B,GAAKtB,EAAL,CAMA,IAAIuB,EAAoBx5B,KAAK8sB,SAAS5nB,QAAQmO,cAAczJ,EAAsB5J,KAAKgqB,OAAOnf,WAAWsN,mBACzG,IAAIqhB,IAAqBx5B,KAAKg4B,oBAAoBwB,GAGlD,GAAKD,GAAWnzB,GAIhB,GAAKpG,KAAK21B,eAAV,CAGA,IAAI8D,GAAY,EAChBz5B,KAAKkvB,OAAO5U,SAAQ,WAEhB,KADAmf,EAAYzpB,EAAMqjB,4BAA4BjtB,GAAO,IACrC,CACZ,IAAK4J,EAAM2e,mBACP,OAEJ,IAAK3e,EAAM0oB,eAAetyB,GACtB,OAEJ4J,EAAMijB,WAAW9gB,EAAiB/L,GAAO,EAAO4J,EAAMga,OAAO9U,qBAAqB,GAAM,GACxFukB,GAAY,CAChB,CACAzpB,EAAMslB,aACNtlB,EAAMiiB,gBACV,IACKwH,IAGLz5B,KAAKwyB,eAAepsB,GAChBpG,KAAKgqB,OAAOvV,uBACZzU,KAAKkC,cAAa,GAtBtB,OALIlC,KAAKkC,cAAa,EANtB,MAJQlC,KAAKsrB,kBAAoBtrB,KAAK22B,UAC9B32B,KAAKiC,cAsCjB,EACAwrB,EAAQhuB,UAAUixB,aAAe,SAAU7nB,EAAOovB,GAC1CA,IACApvB,EAAM6wB,kBACN15B,KAAKkC,cAAa,GAClBlC,KAAK4xB,cACL5xB,KAAKsX,eAAepS,QAAQ2J,QAEpC,EACA4e,EAAQhuB,UAAUkxB,gBAAkB,SAAU9nB,EAAOovB,GACjD,IAAIV,EAAU1uB,EAAM0uB,QAEpB,GAAIU,GAAqBj4B,KAAKyuB,oBAAqB,CAC/CzuB,KAAKiC,eACLjC,KAAKovB,YAAa,EAClB,IAAIuK,EAAepC,IAAY50B,EAAWS,UAAYm0B,IAAY50B,EAAWW,cAAgB,GAAK,EAE9Fs2B,OAAS,EACb,GAFc/wB,EAAMywB,SAAW/B,IAAY50B,EAAWW,eAAiBi0B,IAAY50B,EAAWU,YAItFu2B,EADAD,EAAe,EACN35B,KAAK8sB,SAAS5nB,QAAQmO,cAAc,GAAGlS,OAAOqsB,GAA4B,kBAG1ExtB,KAAK8sB,SAAS5nB,QAAQmO,cAAcma,QAGhD,CACD,IAAIqM,EAAY75B,KAAK8sB,SAAS5nB,QAAQmO,cAAczJ,EAAsB5J,KAAKgqB,OAAOnf,WAAWsN,mBAE7FyhB,EADAC,EACSt0B,EAAcs0B,EAAWrM,GAA4BmM,GAGrD35B,KAAK8sB,SAAS5nB,QAAQmO,cAAcma,GAErD,CACIoM,IAGK9zB,EAAmB8zB,EAAQ55B,KAAK6rB,WAAW3mB,QAASy0B,IACrD35B,KAAK6rB,WAAW9b,qBAAqB6pB,EAAQD,GAEjD35B,KAAK62B,iBAAiB+C,IAI1B/wB,EAAMuG,gBACV,CACJ,EACAqe,EAAQhuB,UAAUmxB,aAAe,SAAU/nB,EAAOwL,EAAOylB,GAEhD95B,KAAKyuB,qBAAwB5lB,EAAM0wB,OAAOnzB,QAAS0zB,IACpD95B,KAAKk4B,iBAAiB7jB,GACtBxL,EAAMuG,iBAEd,EACAqe,EAAQhuB,UAAU0wB,aAAe,WACzBnwB,KAAKuvB,UACLvvB,KAAKuvB,SAAU,EAEvB,EACA9B,EAAQhuB,UAAU2wB,YAAc,SAAUvnB,GACtC,IAAI0wB,GAAU1wB,GAASA,EAAMkxB,QAAQ,IAAIR,OACXv5B,KAAKuvB,SAAWvvB,KAAKsX,eAAepS,QAAQ80B,SAAST,MAEjDA,IAAWv5B,KAAKsX,eAAepS,SAAWq0B,IAAWv5B,KAAKuX,eAAerS,WAE/FlF,KAAKwuB,eACLxuB,KAAKmR,MAAMtC,QAEN7O,KAAK0uB,0BACV1uB,KAAKiC,gBAIb4G,EAAM6wB,mBAEV15B,KAAKuvB,SAAU,CACnB,EAIA9B,EAAQhuB,UAAU4wB,aAAe,SAAUxnB,GACvC,IAAI0wB,EAAS1wB,EAAM0wB,OACnB,GAAMA,aAAkBU,YAAxB,CAIA,GAAI9M,IAAWntB,KAAK6rB,WAAW3mB,QAAQ80B,SAAST,GAAS,CAErD,IAAIW,EAAcl6B,KAAK6rB,WAAW3mB,QAAQ0K,kBAC1C5P,KAAKqvB,iBACmB,QAApBrvB,KAAK2vB,WAAuB9mB,EAAMsxB,SAAWD,EAAYE,YAAcvxB,EAAMsxB,QAAUD,EAAYG,UAC3G,CACA,GAAId,IAAWv5B,KAAKmR,MAAMjM,QAA1B,CAGA,IAAIb,EAAOk1B,EAAOjI,QAAQ,2CACtBjtB,aAAgB41B,cACZ,WAAY51B,EAAK2M,QACjBhR,KAAKy3B,oBAAoBpzB,GAEpB,SAAUA,EAAK2M,QACpBhR,KAAK83B,kBAAkBzzB,EAAMwE,EAAMyxB,UAE9B,WAAYj2B,EAAK2M,SACtBhR,KAAKg4B,oBAAoB3zB,IAGjCwE,EAAMuG,gBAbN,CAVA,CAwBJ,EAKAqe,EAAQhuB,UAAU6wB,aAAe,SAAUzoB,GACvC,IAAI0xB,EAAS1xB,EAAG0xB,OACZA,aAAkBU,aAAe,WAAYV,EAAOvoB,SACpDhR,KAAK62B,iBAAiB0C,EAE9B,EACA9L,EAAQhuB,UAAUywB,SAAW,SAAUroB,GACnC,IAAI0xB,EAAS1xB,EAAG0xB,OACZjiB,EAAiBtX,KAAKsX,eACIA,EAAepS,QAAQ80B,SAAST,GAErDv5B,KAAK8sB,SAAShiB,UAAawM,EAAe/L,WAWtCvL,KAAKyuB,qBACV8K,IAAWv5B,KAAKmR,MAAMjM,UACrBlF,KAAK8sB,SAAS5nB,QAAQ80B,SAAST,IAChCv5B,KAAKkC,eAbDlC,KAAKwuB,eACDhoB,SAASmH,gBAAkB3N,KAAKmR,MAAMjM,SACtClF,KAAKmR,MAAMtC,SAIf7O,KAAKiC,eACLqV,EAAepS,QAAQ2J,UAU/ByI,EAAe5K,mBACf1M,KAAKkC,cAAa,GAClBlC,KAAKiyB,iBAEb,EACAxE,EAAQhuB,UAAUuO,SAAW,SAAUnG,GACnC,IAAI0xB,EAAS1xB,EAAG0xB,OACZjiB,EAAiBtX,KAAKsX,eAE1B,GAD8BiiB,GAAUjiB,EAAepS,QAAQ80B,SAAST,GACxE,CAGA,IAAIgB,EAAgBhB,IAAWv5B,KAAKmR,MAAMjM,QACtClF,KAAKwuB,eACD+L,GACAjjB,EAAe9K,gBAGdxM,KAAK0uB,yBACN6L,IACAv6B,KAAKiC,cAAa,GAGlBqV,EAAe9K,kBAInB8K,EAAe9K,gBACX+tB,GACAv6B,KAAKiC,cAAa,GAlB1B,CAqBJ,EACAwrB,EAAQhuB,UAAUwO,QAAU,SAAUpG,GAClC,IAAI0xB,EAAS1xB,EAAG0xB,OACZjiB,EAAiBtX,KAAKsX,eACGiiB,GAAUjiB,EAAepS,QAAQ80B,SAAST,KACxCv5B,KAAKqvB,iBAC5BkK,IAAWv5B,KAAKmR,MAAMjM,SACtBoS,EAAe5K,mBACf1M,KAAKkC,cAAa,IACdlC,KAAKwuB,gBAAkBxuB,KAAK0uB,2BAC5B1uB,KAAKiyB,kBAGJsH,IAAWv5B,KAAKsX,eAAepS,UAEpCoS,EAAe5K,mBAEV1M,KAAKovB,YACNpvB,KAAKkC,cAAa,KAQ1BlC,KAAKqvB,kBAAmB,EACxBrvB,KAAKmR,MAAMjM,QAAQ2J,QAE3B,EACA4e,EAAQhuB,UAAU8wB,aAAe,WAC7B,IAAIvgB,EAAQhQ,KACZA,KAAKkvB,OAAO5U,SAAQ,WAChBtK,EAAMslB,aACNtlB,EAAM9N,eACN8N,EAAMykB,SAAQ,GAAO,GAAO,GACxBzkB,EAAM+gB,cAAcrwB,QACpBsP,EAAMmjB,iBAAiBnjB,EAAM+gB,cAErC,GACJ,EACAtD,EAAQhuB,UAAUo3B,iBAAmB,SAAUpvB,QAChC,IAAPA,IAAiBA,EAAK,MAC1B,IAAIgL,EAAUlT,MAAMuB,KAAKd,KAAK8sB,SAAS5nB,QAAQ0O,iBAAiB4Z,KAChE,GAAK/a,EAAQ/R,OAAb,CAGA,IAAI85B,EAAW/yB,EACX0Q,EAAmBnY,KAAKgqB,OAAOnf,WAAWsN,iBACrB5Y,MAAMuB,KAAKd,KAAK8sB,SAAS5nB,QAAQ0O,iBAAiBhK,EAAsBuO,KAE9E1E,SAAQ,SAAUrR,GACjC+H,EAAyB/H,EAAQ+V,GACjC/V,EAAO6I,aAAa,gBAAiB,QACzC,IACIuvB,EACAx6B,KAAKsvB,mBAAqB7c,EAAQjJ,QAAQgxB,IAMtCA,EAFA/nB,EAAQ/R,OAASV,KAAKsvB,mBAEX7c,EAAQzS,KAAKsvB,oBAIb7c,EAAQA,EAAQ/R,OAAS,MAGpC85B,EAAW/nB,EAAQ,IAG3B1I,EAAoBywB,EAAUriB,GAC9BqiB,EAASvvB,aAAa,gBAAiB,QACvCjL,KAAKorB,cAAc3Z,aAAazP,EAAUS,gBAAiB,CACvDgF,GAAI+yB,IAEJx6B,KAAK8sB,SAAShiB,WAGd9K,KAAKmR,MAAMnF,oBAAoBwuB,EAASp1B,IACxCpF,KAAKsX,eAAetL,oBAAoBwuB,EAASp1B,IAnCrD,CAqCJ,EACAqoB,EAAQhuB,UAAUo4B,SAAW,SAAUxzB,EAAMqwB,EAAY+F,GAGrD,QAFmB,IAAf/F,IAAyBA,GAAa,QACpB,IAAlB+F,IAA4BA,GAAgB,IAC3Cp2B,EAAKe,GACN,MAAM,IAAIvF,UAAU,oEAEpBG,KAAKgqB,OAAOtV,0BAA4B1U,KAAKyuB,sBAC7CzuB,KAAKoyB,kBAAkB/tB,EAAKe,IAEhCpF,KAAKkvB,OAAOhV,SAAS5X,EAAQ+B,IACzBqwB,IACA10B,KAAKorB,cAAc3Z,aAAazP,EAAUM,QAAStC,KAAK+xB,oBAAoB1tB,IACxEo2B,GACAz6B,KAAKorB,cAAc3Z,aAAazP,EAAUI,OAAQpC,KAAK+xB,oBAAoB1tB,IAGvF,EACAopB,EAAQhuB,UAAU0yB,YAAc,SAAU9tB,GACtC,GAAKA,EAAKe,GAAV,CAGApF,KAAKkvB,OAAOhV,SAAS5V,EAAaD,IAClC,IAAIgU,EAASrY,KAAK22B,QACdte,GAAUA,EAAOxU,OAASkX,GAAYxC,WACtCvY,KAAKk1B,eAETl1B,KAAKorB,cAAc3Z,aAAazP,EAAUO,WAAYvC,KAAK+xB,oBAAoB1tB,GAN/E,CAOJ,EACAopB,EAAQhuB,UAAUwzB,WAAa,SAAU7wB,EAAQsyB,EAAY+F,GAGzD,QAFmB,IAAf/F,IAAyBA,GAAa,QACpB,IAAlB+F,IAA4BA,GAAgB,GAC5Cr4B,EAAOgD,GACP,MAAM,IAAIvF,UAAU,wDAExB,IAAImqB,EAAShqB,KAAKgqB,OAClB,GAAKA,EAAO7U,wBAAyBnV,KAAKkvB,OAAOzc,QAAQsG,MAAK,SAAU+Y,GAAK,OAAO9H,EAAOjT,cAAc+a,EAAE1rB,MAAOhE,EAAOgE,MAAQ,IAAjI,CAIApG,KAAK6tB,qBACLzrB,EAAOgD,GAAKpF,KAAK6tB,mBACjBzrB,EAAO+pB,UAAY,GAAGhrB,OAAOnB,KAAK0vB,QAAS,KAAKvuB,OAAOnB,KAAK8vB,SAAS/X,WAAY,KAAK5W,OAAOiB,EAAOgD,IACpG,IAAI8Q,EAAe8T,EAAO9T,aAAcC,EAAc6T,EAAO7T,YACzDD,IACA9T,EAAOgE,MAAQ8P,EAAe9T,EAAOgE,OAErC+P,IACA/T,EAAOgE,OAAS+P,EAAYpR,aAE3BmR,GAAgBC,IAAgB/T,EAAO8C,UACxC9C,EAAO8C,QAAQkB,MAAQhE,EAAOgE,OAElCpG,KAAKk1B,eACLl1B,KAAKkvB,OAAOhV,SAAStW,EAAUxB,IAC3BA,EAAOmQ,UACPvS,KAAK63B,SAASz1B,EAAQsyB,EAAY+F,EAlBtC,CAoBJ,EACAhN,EAAQhuB,UAAU80B,UAAY,SAAUnwB,EAAOswB,GAC3C,IAAI1kB,EAAQhQ,KAEZ,QADmB,IAAf00B,IAAyBA,GAAa,GACtCtwB,EAAMgB,GACN,MAAM,IAAIvF,UAAU,uDAExBG,KAAKkvB,OAAOhV,SAAS/V,EAASC,IACzBA,EAAMqO,UAIXzS,KAAK8tB,oBACL1pB,EAAMgB,GAAKpF,KAAK8tB,kBAChB1pB,EAAMqO,QAAQgB,SAAQ,SAAUpP,GAC5BA,EAAKD,MAAQA,EACTA,EAAMwJ,WACNvJ,EAAKuJ,UAAW,GAEpBoC,EAAMijB,WAAW5uB,EAAMqwB,EAC3B,IACJ,EACAjH,EAAQhuB,UAAU0xB,iBAAmB,WACjC,IAAInhB,EAAQhQ,KACRqX,EAA4BrX,KAAKgqB,OAAO3S,0BACxCqjB,EAAgB,CAAC,EACoB,mBAA9BrjB,IACPqjB,EAAgBrjB,EAA0B1X,KAAKK,KAAMuG,EAASe,EAAmBmC,IAErF,IAAIkxB,EAAa,CAAC,EAClBv7B,OAAOgK,KAAKpJ,KAAKgvB,YAAYvb,SAAQ,SAAUpO,GAEvCs1B,EAAWt1B,GADXA,KAAQq1B,EACWA,EAAcr1B,GAAMyI,KAAKkC,GAGzBA,EAAMgf,WAAW3pB,GAAMyI,KAAKkC,EAEvD,IACAhQ,KAAKgvB,WAAa2L,CACtB,EACAlN,EAAQhuB,UAAU2xB,gBAAkB,WAChC,IAAIuJ,EAAa36B,KAAKgvB,WAClBnnB,EAAK7H,KAAMgqB,EAASniB,EAAGmiB,OAAQgB,EAAqBnjB,EAAG4mB,oBACvDrjB,EAAW4e,EAAO5e,SAAUP,EAAamf,EAAOnf,WAChDqjB,EAAcluB,KAAKuuB,aACvBvuB,KAAKsX,eAAiB,IAAInM,EAAU,CAChCjG,QAASy1B,EAAWrjB,eAAe0S,EAAQhqB,KAAK2vB,WAAY3vB,KAAKsrB,iBAAkBN,EAAoBhB,EAAO1U,cAAe4Y,EAAalE,EAAO7S,SACjJtM,WAAYA,EACZhH,KAAMqqB,EACN9iB,SAAUA,IAEdpL,KAAKuX,eAAiB,IAAIpM,EAAU,CAChCjG,QAASy1B,EAAWpjB,eAAeyS,GACnCnf,WAAYA,EACZhH,KAAMqqB,EACN9iB,SAAUA,IAEdpL,KAAKmR,MAAQ,IAAI5D,EAAM,CACnBrI,QAASy1B,EAAWxpB,MAAM6Y,EAAQhqB,KAAKwvB,mBACvC3kB,WAAYA,EACZhH,KAAMqqB,EACN1gB,cAAewc,EAAO3U,QAE1BrV,KAAK6rB,WAAa,IAAIvc,EAAK,CACvBpK,QAASy1B,EAAW9O,WAAW7B,EAAQgB,KAE3ChrB,KAAKqrB,SAAW,IAAI/b,EAAK,CACrBpK,QAASy1B,EAAWtP,SAASrB,EAAQgB,KAEzChrB,KAAK8sB,SAAW,IAAIliB,EAAS,CACzB1F,QAASy1B,EAAW7N,SAAS9C,GAC7Bnf,WAAYA,EACZhH,KAAMqqB,GAEd,EACAT,EAAQhuB,UAAU4xB,iBAAmB,WACjC,IAAIxpB,EAAK7H,KAAMuX,EAAiB1P,EAAG0P,eAAgBD,EAAiBzP,EAAGyP,eAAgB8T,EAAgBvjB,EAAGujB,cACtGwP,EAAkB56B,KAAK8sB,SAAS5nB,QAEpCkmB,EAAcla,UAEdqG,EAAezK,KAAKse,EAAclmB,SAElCoS,EAAexK,KAAKyK,EAAerS,SAC/BlF,KAAKyuB,oBACLzuB,KAAKmR,MAAM/C,YAAcpO,KAAKgqB,OAAO/T,wBAA0B,IAG3DjW,KAAKwvB,oBACLxvB,KAAKmR,MAAM/C,YAAcpO,KAAKwvB,mBAElCxvB,KAAKmR,MAAMnC,YAEfsI,EAAepS,QAAQgI,YAAYqK,EAAerS,SAClDoS,EAAepS,QAAQgI,YAAY0tB,GACnCrjB,EAAerS,QAAQgI,YAAYlN,KAAKqrB,SAASnmB,SACjD01B,EAAgB1tB,YAAYlN,KAAK6rB,WAAW3mB,SACvClF,KAAKyuB,oBAGDzuB,KAAKgqB,OAAO1U,eACjBslB,EAAgB3tB,aAAajN,KAAKmR,MAAMjM,QAAS01B,EAAgB/zB,YAHjE0Q,EAAerS,QAAQgI,YAAYlN,KAAKmR,MAAMjM,SAKlDlF,KAAKsvB,mBAAqB,EAC1BtvB,KAAKm0B,cAAe,CACxB,EACA1G,EAAQhuB,UAAU+xB,WAAa,WAC3B,IAAIxhB,EAAQhQ,KACZA,KAAKkvB,OAAOlV,UAAUha,KAAK+vB,SAASzV,SAAQ,WACxCtK,EAAMglB,sBAAsBhlB,EAAMqoB,eAAgBroB,EAAMye,sBAAwBze,EAAM4d,0BAA0B,EACpH,MACK5tB,KAAKkvB,OAAOzc,QAAQ/R,QAAWV,KAAKyuB,qBAAuBzuB,KAAK4tB,2BACjE5tB,KAAK+vB,SAEb,EACAtC,EAAQhuB,UAAUu1B,sBAAwB,SAAUviB,EAASkiB,EAAmBD,GAC5E,IAAI1kB,EAAQhQ,UACc,IAAtB20B,IAAgCA,GAAoB,QACrC,IAAfD,IAAyBA,GAAa,GACtCC,IAO8F,IAAtEliB,EAAQooB,WAAU,SAAUz4B,GAAU,OAAOA,EAAOmQ,QAAU,KAElFE,EAAQiI,MAAK,SAAUtY,GACnB,OAAIA,EAAOwL,YAAY,YAAaxL,KAGpCA,EAAOmQ,UAAW,GACX,EACX,IAGRE,EAAQgB,SAAQ,SAAUpP,GAClB,YAAaA,EACT2L,EAAMsb,kBACNtb,EAAMukB,UAAUlwB,EAAMqwB,GAI1B1kB,EAAMijB,WAAW5uB,EAAMqwB,EAE/B,GACJ,EACAjH,EAAQhuB,UAAU4zB,4BAA8B,SAAUjtB,EAAOq0B,GAC7D,IAAIzqB,EAAQhQ,UACU,IAAlBy6B,IAA4BA,GAAgB,GAEhD,IAAIK,EAAc96B,KAAKkvB,OAAOzc,QAAQsG,MAAK,SAAU3W,GAAU,OAAO4N,EAAMga,OAAOjT,cAAc3U,EAAOgE,MAAOA,EAAQ,IACvH,SAAI00B,GAAgBA,EAAYltB,UAAaktB,EAAYvoB,WACrDvS,KAAK63B,SAASiD,GAAa,EAAML,GAC1B,GAGf,EACAhN,EAAQhuB,UAAUgwB,0BAA4B,WAC1C,IAAIzF,EAAShqB,KAAKgqB,OAClB,IAAKA,EAAO5b,YACR,OAAO,KAEX,GAAIpO,KAAK4tB,yBACL,OAAO5D,EAAOhU,iBAElB,GAAIhW,KAAKsrB,iBAAkB,CACvB,IAAIyP,EAAoB/6B,KAAKorB,cAAc2P,kBAC3C,OAAOA,EAAoBA,EAAkBrY,KAAO,IACxD,CACA,OAAO,IACX,EACA+K,EAAQhuB,UAAUyzB,uBAAyB,SAAU8H,GACjD,IAAIh7B,KAAKgqB,OAAO1V,OAAhB,CAGA,IAAKtU,KAAKivB,YACN,MAAM,IAAIpvB,UAAU,GAAGsB,OAAO65B,EAAQ,qDAErC,IAAKh7B,KAAK2tB,cACX,MAAM,IAAI9tB,UAAU,GAAGsB,OAAO65B,EAAQ,oFAL1C,CAOJ,EACAvN,EAAQ1D,QAAU,SACX0D,CACX,CAh3D4B,EAo3D/B,CAvnKmFwN,E,6BCHpFl8B,EAAOC,QAAUk8B,S,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBpnB,IAAjBqnB,EACH,OAAOA,EAAat8B,QAGrB,IAAID,EAASo8B,EAAyBE,GAAY,CAGjDr8B,QAAS,CAAC,GAOX,OAHAu8B,EAAoBF,GAAU17B,KAAKZ,EAAOC,QAASD,EAAQA,EAAOC,QAASo8B,GAGpEr8B,EAAOC,OACf,CCrBAo8B,EAAoB56B,EAAKzB,IACxB,IAAIy8B,EAASz8B,GAAUA,EAAO08B,WAC7B,IAAO18B,EAAiB,QACxB,IAAM,EAEP,OADAq8B,EAAoBl8B,EAAEs8B,EAAQ,CAAE/yB,EAAG+yB,IAC5BA,CAAM,ECLdJ,EAAoBl8B,EAAI,CAACF,EAAS08B,KACjC,IAAI,IAAIthB,KAAOshB,EACXN,EAAoB7f,EAAEmgB,EAAYthB,KAASghB,EAAoB7f,EAAEvc,EAASob,IAC5Ehb,OAAO8O,eAAelP,EAASob,EAAK,CAAE/L,YAAY,EAAME,IAAKmtB,EAAWthB,IAE1E,ECNDghB,EAAoBO,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO57B,MAAQ,IAAI67B,SAAS,cAAb,EAChB,CAAE,MAAOpxB,GACR,GAAsB,iBAAXqB,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBsvB,EAAoB7f,EAAI,CAAC7H,EAAK/N,IAAUvG,OAAOK,UAAUC,eAAeC,KAAK+T,EAAK/N,GCClFy1B,EAAoBlgB,EAAKlc,IACH,oBAAX6c,QAA0BA,OAAOigB,aAC1C18B,OAAO8O,eAAelP,EAAS6c,OAAOigB,YAAa,CAAE11B,MAAO,WAE7DhH,OAAO8O,eAAelP,EAAS,aAAc,CAAEoH,OAAO,GAAO,E,wHCH9D,MAAM21B,EAAWjwB,QAAwB,EAAA6vB,EACzCI,EAAQtO,QAAU,IAElBjnB,SAASiI,iBAAiB,oBAAoB,KAC1CstB,EAAQC,iBAAiB,IAE7BD,EAAQC,gBAAkB,KACtBx1B,SAASoN,iBAAiB,8BAA8BH,SAAQwoB,GACrD,IAAI,UAAkBA,KAEjCz1B,SAASoN,iBAAiB,2BAA2BH,SAAQoF,IAC1C,IAAI,IAAJ,CAAYA,EAAQ,CAC/BtR,WAAW,EACXqO,YAAY,EACZI,iBAAkB6C,EAAOtH,aAAa,gBAAkB,GACxD1G,WAAY,CAAEyM,eAAgB,CAAC,UAAW,WAC5C,IAEN9Q,SAASoN,iBAAiB,iCAAiCH,SAAQoF,IAC/D,IAAIqjB,EAAgBrjB,EAAOzS,MACvB4S,EAAS,IAAIzZ,MACjBiH,SAASoN,iBAAiB,uDAAuDH,SAAQ5J,IACrF,IAAIzF,EAAQyF,EAAOmH,QAAQmrB,SAASv1B,QACL,IAA3BoS,EAAOxP,QAAQpF,IACf4U,EAAOnF,KAAKzP,EAChB,IAEJ4U,EAAOvF,SAAQrP,IACXoC,SAASoN,iBAAiB,iCAAiCH,SAAQnT,IAC/D,IAAI87B,EAAe,IAAI78B,MACvBe,EAAEsT,iBAAiB,yBAAyBxP,OAAWqP,SAAQ5J,KACrB,IAAlCuyB,EAAa5yB,QAAQK,IACrBuyB,EAAavoB,KAAKhK,EACtB,IAEJ,MAAMwyB,EAAqB71B,SAASC,cAAc,YAClD41B,EAAmBr0B,MAAQ5D,EAC3Bg4B,EAAa3oB,SAAQ5J,IACjBA,EAAOyyB,YAAYD,GACnBA,EAAmBnvB,YAAYrD,EAAO,GACxC,GACJ,IAENgP,EAAOzS,MAAQ81B,EACA,IAAI,IAAJ,CAAYrjB,EAAQ,CAC/BhO,WAAY,CAAEyM,eAAgB,CAAC,UAAW,UAC1C/P,WAAW,EACXqO,YAAY,EACZb,iBAAgD,SAA9B8D,EAAO7H,QAAQurB,WACjCvmB,iBAAkB6C,EAAOtH,aAAa,eACtC8F,0BAA2B,SAAUlE,GACjC,IAAIqD,EAAiBxW,KAAKgqB,OAAOxT,eACjC,MAAMzB,EAAmB/U,KAAKgqB,OAAOjV,iBACrC,MAAO,CACH,IAAA1Q,EAAK,WAAEwG,GAAc8G,GACjB,IAAI3J,EAAQ2J,EAAK3J,MACjB,GAAI2J,EAAKrH,iBAAkB,CACvB,IAAIkyB,EACJ,IACIA,EAAOjyB,KAAKC,MAAMmH,EAAKrH,iBAC3B,CACA,MAAOG,GACH+xB,EAAO7qB,EAAKrH,gBAChB,CACAtC,OAAuBiM,IAAfuoB,EAAKx0B,MAAsB2J,EAAK3J,MAAQw0B,EAAKx0B,KACzD,CACA,OAAOmL,EAAS,kDACOrT,OAAO+K,EAAWxG,SAASvE,OAAO6R,EAAKpN,YACxDsG,EAAWsN,iBACXtN,EAAWgN,mBAAmB/X,OAAO6R,EAAKvD,YAAcvD,EAAWuD,YAAc,kEACpDtO,OAAO6R,EAAKvM,oBAAoBtF,OAAO6R,EAAKvL,kDAC/DtG,OAAOiV,EAAmB,iBAAmB,8CAC7CjV,OAAO6R,EAAKzN,OAAS,uBAAyB,OAAOpE,OAAO6R,EAAK/D,SAC3E,uBACA,6CACQ9N,OAAOkI,2CACPlI,OAAOiV,EACf,gCAAgCjV,OAAO+K,EAAWqN,sCAAsCpY,OAAO6R,EAAKvL,+CACpG,iFAGV,EACA,MAAAhE,EAAO,WAAEyI,GAAc8G,GACnB,IAAI3J,EAAQ2J,EAAK3J,MACjB,GAAI2J,EAAKrH,iBAAkB,CACvB,IAAIkyB,EACJ,IACIA,EAAOjyB,KAAKC,MAAMmH,EAAKrH,iBAC3B,CACA,MAAOG,GACH+xB,EAAO7qB,EAAKrH,gBAChB,CACAtC,OAAuBiM,IAAfuoB,EAAKx0B,MAAsB2J,EAAK3J,MAAQw0B,EAAKx0B,KACzD,CACA,OAAOmL,EAAS,kDACOrT,OAAO+K,EAAWxG,SAASvE,OAAO+K,EAAWkN,eAAejY,OAAO6R,EAAK/D,SAAW/C,EAAWiN,aAAejN,EAAWgN,6EAC7G/X,OAAO0W,mBAAgC1W,OAAO6R,EAAK/D,SAC/E,4CACA,6EACmB9N,OAAO6R,EAAKvM,oBAAoBtF,OAAO6R,EAAKvL,kDACrDtG,OAAO6R,EAAK4a,QAAU,EAAI,kBAAoB,4DAC9CzsB,OAAOkI,iFAG3B,EAER,IAEGojB,cAAclmB,QAAQuJ,iBAAiB,UAAW5F,IACrD,IAAIhB,EACJ,MAAM40B,EAAc5zB,EACpB,GAAkC,QAA7BhB,EAAK40B,EAAY1zB,cAA2B,IAAPlB,OAAgB,EAASA,EAAGyC,iBAAkB,CACpF,IAAIkyB,EACJ,IACIA,EAAOjyB,KAAKC,MAAMiyB,EAAY1zB,OAAOuB,iBACzC,CACA,MAAOG,GACH+xB,EAAOC,EAAY1zB,OAAOuB,gBAC9B,MACiB2J,IAAbuoB,EAAKE,MACL5wB,OAAOyS,SAASoe,KAAOH,EAAKE,IAEpC,IACF,GACJ,EAENX,EAAQa,0BAA4B,SAAUzpB,GAC1C,MACM4B,EADS/U,KAAKgqB,OACYjV,iBAChC,MAAO,CACH,IAAA1Q,EAAK,WAAEwG,GAAc8G,GACjB,IAAI3J,EAAQ2J,EAAK3J,MACjB,GAAI2J,EAAKrH,iBAAkB,CACvB,IAAIkyB,EACJ,IACIA,EAAOjyB,KAAKC,MAAMmH,EAAKrH,iBAC3B,CACA,MAAOG,GACH+xB,EAAO7qB,EAAKrH,gBAChB,CACAtC,OAAuBiM,IAAfuoB,EAAKx0B,MAAsB2J,EAAK3J,MAAQw0B,EAAKx0B,KACzD,CACA,OAAOmL,EAAS,sCACOrT,OAAO+K,EAAWxG,SAASvE,OAAO6R,EAAKpN,YACxDsG,EAAWsN,iBACXtN,EAAWgN,iGACkB/X,OAAO6R,EAAKvM,oBAAoBtF,OAAO6R,EAAKvL,sCAC/DtG,OAAOiV,EAAmB,iBAAmB,kCAC7CjV,OAAO6R,EAAKzN,OAAS,uBAAyB,OAAOpE,OAAO6R,EAAK/D,SAC3E,uBACA,6EACoD9N,OAAOkI,+BACnDlI,OAAOiV,EAAmB,gCAAgCjV,OAAO+K,EAAWqN,sCAAsCpY,OAAO6R,EAAKvL,+CAAiD,yDAGjM,EAER,EACA21B,EAAQc,2BAA6B,SAAU1pB,GAC3C,MACMqD,EADSxW,KAAKgqB,OACUxT,eAC9B,MAAO,CACHnS,KAAI,EAAC,WAAEwG,GAAc8G,IACVwB,EAAS,kDACmBrT,OAAO+K,EAAWxG,SAASvE,OAAO6R,EAAKpN,YACpEsG,EAAWsN,iBACXtN,EAAWgN,mBAAmB/X,OAAO6R,EAAKvD,YAAcvD,EAAWuD,YAAc,kEACxCtO,OAAO6R,EAAKvM,oBAAoBtF,OAAO6R,EAAKvL,kDAC/DtG,OAAO6R,EAAKzN,OAAS,uBAAyB,OAAOpE,OAAO6R,EAAK/D,SACvF,uBACA,sGAC6E9N,OAAO6R,EAAK3J,4FAInG5F,OAAM,EAAC,WAAEyI,GAAc8G,IACZwB,EAAS,kDACmBrT,OAAO+K,EAAWxG,SAASvE,OAAO+K,EAAWkN,eAAejY,OAAO6R,EAAK/D,SAAW/C,EAAWiN,aAAejN,EAAWgN,6EAC7G/X,OAAO0W,mBAAgC1W,OAAO6R,EAAK/D,SAC3F,4CACA,6EAC+B9N,OAAO6R,EAAKvM,oBAAoBtF,OAAO6R,EAAKvL,kDACrDtG,OAAO6R,EAAK4a,QAAU,EAAI,kBAAoB,qHACWzsB,OAAO6R,EAAK3J,6FAIrG8jB,YAAW,EAAC,WAAEjhB,GAAc8G,IACjBwB,EAAS,sCACOrT,OAAO+K,EAAWxG,8EACPvE,OAAO0W,mBAAgC1W,OAAO6R,EAAK/D,SAC/E,4CACA,iEACmB9N,OAAO6R,EAAKvM,oBAAoBtF,OAAO6R,EAAKvL,sCACrDtG,OAAO6R,EAAK4a,QAAU,EAAI,kBAAoB,qGACOzsB,OAAO6R,EAAK3J,qEAK7F,EACA+zB,EAAQe,uBAAyB,CAACC,EAAQL,EAAKM,IAAoBC,MAAMP,EAAK,CAC1EQ,OAAQ,OACRC,KAAM5yB,KAAKgT,UAAUwf,GACrBK,QAAS,CACL,yBAA4B52B,SAAS6M,cAAc,4CAA4CjN,MAC/F,OAAU,mBACV,eAAgB,oCAErB0tB,MAAKuJ,GAAYA,EAASb,SACxB1I,MAAKniB,GAAQA,EAAK3N,QAAQ8F,KAAK1F,IAAU,CAC1CgC,MAAOhC,EAAMgB,GACb4C,MAAO5D,EAAMse,KACbjQ,QAASrO,EAAM0C,SAASgD,KAAKwzB,IACzB,MAAMC,EAAahQ,SAASyP,GAC5B,MAAO,CACH52B,MAAOk3B,EAAMl4B,GACb4C,MAAOs1B,EAAM5a,KACbnQ,SAAUgrB,EAAa,GAAKP,GAAmBM,EAAMl4B,GACrDkF,iBAAkB,CACdkzB,KAAMT,EAAOU,KACbC,MAAO/rB,EAAK+rB,MACZhB,IAAKY,EAAMZ,KAElB,UAGTX,EAAQ4B,kBAAoB,CAACZ,EAAQL,IAAQO,MAAMP,EAAK,CACpDQ,OAAQ,OACRC,KAAM5yB,KAAKgT,UAAUwf,GACrBK,QAAS,CACL,yBAA4B52B,SAAS6M,cAAc,4CAA4CjN,MAC/F,OAAU,mBACV,eAAgB,oCAErB0tB,MAAKuJ,GAAYA,EAASb,SACxB1I,MAAKniB,GAAQA,EAAK3N,QAAQ8F,KAAKqP,IAAW,CAC3C/S,MAAO+S,EAAO/T,GACd4C,MAAOmR,EAAOuJ,KACdpY,iBAAkB,CACdkzB,KAAMT,EAAOU,KACbC,MAAO/rB,EAAK+rB,Y","sources":["webpack://yetanotherforum-net/./wwwroot/lib/choices/assets/scripts/choices.js","webpack://yetanotherforum-net/external var \"bootstrap\"","webpack://yetanotherforum-net/webpack/bootstrap","webpack://yetanotherforum-net/webpack/runtime/compat get default export","webpack://yetanotherforum-net/webpack/runtime/define property getters","webpack://yetanotherforum-net/webpack/runtime/global","webpack://yetanotherforum-net/webpack/runtime/hasOwnProperty shorthand","webpack://yetanotherforum-net/webpack/runtime/make namespace object","webpack://yetanotherforum-net/./wwwroot/lib/choices/choices.ts"],"sourcesContent":["/*! choices.js v11.1.0 | © 2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Choices = factory());\n})(this, (function () { 'use strict';\n\n    /******************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\n    /* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      };\n      return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n      if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n        }\n      }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n    typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n      var e = new Error(message);\n      return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n    };\n\n    var ActionType = {\n        ADD_CHOICE: 'ADD_CHOICE',\n        REMOVE_CHOICE: 'REMOVE_CHOICE',\n        FILTER_CHOICES: 'FILTER_CHOICES',\n        ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n        CLEAR_CHOICES: 'CLEAR_CHOICES',\n        ADD_GROUP: 'ADD_GROUP',\n        ADD_ITEM: 'ADD_ITEM',\n        REMOVE_ITEM: 'REMOVE_ITEM',\n        HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n    };\n\n    var EventType = {\n        showDropdown: 'showDropdown',\n        hideDropdown: 'hideDropdown',\n        change: 'change',\n        choice: 'choice',\n        search: 'search',\n        addItem: 'addItem',\n        removeItem: 'removeItem',\n        highlightItem: 'highlightItem',\n        highlightChoice: 'highlightChoice',\n        unhighlightItem: 'unhighlightItem',\n    };\n\n    var KeyCodeMap = {\n        TAB_KEY: 9,\n        SHIFT_KEY: 16,\n        BACK_KEY: 46,\n        DELETE_KEY: 8,\n        ENTER_KEY: 13,\n        A_KEY: 65,\n        ESC_KEY: 27,\n        UP_KEY: 38,\n        DOWN_KEY: 40,\n        PAGE_UP_KEY: 33,\n        PAGE_DOWN_KEY: 34,\n    };\n\n    var ObjectsInConfig = ['fuseOptions', 'classNames'];\n\n    var PassedElementTypes = {\n        Text: 'text',\n        SelectOne: 'select-one',\n        SelectMultiple: 'select-multiple',\n    };\n\n    var addChoice = function (choice) { return ({\n        type: ActionType.ADD_CHOICE,\n        choice: choice,\n    }); };\n    var removeChoice = function (choice) { return ({\n        type: ActionType.REMOVE_CHOICE,\n        choice: choice,\n    }); };\n    var filterChoices = function (results) { return ({\n        type: ActionType.FILTER_CHOICES,\n        results: results,\n    }); };\n    var activateChoices = function (active) {\n        return ({\n            type: ActionType.ACTIVATE_CHOICES,\n            active: active,\n        });\n    };\n\n    var addGroup = function (group) { return ({\n        type: ActionType.ADD_GROUP,\n        group: group,\n    }); };\n\n    var addItem = function (item) { return ({\n        type: ActionType.ADD_ITEM,\n        item: item,\n    }); };\n    var removeItem$1 = function (item) { return ({\n        type: ActionType.REMOVE_ITEM,\n        item: item,\n    }); };\n    var highlightItem = function (item, highlighted) { return ({\n        type: ActionType.HIGHLIGHT_ITEM,\n        item: item,\n        highlighted: highlighted,\n    }); };\n\n    var getRandomNumber = function (min, max) { return Math.floor(Math.random() * (max - min) + min); };\n    var generateChars = function (length) {\n        return Array.from({ length: length }, function () { return getRandomNumber(0, 36).toString(36); }).join('');\n    };\n    var generateId = function (element, prefix) {\n        var id = element.id || (element.name && \"\".concat(element.name, \"-\").concat(generateChars(2))) || generateChars(4);\n        id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n        id = \"\".concat(prefix, \"-\").concat(id);\n        return id;\n    };\n    var getAdjacentEl = function (startEl, selector, direction) {\n        if (direction === void 0) { direction = 1; }\n        var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n        var sibling = startEl[prop];\n        while (sibling) {\n            if (sibling.matches(selector)) {\n                return sibling;\n            }\n            sibling = sibling[prop];\n        }\n        return null;\n    };\n    var isScrolledIntoView = function (element, parent, direction) {\n        if (direction === void 0) { direction = 1; }\n        var isVisible;\n        if (direction > 0) {\n            // In view from bottom\n            isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n        }\n        else {\n            // In view from top\n            isVisible = element.offsetTop >= parent.scrollTop;\n        }\n        return isVisible;\n    };\n    var sanitise = function (value) {\n        if (typeof value !== 'string') {\n            if (value === null || value === undefined) {\n                return '';\n            }\n            if (typeof value === 'object') {\n                if ('raw' in value) {\n                    return sanitise(value.raw);\n                }\n                if ('trusted' in value) {\n                    return value.trusted;\n                }\n            }\n            return value;\n        }\n        return value\n            .replace(/&/g, '&amp;')\n            .replace(/>/g, '&gt;')\n            .replace(/</g, '&lt;')\n            .replace(/'/g, '&#039;')\n            .replace(/\"/g, '&quot;');\n    };\n    var strToEl = (function () {\n        var tmpEl = document.createElement('div');\n        return function (str) {\n            tmpEl.innerHTML = str.trim();\n            var firstChild = tmpEl.children[0];\n            while (tmpEl.firstChild) {\n                tmpEl.removeChild(tmpEl.firstChild);\n            }\n            return firstChild;\n        };\n    })();\n    var resolveNoticeFunction = function (fn, value) {\n        return typeof fn === 'function' ? fn(sanitise(value), value) : fn;\n    };\n    var resolveStringFunction = function (fn) {\n        return typeof fn === 'function' ? fn() : fn;\n    };\n    var unwrapStringForRaw = function (s) {\n        if (typeof s === 'string') {\n            return s;\n        }\n        if (typeof s === 'object') {\n            if ('trusted' in s) {\n                return s.trusted;\n            }\n            if ('raw' in s) {\n                return s.raw;\n            }\n        }\n        return '';\n    };\n    var unwrapStringForEscaped = function (s) {\n        if (typeof s === 'string') {\n            return s;\n        }\n        if (typeof s === 'object') {\n            if ('escaped' in s) {\n                return s.escaped;\n            }\n            if ('trusted' in s) {\n                return s.trusted;\n            }\n        }\n        return '';\n    };\n    var escapeForTemplate = function (allowHTML, s) {\n        return allowHTML ? unwrapStringForEscaped(s) : sanitise(s);\n    };\n    var setElementHtml = function (el, allowHtml, html) {\n        el.innerHTML = escapeForTemplate(allowHtml, html);\n    };\n    var sortByAlpha = function (_a, _b) {\n        var value = _a.value, _c = _a.label, label = _c === void 0 ? value : _c;\n        var value2 = _b.value, _d = _b.label, label2 = _d === void 0 ? value2 : _d;\n        return unwrapStringForRaw(label).localeCompare(unwrapStringForRaw(label2), [], {\n            sensitivity: 'base',\n            ignorePunctuation: true,\n            numeric: true,\n        });\n    };\n    var sortByRank = function (a, b) {\n        return a.rank - b.rank;\n    };\n    var dispatchEvent = function (element, type, customArgs) {\n        if (customArgs === void 0) { customArgs = null; }\n        var event = new CustomEvent(type, {\n            detail: customArgs,\n            bubbles: true,\n            cancelable: true,\n        });\n        return element.dispatchEvent(event);\n    };\n    /**\n     * Returns an array of keys present on the first but missing on the second object\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var diff = function (a, b) {\n        var aKeys = Object.keys(a).sort();\n        var bKeys = Object.keys(b).sort();\n        return aKeys.filter(function (i) { return bKeys.indexOf(i) < 0; });\n    };\n    var getClassNames = function (ClassNames) {\n        return Array.isArray(ClassNames) ? ClassNames : [ClassNames];\n    };\n    var getClassNamesSelector = function (option) {\n        if (option && Array.isArray(option)) {\n            return option\n                .map(function (item) {\n                return \".\".concat(item);\n            })\n                .join('');\n        }\n        return \".\".concat(option);\n    };\n    var addClassesToElement = function (element, className) {\n        var _a;\n        (_a = element.classList).add.apply(_a, getClassNames(className));\n    };\n    var removeClassesFromElement = function (element, className) {\n        var _a;\n        (_a = element.classList).remove.apply(_a, getClassNames(className));\n    };\n    var parseCustomProperties = function (customProperties) {\n        if (typeof customProperties !== 'undefined') {\n            try {\n                return JSON.parse(customProperties);\n            }\n            catch (e) {\n                return customProperties;\n            }\n        }\n        return {};\n    };\n    var updateClassList = function (item, add, remove) {\n        var itemEl = item.itemEl;\n        if (itemEl) {\n            removeClassesFromElement(itemEl, remove);\n            addClassesToElement(itemEl, add);\n        }\n    };\n\n    var Dropdown = /** @class */ (function () {\n        function Dropdown(_a) {\n            var element = _a.element, type = _a.type, classNames = _a.classNames;\n            this.element = element;\n            this.classNames = classNames;\n            this.type = type;\n            this.isActive = false;\n        }\n        /**\n         * Show dropdown to user by adding active state class\n         */\n        Dropdown.prototype.show = function () {\n            addClassesToElement(this.element, this.classNames.activeState);\n            this.element.setAttribute('aria-expanded', 'true');\n            this.isActive = true;\n            return this;\n        };\n        /**\n         * Hide dropdown from user\n         */\n        Dropdown.prototype.hide = function () {\n            removeClassesFromElement(this.element, this.classNames.activeState);\n            this.element.setAttribute('aria-expanded', 'false');\n            this.isActive = false;\n            return this;\n        };\n        return Dropdown;\n    }());\n\n    var Container = /** @class */ (function () {\n        function Container(_a) {\n            var element = _a.element, type = _a.type, classNames = _a.classNames, position = _a.position;\n            this.element = element;\n            this.classNames = classNames;\n            this.type = type;\n            this.position = position;\n            this.isOpen = false;\n            this.isFlipped = false;\n            this.isDisabled = false;\n            this.isLoading = false;\n        }\n        /**\n         * Determine whether container should be flipped based on passed\n         * dropdown position\n         */\n        Container.prototype.shouldFlip = function (dropdownPos, dropdownHeight) {\n            // If flip is enabled and the dropdown bottom position is\n            // greater than the window height flip the dropdown.\n            var shouldFlip = false;\n            if (this.position === 'auto') {\n                shouldFlip =\n                    this.element.getBoundingClientRect().top - dropdownHeight >= 0 &&\n                        !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n            }\n            else if (this.position === 'top') {\n                shouldFlip = true;\n            }\n            return shouldFlip;\n        };\n        Container.prototype.setActiveDescendant = function (activeDescendantID) {\n            this.element.setAttribute('aria-activedescendant', activeDescendantID);\n        };\n        Container.prototype.removeActiveDescendant = function () {\n            this.element.removeAttribute('aria-activedescendant');\n        };\n        Container.prototype.open = function (dropdownPos, dropdownHeight) {\n            addClassesToElement(this.element, this.classNames.openState);\n            this.element.setAttribute('aria-expanded', 'true');\n            this.isOpen = true;\n            if (this.shouldFlip(dropdownPos, dropdownHeight)) {\n                addClassesToElement(this.element, this.classNames.flippedState);\n                this.isFlipped = true;\n            }\n        };\n        Container.prototype.close = function () {\n            removeClassesFromElement(this.element, this.classNames.openState);\n            this.element.setAttribute('aria-expanded', 'false');\n            this.removeActiveDescendant();\n            this.isOpen = false;\n            // A dropdown flips if it does not have space within the page\n            if (this.isFlipped) {\n                removeClassesFromElement(this.element, this.classNames.flippedState);\n                this.isFlipped = false;\n            }\n        };\n        Container.prototype.addFocusState = function () {\n            addClassesToElement(this.element, this.classNames.focusState);\n        };\n        Container.prototype.removeFocusState = function () {\n            removeClassesFromElement(this.element, this.classNames.focusState);\n        };\n        Container.prototype.enable = function () {\n            removeClassesFromElement(this.element, this.classNames.disabledState);\n            this.element.removeAttribute('aria-disabled');\n            if (this.type === PassedElementTypes.SelectOne) {\n                this.element.setAttribute('tabindex', '0');\n            }\n            this.isDisabled = false;\n        };\n        Container.prototype.disable = function () {\n            addClassesToElement(this.element, this.classNames.disabledState);\n            this.element.setAttribute('aria-disabled', 'true');\n            if (this.type === PassedElementTypes.SelectOne) {\n                this.element.setAttribute('tabindex', '-1');\n            }\n            this.isDisabled = true;\n        };\n        Container.prototype.wrap = function (element) {\n            var el = this.element;\n            var parentNode = element.parentNode;\n            if (parentNode) {\n                if (element.nextSibling) {\n                    parentNode.insertBefore(el, element.nextSibling);\n                }\n                else {\n                    parentNode.appendChild(el);\n                }\n            }\n            el.appendChild(element);\n        };\n        Container.prototype.unwrap = function (element) {\n            var el = this.element;\n            var parentNode = el.parentNode;\n            if (parentNode) {\n                // Move passed element outside this element\n                parentNode.insertBefore(element, el);\n                // Remove this element\n                parentNode.removeChild(el);\n            }\n        };\n        Container.prototype.addLoadingState = function () {\n            addClassesToElement(this.element, this.classNames.loadingState);\n            this.element.setAttribute('aria-busy', 'true');\n            this.isLoading = true;\n        };\n        Container.prototype.removeLoadingState = function () {\n            removeClassesFromElement(this.element, this.classNames.loadingState);\n            this.element.removeAttribute('aria-busy');\n            this.isLoading = false;\n        };\n        return Container;\n    }());\n\n    var Input = /** @class */ (function () {\n        function Input(_a) {\n            var element = _a.element, type = _a.type, classNames = _a.classNames, preventPaste = _a.preventPaste;\n            this.element = element;\n            this.type = type;\n            this.classNames = classNames;\n            this.preventPaste = preventPaste;\n            this.isFocussed = this.element.isEqualNode(document.activeElement);\n            this.isDisabled = element.disabled;\n            this._onPaste = this._onPaste.bind(this);\n            this._onInput = this._onInput.bind(this);\n            this._onFocus = this._onFocus.bind(this);\n            this._onBlur = this._onBlur.bind(this);\n        }\n        Object.defineProperty(Input.prototype, \"placeholder\", {\n            set: function (placeholder) {\n                this.element.placeholder = placeholder;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Input.prototype, \"value\", {\n            get: function () {\n                return this.element.value;\n            },\n            set: function (value) {\n                this.element.value = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Input.prototype.addEventListeners = function () {\n            var el = this.element;\n            el.addEventListener('paste', this._onPaste);\n            el.addEventListener('input', this._onInput, {\n                passive: true,\n            });\n            el.addEventListener('focus', this._onFocus, {\n                passive: true,\n            });\n            el.addEventListener('blur', this._onBlur, {\n                passive: true,\n            });\n        };\n        Input.prototype.removeEventListeners = function () {\n            var el = this.element;\n            el.removeEventListener('input', this._onInput);\n            el.removeEventListener('paste', this._onPaste);\n            el.removeEventListener('focus', this._onFocus);\n            el.removeEventListener('blur', this._onBlur);\n        };\n        Input.prototype.enable = function () {\n            var el = this.element;\n            el.removeAttribute('disabled');\n            this.isDisabled = false;\n        };\n        Input.prototype.disable = function () {\n            var el = this.element;\n            el.setAttribute('disabled', '');\n            this.isDisabled = true;\n        };\n        Input.prototype.focus = function () {\n            if (!this.isFocussed) {\n                this.element.focus();\n            }\n        };\n        Input.prototype.blur = function () {\n            if (this.isFocussed) {\n                this.element.blur();\n            }\n        };\n        Input.prototype.clear = function (setWidth) {\n            if (setWidth === void 0) { setWidth = true; }\n            this.element.value = '';\n            if (setWidth) {\n                this.setWidth();\n            }\n            return this;\n        };\n        /**\n         * Set the correct input width based on placeholder\n         * value or input value\n         */\n        Input.prototype.setWidth = function () {\n            // Resize input to contents or placeholder\n            var element = this.element;\n            element.style.minWidth = \"\".concat(element.placeholder.length + 1, \"ch\");\n            element.style.width = \"\".concat(element.value.length + 1, \"ch\");\n        };\n        Input.prototype.setActiveDescendant = function (activeDescendantID) {\n            this.element.setAttribute('aria-activedescendant', activeDescendantID);\n        };\n        Input.prototype.removeActiveDescendant = function () {\n            this.element.removeAttribute('aria-activedescendant');\n        };\n        Input.prototype._onInput = function () {\n            if (this.type !== PassedElementTypes.SelectOne) {\n                this.setWidth();\n            }\n        };\n        Input.prototype._onPaste = function (event) {\n            if (this.preventPaste) {\n                event.preventDefault();\n            }\n        };\n        Input.prototype._onFocus = function () {\n            this.isFocussed = true;\n        };\n        Input.prototype._onBlur = function () {\n            this.isFocussed = false;\n        };\n        return Input;\n    }());\n\n    var SCROLLING_SPEED = 4;\n\n    var List = /** @class */ (function () {\n        function List(_a) {\n            var element = _a.element;\n            this.element = element;\n            this.scrollPos = this.element.scrollTop;\n            this.height = this.element.offsetHeight;\n        }\n        List.prototype.prepend = function (node) {\n            var child = this.element.firstElementChild;\n            if (child) {\n                this.element.insertBefore(node, child);\n            }\n            else {\n                this.element.append(node);\n            }\n        };\n        List.prototype.scrollToTop = function () {\n            this.element.scrollTop = 0;\n        };\n        List.prototype.scrollToChildElement = function (element, direction) {\n            var _this = this;\n            if (!element) {\n                return;\n            }\n            var listHeight = this.element.offsetHeight;\n            // Scroll position of dropdown\n            var listScrollPosition = this.element.scrollTop + listHeight;\n            var elementHeight = element.offsetHeight;\n            // Distance from bottom of element to top of parent\n            var elementPos = element.offsetTop + elementHeight;\n            // Difference between the element and scroll position\n            var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n            requestAnimationFrame(function () {\n                _this._animateScroll(destination, direction);\n            });\n        };\n        List.prototype._scrollDown = function (scrollPos, strength, destination) {\n            var easing = (destination - scrollPos) / strength;\n            var distance = easing > 1 ? easing : 1;\n            this.element.scrollTop = scrollPos + distance;\n        };\n        List.prototype._scrollUp = function (scrollPos, strength, destination) {\n            var easing = (scrollPos - destination) / strength;\n            var distance = easing > 1 ? easing : 1;\n            this.element.scrollTop = scrollPos - distance;\n        };\n        List.prototype._animateScroll = function (destination, direction) {\n            var _this = this;\n            var strength = SCROLLING_SPEED;\n            var choiceListScrollTop = this.element.scrollTop;\n            var continueAnimation = false;\n            if (direction > 0) {\n                this._scrollDown(choiceListScrollTop, strength, destination);\n                if (choiceListScrollTop < destination) {\n                    continueAnimation = true;\n                }\n            }\n            else {\n                this._scrollUp(choiceListScrollTop, strength, destination);\n                if (choiceListScrollTop > destination) {\n                    continueAnimation = true;\n                }\n            }\n            if (continueAnimation) {\n                requestAnimationFrame(function () {\n                    _this._animateScroll(destination, direction);\n                });\n            }\n        };\n        return List;\n    }());\n\n    var WrappedElement = /** @class */ (function () {\n        function WrappedElement(_a) {\n            var element = _a.element, classNames = _a.classNames;\n            this.element = element;\n            this.classNames = classNames;\n            this.isDisabled = false;\n        }\n        Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n            get: function () {\n                return this.element.dataset.choice === 'active';\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(WrappedElement.prototype, \"dir\", {\n            get: function () {\n                return this.element.dir;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(WrappedElement.prototype, \"value\", {\n            get: function () {\n                return this.element.value;\n            },\n            set: function (value) {\n                this.element.setAttribute('value', value);\n                this.element.value = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WrappedElement.prototype.conceal = function () {\n            var el = this.element;\n            // Hide passed input\n            addClassesToElement(el, this.classNames.input);\n            el.hidden = true;\n            // Remove element from tab index\n            el.tabIndex = -1;\n            // Backup original styles if any\n            var origStyle = el.getAttribute('style');\n            if (origStyle) {\n                el.setAttribute('data-choice-orig-style', origStyle);\n            }\n            el.setAttribute('data-choice', 'active');\n        };\n        WrappedElement.prototype.reveal = function () {\n            var el = this.element;\n            // Reinstate passed element\n            removeClassesFromElement(el, this.classNames.input);\n            el.hidden = false;\n            el.removeAttribute('tabindex');\n            // Recover original styles if any\n            var origStyle = el.getAttribute('data-choice-orig-style');\n            if (origStyle) {\n                el.removeAttribute('data-choice-orig-style');\n                el.setAttribute('style', origStyle);\n            }\n            else {\n                el.removeAttribute('style');\n            }\n            el.removeAttribute('data-choice');\n        };\n        WrappedElement.prototype.enable = function () {\n            this.element.removeAttribute('disabled');\n            this.element.disabled = false;\n            this.isDisabled = false;\n        };\n        WrappedElement.prototype.disable = function () {\n            this.element.setAttribute('disabled', '');\n            this.element.disabled = true;\n            this.isDisabled = true;\n        };\n        WrappedElement.prototype.triggerEvent = function (eventType, data) {\n            dispatchEvent(this.element, eventType, data || {});\n        };\n        return WrappedElement;\n    }());\n\n    var WrappedInput = /** @class */ (function (_super) {\n        __extends(WrappedInput, _super);\n        function WrappedInput() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return WrappedInput;\n    }(WrappedElement));\n\n    var coerceBool = function (arg, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = true; }\n        return typeof arg === 'undefined' ? defaultValue : !!arg;\n    };\n    var stringToHtmlClass = function (input) {\n        if (typeof input === 'string') {\n            // eslint-disable-next-line no-param-reassign\n            input = input.split(' ').filter(function (s) { return s.length; });\n        }\n        if (Array.isArray(input) && input.length) {\n            return input;\n        }\n        return undefined;\n    };\n    var mapInputToChoice = function (value, allowGroup, allowRawString) {\n        if (allowRawString === void 0) { allowRawString = true; }\n        if (typeof value === 'string') {\n            var sanitisedValue = sanitise(value);\n            var userValue = allowRawString || sanitisedValue === value ? value : { escaped: sanitisedValue, raw: value };\n            var result_1 = mapInputToChoice({\n                value: value,\n                label: userValue,\n                selected: true,\n            }, false);\n            return result_1;\n        }\n        var groupOrChoice = value;\n        if ('choices' in groupOrChoice) {\n            if (!allowGroup) {\n                // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup\n                throw new TypeError(\"optGroup is not allowed\");\n            }\n            var group = groupOrChoice;\n            var choices = group.choices.map(function (e) { return mapInputToChoice(e, false); });\n            var result_2 = {\n                id: 0, // actual ID will be assigned during _addGroup\n                value: group.value,\n                label: unwrapStringForRaw(group.label) || group.value,\n                active: !!choices.length,\n                disabled: !!group.disabled,\n                choices: choices,\n            };\n            return result_2;\n        }\n        var choice = groupOrChoice;\n        var result = {\n            id: 0, // actual ID will be assigned during _addChoice\n            group: null, // actual group will be assigned during _addGroup but before _addChoice\n            score: 0, // used in search\n            rank: 0, // used in search, stable sort order\n            value: choice.value,\n            label: choice.label || choice.value,\n            active: coerceBool(choice.active),\n            selected: coerceBool(choice.selected, false),\n            disabled: coerceBool(choice.disabled, false),\n            placeholder: coerceBool(choice.placeholder, false),\n            highlighted: false,\n            labelClass: stringToHtmlClass(choice.labelClass),\n            labelDescription: choice.labelDescription,\n            customProperties: choice.customProperties,\n        };\n        return result;\n    };\n\n    var isHtmlInputElement = function (e) { return e.tagName === 'INPUT'; };\n    var isHtmlSelectElement = function (e) { return e.tagName === 'SELECT'; };\n    var isHtmlOption = function (e) { return e.tagName === 'OPTION'; };\n    var isHtmlOptgroup = function (e) { return e.tagName === 'OPTGROUP'; };\n\n    var WrappedSelect = /** @class */ (function (_super) {\n        __extends(WrappedSelect, _super);\n        function WrappedSelect(_a) {\n            var element = _a.element, classNames = _a.classNames, template = _a.template, extractPlaceholder = _a.extractPlaceholder;\n            var _this = _super.call(this, { element: element, classNames: classNames }) || this;\n            _this.template = template;\n            _this.extractPlaceholder = extractPlaceholder;\n            return _this;\n        }\n        Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n            get: function () {\n                return (this.element.querySelector('option[value=\"\"]') ||\n                    // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n                    this.element.querySelector('option[placeholder]'));\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WrappedSelect.prototype.addOptions = function (choices) {\n            var _this = this;\n            var fragment = document.createDocumentFragment();\n            choices.forEach(function (obj) {\n                var choice = obj;\n                if (choice.element) {\n                    return;\n                }\n                var option = _this.template(choice);\n                fragment.appendChild(option);\n                choice.element = option;\n            });\n            this.element.appendChild(fragment);\n        };\n        WrappedSelect.prototype.optionsAsChoices = function () {\n            var _this = this;\n            var choices = [];\n            this.element.querySelectorAll(':scope > option, :scope > optgroup').forEach(function (e) {\n                if (isHtmlOption(e)) {\n                    choices.push(_this._optionToChoice(e));\n                }\n                else if (isHtmlOptgroup(e)) {\n                    choices.push(_this._optgroupToChoice(e));\n                }\n                // todo: hr as empty optgroup, requires displaying empty opt-groups to be useful\n            });\n            return choices;\n        };\n        // eslint-disable-next-line class-methods-use-this\n        WrappedSelect.prototype._optionToChoice = function (option) {\n            // option.value returns the label if there is no value attribute, which can break legacy placeholder attribute support\n            if (!option.hasAttribute('value') && option.hasAttribute('placeholder')) {\n                option.setAttribute('value', '');\n                option.value = '';\n            }\n            return {\n                id: 0,\n                group: null,\n                score: 0,\n                rank: 0,\n                value: option.value,\n                // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option\n                // This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content (ie `innerText`).\n                label: option.label,\n                element: option,\n                active: true,\n                // this returns true if nothing is selected on initial load, which will break placeholder support\n                selected: this.extractPlaceholder ? option.selected : option.hasAttribute('selected'),\n                disabled: option.disabled,\n                highlighted: false,\n                placeholder: this.extractPlaceholder && (!option.value || option.hasAttribute('placeholder')),\n                labelClass: typeof option.dataset.labelClass !== 'undefined' ? stringToHtmlClass(option.dataset.labelClass) : undefined,\n                labelDescription: typeof option.dataset.labelDescription !== 'undefined' ? option.dataset.labelDescription : undefined,\n                customProperties: parseCustomProperties(option.dataset.customProperties),\n            };\n        };\n        WrappedSelect.prototype._optgroupToChoice = function (optgroup) {\n            var _this = this;\n            var options = optgroup.querySelectorAll('option');\n            var choices = Array.from(options).map(function (option) { return _this._optionToChoice(option); });\n            return {\n                id: 0,\n                label: optgroup.label || '',\n                value: optgroup.getAttribute('value') || '',\n                element: optgroup,\n                active: !!choices.length,\n                disabled: optgroup.disabled,\n                choices: choices,\n            };\n        };\n        return WrappedSelect;\n    }(WrappedElement));\n\n    var DEFAULT_CLASSNAMES = {\n        containerOuter: ['choices'],\n        containerInner: ['choices__inner'],\n        input: ['choices__input'],\n        inputCloned: ['choices__input--cloned', 'form-control'],\n        list: ['choices__list'],\n        listItems: ['choices__list--multiple'],\n        listSingle: ['choices__list--single'],\n        listDropdown: ['choices__list--dropdown'],\n        item: ['choices__item'],\n        itemSelectable: ['choices__item--selectable'],\n        itemDisabled: ['choices__item--disabled'],\n        itemChoice: ['choices__item--choice'],\n        description: ['choices__description'],\n        placeholder: ['choices__placeholder'],\n        group: ['choices__group'],\n        groupHeading: ['choices__heading'],\n        button: ['choices__button btn-close'],\n        activeState: ['is-active'],\n        focusState: ['is-focused'],\n        openState: ['is-open'],\n        disabledState: ['is-disabled'],\n        highlightedState: ['is-highlighted'],\n        selectedState: ['is-selected'],\n        flippedState: ['is-flipped'],\n        loadingState: ['is-loading'],\n        notice: ['choices__notice'],\n        addChoice: ['choices__item--selectable', 'add-choice'],\n        noResults: ['has-no-results'],\n        noChoices: ['has-no-choices'],\n    };\n    var DEFAULT_CONFIG = {\n        items: [],\n        choices: [],\n        silent: false,\n        renderChoiceLimit: -1,\n        maxItemCount: -1,\n        closeDropdownOnSelect: 'auto',\n        singleModeForMultiSelect: false,\n        addChoices: false,\n        addItems: true,\n        addItemFilter: function (value) { return !!value && value !== ''; },\n        removeItems: true,\n        removeItemButton: false,\n        removeItemButtonAlignLeft: false,\n        editItems: false,\n        allowHTML: false,\n        allowHtmlUserInput: false,\n        duplicateItemsAllowed: true,\n        delimiter: ',',\n        paste: true,\n        searchEnabled: true,\n        searchChoices: true,\n        searchFloor: 1,\n        searchResultLimit: 4,\n        searchFields: ['label', 'value'],\n        position: 'auto',\n        resetScrollPosition: true,\n        shouldSort: true,\n        shouldSortItems: false,\n        sorter: sortByAlpha,\n        shadowRoot: null,\n        placeholder: true,\n        placeholderValue: null,\n        searchPlaceholderValue: null,\n        prependValue: null,\n        appendValue: null,\n        renderSelectedChoices: 'auto',\n        loadingText: 'Loading...',\n        noResultsText: 'No results found',\n        noChoicesText: 'No choices to choose from',\n        itemSelectText: 'Press to select',\n        uniqueItemText: 'Only unique values can be added',\n        customAddItemText: 'Only values matching specific conditions can be added',\n        addItemText: function (value) { return \"Press Enter to add <b>\\\"\".concat(value, \"\\\"</b>\"); },\n        removeItemIconText: function () { return \"Remove item\"; },\n        removeItemLabelText: function (value) { return \"Remove item: \".concat(value); },\n        maxItemText: function (maxItemCount) { return \"Only \".concat(maxItemCount, \" values can be added\"); },\n        valueComparer: function (value1, value2) { return value1 === value2; },\n        fuseOptions: {\n            includeScore: true,\n        },\n        labelId: '',\n        callbackOnInit: null,\n        callbackOnCreateTemplates: null,\n        classNames: DEFAULT_CLASSNAMES,\n        appendGroupInSearch: false,\n    };\n\n    var removeItem = function (item) {\n        var itemEl = item.itemEl;\n        if (itemEl) {\n            itemEl.remove();\n            item.itemEl = undefined;\n        }\n    };\n    function items(s, action, context) {\n        var state = s;\n        var update = true;\n        switch (action.type) {\n            case ActionType.ADD_ITEM: {\n                action.item.selected = true;\n                var el = action.item.element;\n                if (el) {\n                    el.selected = true;\n                    el.setAttribute('selected', '');\n                }\n                state.push(action.item);\n                break;\n            }\n            case ActionType.REMOVE_ITEM: {\n                action.item.selected = false;\n                var el = action.item.element;\n                if (el) {\n                    el.selected = false;\n                    el.removeAttribute('selected');\n                    // For a select-one, if all options are deselected, the first item is selected. To set a black value, select.value needs to be set\n                    var select = el.parentElement;\n                    if (select && isHtmlSelectElement(select) && select.type === PassedElementTypes.SelectOne) {\n                        select.value = '';\n                    }\n                }\n                // this is mixing concerns, but this is *so much faster*\n                removeItem(action.item);\n                state = state.filter(function (choice) { return choice.id !== action.item.id; });\n                break;\n            }\n            case ActionType.REMOVE_CHOICE: {\n                removeItem(action.choice);\n                state = state.filter(function (item) { return item.id !== action.choice.id; });\n                break;\n            }\n            case ActionType.HIGHLIGHT_ITEM: {\n                var highlighted = action.highlighted;\n                var item = state.find(function (obj) { return obj.id === action.item.id; });\n                if (item && item.highlighted !== highlighted) {\n                    item.highlighted = highlighted;\n                    if (context) {\n                        updateClassList(item, highlighted ? context.classNames.highlightedState : context.classNames.selectedState, highlighted ? context.classNames.selectedState : context.classNames.highlightedState);\n                    }\n                }\n                break;\n            }\n            default: {\n                update = false;\n                break;\n            }\n        }\n        return { state: state, update: update };\n    }\n\n    function groups(s, action) {\n        var state = s;\n        var update = true;\n        switch (action.type) {\n            case ActionType.ADD_GROUP: {\n                state.push(action.group);\n                break;\n            }\n            case ActionType.CLEAR_CHOICES: {\n                state = [];\n                break;\n            }\n            default: {\n                update = false;\n                break;\n            }\n        }\n        return { state: state, update: update };\n    }\n\n    /* eslint-disable */\n    function choices(s, action, context) {\n        var state = s;\n        var update = true;\n        switch (action.type) {\n            case ActionType.ADD_CHOICE: {\n                state.push(action.choice);\n                break;\n            }\n            case ActionType.REMOVE_CHOICE: {\n                action.choice.choiceEl = undefined;\n                if (action.choice.group) {\n                    action.choice.group.choices = action.choice.group.choices.filter(function (obj) { return obj.id !== action.choice.id; });\n                }\n                state = state.filter(function (obj) { return obj.id !== action.choice.id; });\n                break;\n            }\n            case ActionType.ADD_ITEM:\n            case ActionType.REMOVE_ITEM: {\n                action.item.choiceEl = undefined;\n                break;\n            }\n            case ActionType.FILTER_CHOICES: {\n                // avoid O(n^2) algorithm complexity when searching/filtering choices\n                var scoreLookup_1 = [];\n                action.results.forEach(function (result) {\n                    scoreLookup_1[result.item.id] = result;\n                });\n                state.forEach(function (choice) {\n                    var result = scoreLookup_1[choice.id];\n                    if (result !== undefined) {\n                        choice.score = result.score;\n                        choice.rank = result.rank;\n                        choice.active = true;\n                    }\n                    else {\n                        choice.score = 0;\n                        choice.rank = 0;\n                        choice.active = false;\n                    }\n                    if (context && context.appendGroupInSearch) {\n                        choice.choiceEl = undefined;\n                    }\n                });\n                break;\n            }\n            case ActionType.ACTIVATE_CHOICES: {\n                state.forEach(function (choice) {\n                    choice.active = action.active;\n                    if (context && context.appendGroupInSearch) {\n                        choice.choiceEl = undefined;\n                    }\n                });\n                break;\n            }\n            case ActionType.CLEAR_CHOICES: {\n                state = [];\n                break;\n            }\n            default: {\n                update = false;\n                break;\n            }\n        }\n        return { state: state, update: update };\n    }\n\n    var reducers = {\n        groups: groups,\n        items: items,\n        choices: choices,\n    };\n    var Store = /** @class */ (function () {\n        function Store(context) {\n            this._state = this.defaultState;\n            this._listeners = [];\n            this._txn = 0;\n            this._context = context;\n        }\n        Object.defineProperty(Store.prototype, \"defaultState\", {\n            // eslint-disable-next-line class-methods-use-this\n            get: function () {\n                return {\n                    groups: [],\n                    items: [],\n                    choices: [],\n                };\n            },\n            enumerable: false,\n            configurable: true\n        });\n        // eslint-disable-next-line class-methods-use-this\n        Store.prototype.changeSet = function (init) {\n            return {\n                groups: init,\n                items: init,\n                choices: init,\n            };\n        };\n        Store.prototype.reset = function () {\n            this._state = this.defaultState;\n            var changes = this.changeSet(true);\n            if (this._txn) {\n                this._changeSet = changes;\n            }\n            else {\n                this._listeners.forEach(function (l) { return l(changes); });\n            }\n        };\n        Store.prototype.subscribe = function (onChange) {\n            this._listeners.push(onChange);\n            return this;\n        };\n        Store.prototype.dispatch = function (action) {\n            var _this = this;\n            var state = this._state;\n            var hasChanges = false;\n            var changes = this._changeSet || this.changeSet(false);\n            Object.keys(reducers).forEach(function (key) {\n                var stateUpdate = reducers[key](state[key], action, _this._context);\n                if (stateUpdate.update) {\n                    hasChanges = true;\n                    changes[key] = true;\n                    state[key] = stateUpdate.state;\n                }\n            });\n            if (hasChanges) {\n                if (this._txn) {\n                    this._changeSet = changes;\n                }\n                else {\n                    this._listeners.forEach(function (l) { return l(changes); });\n                }\n            }\n        };\n        Store.prototype.withTxn = function (func) {\n            this._txn++;\n            try {\n                func();\n            }\n            finally {\n                this._txn = Math.max(0, this._txn - 1);\n                if (!this._txn) {\n                    var changeSet_1 = this._changeSet;\n                    if (changeSet_1) {\n                        this._changeSet = undefined;\n                        this._listeners.forEach(function (l) { return l(changeSet_1); });\n                    }\n                }\n            }\n        };\n        Object.defineProperty(Store.prototype, \"state\", {\n            /**\n             * Get store object\n             */\n            get: function () {\n                return this._state;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"items\", {\n            /**\n             * Get items from store\n             */\n            get: function () {\n                return this.state.items;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n            /**\n             * Get highlighted items from store\n             */\n            get: function () {\n                return this.items.filter(function (item) { return item.active && item.highlighted; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"choices\", {\n            /**\n             * Get choices from store\n             */\n            get: function () {\n                return this.state.choices;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"activeChoices\", {\n            /**\n             * Get active choices from store\n             */\n            get: function () {\n                return this.choices.filter(function (choice) { return choice.active; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"searchableChoices\", {\n            /**\n             * Get choices that can be searched (excluding placeholders or disabled choices)\n             */\n            get: function () {\n                return this.choices.filter(function (choice) { return !choice.disabled && !choice.placeholder; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"groups\", {\n            /**\n             * Get groups from store\n             */\n            get: function () {\n                return this.state.groups;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"activeGroups\", {\n            /**\n             * Get active groups from store\n             */\n            get: function () {\n                var _this = this;\n                return this.state.groups.filter(function (group) {\n                    var isActive = group.active && !group.disabled;\n                    var hasActiveOptions = _this.state.choices.some(function (choice) { return choice.active && !choice.disabled; });\n                    return isActive && hasActiveOptions;\n                }, []);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Store.prototype.inTxn = function () {\n            return this._txn > 0;\n        };\n        /**\n         * Get single choice by it's ID\n         */\n        Store.prototype.getChoiceById = function (id) {\n            return this.activeChoices.find(function (choice) { return choice.id === id; });\n        };\n        /**\n         * Get group by group id\n         */\n        Store.prototype.getGroupById = function (id) {\n            return this.groups.find(function (group) { return group.id === id; });\n        };\n        return Store;\n    }());\n\n    var NoticeTypes = {\n        noChoices: 'no-choices',\n        noResults: 'no-results',\n        addChoice: 'add-choice',\n        generic: '',\n    };\n\n    function _defineProperty(e, r, t) {\n      return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n        value: t,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      }) : e[r] = t, e;\n    }\n    function ownKeys(e, r) {\n      var t = Object.keys(e);\n      if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function (r) {\n          return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n      }\n      return t;\n    }\n    function _objectSpread2(e) {\n      for (var r = 1; r < arguments.length; r++) {\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n          _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n          Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n      }\n      return e;\n    }\n    function _toPrimitive(t, r) {\n      if (\"object\" != typeof t || !t) return t;\n      var e = t[Symbol.toPrimitive];\n      if (void 0 !== e) {\n        var i = e.call(t, r);\n        if (\"object\" != typeof i) return i;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n      }\n      return (\"string\" === r ? String : Number)(t);\n    }\n    function _toPropertyKey(t) {\n      var i = _toPrimitive(t, \"string\");\n      return \"symbol\" == typeof i ? i : i + \"\";\n    }\n\n    /**\n     * Fuse.js v7.1.0 - Lightweight fuzzy-search (http://fusejs.io)\n     *\n     * Copyright (c) 2025 Kiro Risk (http://kiro.me)\n     * All Rights Reserved. Apache Software License 2.0\n     *\n     * http://www.apache.org/licenses/LICENSE-2.0\n     */\n\n    function isArray(value) {\n      return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\n    }\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      let result = value + '';\n      return result == '0' && 1 / value == -Infinity ? '-0' : result;\n    }\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n    function isString(value) {\n      return typeof value === 'string';\n    }\n    function isNumber(value) {\n      return typeof value === 'number';\n    }\n\n    // Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\n    function isBoolean(value) {\n      return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\n    }\n    function isObject(value) {\n      return typeof value === 'object';\n    }\n\n    // Checks if `value` is object-like.\n    function isObjectLike(value) {\n      return isObject(value) && value !== null;\n    }\n    function isDefined(value) {\n      return value !== undefined && value !== null;\n    }\n    function isBlank(value) {\n      return !value.trim().length;\n    }\n\n    // Gets the `toStringTag` of `value`.\n    // Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\n    function getTag(value) {\n      return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\n    }\n    const INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n    const LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = key => `Invalid value for key ${key}`;\n    const PATTERN_LENGTH_TOO_LARGE = max => `Pattern length exceeds max of ${max}.`;\n    const MISSING_KEY_PROPERTY = name => `Missing ${name} property in key`;\n    const INVALID_KEY_WEIGHT_VALUE = key => `Property 'weight' in key '${key}' must be a positive integer`;\n    const hasOwn = Object.prototype.hasOwnProperty;\n    class KeyStore {\n      constructor(keys) {\n        this._keys = [];\n        this._keyMap = {};\n        let totalWeight = 0;\n        keys.forEach(key => {\n          let obj = createKey(key);\n          this._keys.push(obj);\n          this._keyMap[obj.id] = obj;\n          totalWeight += obj.weight;\n        });\n\n        // Normalize weights so that their sum is equal to 1\n        this._keys.forEach(key => {\n          key.weight /= totalWeight;\n        });\n      }\n      get(keyId) {\n        return this._keyMap[keyId];\n      }\n      keys() {\n        return this._keys;\n      }\n      toJSON() {\n        return JSON.stringify(this._keys);\n      }\n    }\n    function createKey(key) {\n      let path = null;\n      let id = null;\n      let src = null;\n      let weight = 1;\n      let getFn = null;\n      if (isString(key) || isArray(key)) {\n        src = key;\n        path = createKeyPath(key);\n        id = createKeyId(key);\n      } else {\n        if (!hasOwn.call(key, 'name')) {\n          throw new Error(MISSING_KEY_PROPERTY('name'));\n        }\n        const name = key.name;\n        src = name;\n        if (hasOwn.call(key, 'weight')) {\n          weight = key.weight;\n          if (weight <= 0) {\n            throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\n          }\n        }\n        path = createKeyPath(name);\n        id = createKeyId(name);\n        getFn = key.getFn;\n      }\n      return {\n        path,\n        id,\n        weight,\n        src,\n        getFn\n      };\n    }\n    function createKeyPath(key) {\n      return isArray(key) ? key : key.split('.');\n    }\n    function createKeyId(key) {\n      return isArray(key) ? key.join('.') : key;\n    }\n    function get(obj, path) {\n      let list = [];\n      let arr = false;\n      const deepGet = (obj, path, index) => {\n        if (!isDefined(obj)) {\n          return;\n        }\n        if (!path[index]) {\n          // If there's no path left, we've arrived at the object we care about.\n          list.push(obj);\n        } else {\n          let key = path[index];\n          const value = obj[key];\n          if (!isDefined(value)) {\n            return;\n          }\n\n          // If we're at the last value in the path, and if it's a string/number/bool,\n          // add it to the list\n          if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\n            list.push(toString(value));\n          } else if (isArray(value)) {\n            arr = true;\n            // Search each item in the array.\n            for (let i = 0, len = value.length; i < len; i += 1) {\n              deepGet(value[i], path, index + 1);\n            }\n          } else if (path.length) {\n            // An object. Recurse further.\n            deepGet(value, path, index + 1);\n          }\n        }\n      };\n\n      // Backwards compatibility (since path used to be a string)\n      deepGet(obj, isString(path) ? path.split('.') : path, 0);\n      return arr ? list : list[0];\n    }\n    const MatchOptions = {\n      // Whether the matches should be included in the result set. When `true`, each record in the result\n      // set will include the indices of the matched characters.\n      // These can consequently be used for highlighting purposes.\n      includeMatches: false,\n      // When `true`, the matching function will continue to the end of a search pattern even if\n      // a perfect match has already been located in the string.\n      findAllMatches: false,\n      // Minimum number of characters that must be matched before a result is considered a match\n      minMatchCharLength: 1\n    };\n    const BasicOptions = {\n      // When `true`, the algorithm continues searching to the end of the input even if a perfect\n      // match is found before the end of the same input.\n      isCaseSensitive: false,\n      // When `true`, the algorithm will ignore diacritics (accents) in comparisons\n      ignoreDiacritics: false,\n      // When true, the matching function will continue to the end of a search pattern even if\n      includeScore: false,\n      // List of properties that will be searched. This also supports nested properties.\n      keys: [],\n      // Whether to sort the result list, by score\n      shouldSort: true,\n      // Default sort function: sort by ascending score, ascending index\n      sortFn: (a, b) => a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1\n    };\n    const FuzzyOptions = {\n      // Approximately where in the text is the pattern expected to be found?\n      location: 0,\n      // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n      // (of both letters and location), a threshold of '1.0' would match anything.\n      threshold: 0.6,\n      // Determines how close the match must be to the fuzzy location (specified above).\n      // An exact letter match which is 'distance' characters away from the fuzzy location\n      // would score as a complete mismatch. A distance of '0' requires the match be at\n      // the exact location specified, a threshold of '1000' would require a perfect match\n      // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n      distance: 100\n    };\n    const AdvancedOptions = {\n      // When `true`, it enables the use of unix-like search commands\n      useExtendedSearch: false,\n      // The get function to use when fetching an object's properties.\n      // The default will search nested paths *ie foo.bar.baz*\n      getFn: get,\n      // When `true`, search will ignore `location` and `distance`, so it won't matter\n      // where in the string the pattern appears.\n      // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n      ignoreLocation: false,\n      // When `true`, the calculation for the relevance score (used for sorting) will\n      // ignore the field-length norm.\n      // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n      ignoreFieldNorm: false,\n      // The weight to determine how much field length norm effects scoring.\n      fieldNormWeight: 1\n    };\n    var Config = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);\n    const SPACE = /[^ ]+/g;\n\n    // Field-length norm: the shorter the field, the higher the weight.\n    // Set to 3 decimals to reduce index size.\n    function norm(weight = 1, mantissa = 3) {\n      const cache = new Map();\n      const m = Math.pow(10, mantissa);\n      return {\n        get(value) {\n          const numTokens = value.match(SPACE).length;\n          if (cache.has(numTokens)) {\n            return cache.get(numTokens);\n          }\n\n          // Default function is 1/sqrt(x), weight makes that variable\n          const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n          // In place of `toFixed(mantissa)`, for faster computation\n          const n = parseFloat(Math.round(norm * m) / m);\n          cache.set(numTokens, n);\n          return n;\n        },\n        clear() {\n          cache.clear();\n        }\n      };\n    }\n    class FuseIndex {\n      constructor({\n        getFn = Config.getFn,\n        fieldNormWeight = Config.fieldNormWeight\n      } = {}) {\n        this.norm = norm(fieldNormWeight, 3);\n        this.getFn = getFn;\n        this.isCreated = false;\n        this.setIndexRecords();\n      }\n      setSources(docs = []) {\n        this.docs = docs;\n      }\n      setIndexRecords(records = []) {\n        this.records = records;\n      }\n      setKeys(keys = []) {\n        this.keys = keys;\n        this._keysMap = {};\n        keys.forEach((key, idx) => {\n          this._keysMap[key.id] = idx;\n        });\n      }\n      create() {\n        if (this.isCreated || !this.docs.length) {\n          return;\n        }\n        this.isCreated = true;\n\n        // List is Array<String>\n        if (isString(this.docs[0])) {\n          this.docs.forEach((doc, docIndex) => {\n            this._addString(doc, docIndex);\n          });\n        } else {\n          // List is Array<Object>\n          this.docs.forEach((doc, docIndex) => {\n            this._addObject(doc, docIndex);\n          });\n        }\n        this.norm.clear();\n      }\n      // Adds a doc to the end of the index\n      add(doc) {\n        const idx = this.size();\n        if (isString(doc)) {\n          this._addString(doc, idx);\n        } else {\n          this._addObject(doc, idx);\n        }\n      }\n      // Removes the doc at the specified index of the index\n      removeAt(idx) {\n        this.records.splice(idx, 1);\n\n        // Change ref index of every subsquent doc\n        for (let i = idx, len = this.size(); i < len; i += 1) {\n          this.records[i].i -= 1;\n        }\n      }\n      getValueForItemAtKeyId(item, keyId) {\n        return item[this._keysMap[keyId]];\n      }\n      size() {\n        return this.records.length;\n      }\n      _addString(doc, docIndex) {\n        if (!isDefined(doc) || isBlank(doc)) {\n          return;\n        }\n        let record = {\n          v: doc,\n          i: docIndex,\n          n: this.norm.get(doc)\n        };\n        this.records.push(record);\n      }\n      _addObject(doc, docIndex) {\n        let record = {\n          i: docIndex,\n          $: {}\n        };\n\n        // Iterate over every key (i.e, path), and fetch the value at that key\n        this.keys.forEach((key, keyIndex) => {\n          let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n          if (!isDefined(value)) {\n            return;\n          }\n          if (isArray(value)) {\n            let subRecords = [];\n            const stack = [{\n              nestedArrIndex: -1,\n              value\n            }];\n            while (stack.length) {\n              const {\n                nestedArrIndex,\n                value\n              } = stack.pop();\n              if (!isDefined(value)) {\n                continue;\n              }\n              if (isString(value) && !isBlank(value)) {\n                let subRecord = {\n                  v: value,\n                  i: nestedArrIndex,\n                  n: this.norm.get(value)\n                };\n                subRecords.push(subRecord);\n              } else if (isArray(value)) {\n                value.forEach((item, k) => {\n                  stack.push({\n                    nestedArrIndex: k,\n                    value: item\n                  });\n                });\n              } else ;\n            }\n            record.$[keyIndex] = subRecords;\n          } else if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              n: this.norm.get(value)\n            };\n            record.$[keyIndex] = subRecord;\n          }\n        });\n        this.records.push(record);\n      }\n      toJSON() {\n        return {\n          keys: this.keys,\n          records: this.records\n        };\n      }\n    }\n    function createIndex(keys, docs, {\n      getFn = Config.getFn,\n      fieldNormWeight = Config.fieldNormWeight\n    } = {}) {\n      const myIndex = new FuseIndex({\n        getFn,\n        fieldNormWeight\n      });\n      myIndex.setKeys(keys.map(createKey));\n      myIndex.setSources(docs);\n      myIndex.create();\n      return myIndex;\n    }\n    function parseIndex(data, {\n      getFn = Config.getFn,\n      fieldNormWeight = Config.fieldNormWeight\n    } = {}) {\n      const {\n        keys,\n        records\n      } = data;\n      const myIndex = new FuseIndex({\n        getFn,\n        fieldNormWeight\n      });\n      myIndex.setKeys(keys);\n      myIndex.setIndexRecords(records);\n      return myIndex;\n    }\n    function computeScore$1(pattern, {\n      errors = 0,\n      currentLocation = 0,\n      expectedLocation = 0,\n      distance = Config.distance,\n      ignoreLocation = Config.ignoreLocation\n    } = {}) {\n      const accuracy = errors / pattern.length;\n      if (ignoreLocation) {\n        return accuracy;\n      }\n      const proximity = Math.abs(expectedLocation - currentLocation);\n      if (!distance) {\n        // Dodge divide by zero error.\n        return proximity ? 1.0 : accuracy;\n      }\n      return accuracy + proximity / distance;\n    }\n    function convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {\n      let indices = [];\n      let start = -1;\n      let end = -1;\n      let i = 0;\n      for (let len = matchmask.length; i < len; i += 1) {\n        let match = matchmask[i];\n        if (match && start === -1) {\n          start = i;\n        } else if (!match && start !== -1) {\n          end = i - 1;\n          if (end - start + 1 >= minMatchCharLength) {\n            indices.push([start, end]);\n          }\n          start = -1;\n        }\n      }\n\n      // (i-1 - start) + 1 => i - start\n      if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n        indices.push([start, i - 1]);\n      }\n      return indices;\n    }\n\n    // Machine word size\n    const MAX_BITS = 32;\n    function search(text, pattern, patternAlphabet, {\n      location = Config.location,\n      distance = Config.distance,\n      threshold = Config.threshold,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      includeMatches = Config.includeMatches,\n      ignoreLocation = Config.ignoreLocation\n    } = {}) {\n      if (pattern.length > MAX_BITS) {\n        throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\n      }\n      const patternLen = pattern.length;\n      // Set starting location at beginning text and initialize the alphabet.\n      const textLen = text.length;\n      // Handle the case when location > text.length\n      const expectedLocation = Math.max(0, Math.min(location, textLen));\n      // Highest score beyond which we give up.\n      let currentThreshold = threshold;\n      // Is there a nearby exact match? (speedup)\n      let bestLocation = expectedLocation;\n\n      // Performance: only computer matches when the minMatchCharLength > 1\n      // OR if `includeMatches` is true.\n      const computeMatches = minMatchCharLength > 1 || includeMatches;\n      // A mask of the matches, used for building the indices\n      const matchMask = computeMatches ? Array(textLen) : [];\n      let index;\n\n      // Get all exact matches, here for speed up\n      while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n        let score = computeScore$1(pattern, {\n          currentLocation: index,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n        currentThreshold = Math.min(score, currentThreshold);\n        bestLocation = index + patternLen;\n        if (computeMatches) {\n          let i = 0;\n          while (i < patternLen) {\n            matchMask[index + i] = 1;\n            i += 1;\n          }\n        }\n      }\n\n      // Reset the best location\n      bestLocation = -1;\n      let lastBitArr = [];\n      let finalScore = 1;\n      let binMax = patternLen + textLen;\n      const mask = 1 << patternLen - 1;\n      for (let i = 0; i < patternLen; i += 1) {\n        // Scan for the best match; each iteration allows for one more error.\n        // Run a binary search to determine how far from the match location we can stray\n        // at this error level.\n        let binMin = 0;\n        let binMid = binMax;\n        while (binMin < binMid) {\n          const score = computeScore$1(pattern, {\n            errors: i,\n            currentLocation: expectedLocation + binMid,\n            expectedLocation,\n            distance,\n            ignoreLocation\n          });\n          if (score <= currentThreshold) {\n            binMin = binMid;\n          } else {\n            binMax = binMid;\n          }\n          binMid = Math.floor((binMax - binMin) / 2 + binMin);\n        }\n\n        // Use the result from this iteration as the maximum for the next.\n        binMax = binMid;\n        let start = Math.max(1, expectedLocation - binMid + 1);\n        let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n        // Initialize the bit array\n        let bitArr = Array(finish + 2);\n        bitArr[finish + 1] = (1 << i) - 1;\n        for (let j = finish; j >= start; j -= 1) {\n          let currentLocation = j - 1;\n          let charMatch = patternAlphabet[text.charAt(currentLocation)];\n          if (computeMatches) {\n            // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n            matchMask[currentLocation] = +!!charMatch;\n          }\n\n          // First pass: exact match\n          bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\n\n          // Subsequent passes: fuzzy match\n          if (i) {\n            bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n          }\n          if (bitArr[j] & mask) {\n            finalScore = computeScore$1(pattern, {\n              errors: i,\n              currentLocation,\n              expectedLocation,\n              distance,\n              ignoreLocation\n            });\n\n            // This match will almost certainly be better than any existing match.\n            // But check anyway.\n            if (finalScore <= currentThreshold) {\n              // Indeed it is\n              currentThreshold = finalScore;\n              bestLocation = currentLocation;\n\n              // Already passed `loc`, downhill from here on in.\n              if (bestLocation <= expectedLocation) {\n                break;\n              }\n\n              // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n              start = Math.max(1, 2 * expectedLocation - bestLocation);\n            }\n          }\n        }\n\n        // No hope for a (better) match at greater error levels.\n        const score = computeScore$1(pattern, {\n          errors: i + 1,\n          currentLocation: expectedLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n        if (score > currentThreshold) {\n          break;\n        }\n        lastBitArr = bitArr;\n      }\n      const result = {\n        isMatch: bestLocation >= 0,\n        // Count exact matches (those with a score of 0) to be \"almost\" exact\n        score: Math.max(0.001, finalScore)\n      };\n      if (computeMatches) {\n        const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n        if (!indices.length) {\n          result.isMatch = false;\n        } else if (includeMatches) {\n          result.indices = indices;\n        }\n      }\n      return result;\n    }\n    function createPatternAlphabet(pattern) {\n      let mask = {};\n      for (let i = 0, len = pattern.length; i < len; i += 1) {\n        const char = pattern.charAt(i);\n        mask[char] = (mask[char] || 0) | 1 << len - i - 1;\n      }\n      return mask;\n    }\n    const stripDiacritics = String.prototype.normalize ? str => str.normalize('NFD').replace(/[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C04\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00-\\u0D03\\u0D3B\\u0D3C\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF7-\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F]/g, '') : str => str;\n    class BitapSearch {\n      constructor(pattern, {\n        location = Config.location,\n        threshold = Config.threshold,\n        distance = Config.distance,\n        includeMatches = Config.includeMatches,\n        findAllMatches = Config.findAllMatches,\n        minMatchCharLength = Config.minMatchCharLength,\n        isCaseSensitive = Config.isCaseSensitive,\n        ignoreDiacritics = Config.ignoreDiacritics,\n        ignoreLocation = Config.ignoreLocation\n      } = {}) {\n        this.options = {\n          location,\n          threshold,\n          distance,\n          includeMatches,\n          findAllMatches,\n          minMatchCharLength,\n          isCaseSensitive,\n          ignoreDiacritics,\n          ignoreLocation\n        };\n        pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n        pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n        this.pattern = pattern;\n        this.chunks = [];\n        if (!this.pattern.length) {\n          return;\n        }\n        const addChunk = (pattern, startIndex) => {\n          this.chunks.push({\n            pattern,\n            alphabet: createPatternAlphabet(pattern),\n            startIndex\n          });\n        };\n        const len = this.pattern.length;\n        if (len > MAX_BITS) {\n          let i = 0;\n          const remainder = len % MAX_BITS;\n          const end = len - remainder;\n          while (i < end) {\n            addChunk(this.pattern.substr(i, MAX_BITS), i);\n            i += MAX_BITS;\n          }\n          if (remainder) {\n            const startIndex = len - MAX_BITS;\n            addChunk(this.pattern.substr(startIndex), startIndex);\n          }\n        } else {\n          addChunk(this.pattern, 0);\n        }\n      }\n      searchIn(text) {\n        const {\n          isCaseSensitive,\n          ignoreDiacritics,\n          includeMatches\n        } = this.options;\n        text = isCaseSensitive ? text : text.toLowerCase();\n        text = ignoreDiacritics ? stripDiacritics(text) : text;\n\n        // Exact match\n        if (this.pattern === text) {\n          let result = {\n            isMatch: true,\n            score: 0\n          };\n          if (includeMatches) {\n            result.indices = [[0, text.length - 1]];\n          }\n          return result;\n        }\n\n        // Otherwise, use Bitap algorithm\n        const {\n          location,\n          distance,\n          threshold,\n          findAllMatches,\n          minMatchCharLength,\n          ignoreLocation\n        } = this.options;\n        let allIndices = [];\n        let totalScore = 0;\n        let hasMatches = false;\n        this.chunks.forEach(({\n          pattern,\n          alphabet,\n          startIndex\n        }) => {\n          const {\n            isMatch,\n            score,\n            indices\n          } = search(text, pattern, alphabet, {\n            location: location + startIndex,\n            distance,\n            threshold,\n            findAllMatches,\n            minMatchCharLength,\n            includeMatches,\n            ignoreLocation\n          });\n          if (isMatch) {\n            hasMatches = true;\n          }\n          totalScore += score;\n          if (isMatch && indices) {\n            allIndices = [...allIndices, ...indices];\n          }\n        });\n        let result = {\n          isMatch: hasMatches,\n          score: hasMatches ? totalScore / this.chunks.length : 1\n        };\n        if (hasMatches && includeMatches) {\n          result.indices = allIndices;\n        }\n        return result;\n      }\n    }\n    class BaseMatch {\n      constructor(pattern) {\n        this.pattern = pattern;\n      }\n      static isMultiMatch(pattern) {\n        return getMatch(pattern, this.multiRegex);\n      }\n      static isSingleMatch(pattern) {\n        return getMatch(pattern, this.singleRegex);\n      }\n      search(/*text*/) {}\n    }\n    function getMatch(pattern, exp) {\n      const matches = pattern.match(exp);\n      return matches ? matches[1] : null;\n    }\n\n    // Token: 'file\n\n    class ExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'exact';\n      }\n      static get multiRegex() {\n        return /^=\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^=(.*)$/;\n      }\n      search(text) {\n        const isMatch = text === this.pattern;\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, this.pattern.length - 1]\n        };\n      }\n    }\n\n    // Token: !fire\n\n    class InverseExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'inverse-exact';\n      }\n      static get multiRegex() {\n        return /^!\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^!(.*)$/;\n      }\n      search(text) {\n        const index = text.indexOf(this.pattern);\n        const isMatch = index === -1;\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, text.length - 1]\n        };\n      }\n    }\n\n    // Token: ^file\n\n    class PrefixExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'prefix-exact';\n      }\n      static get multiRegex() {\n        return /^\\^\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^\\^(.*)$/;\n      }\n      search(text) {\n        const isMatch = text.startsWith(this.pattern);\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, this.pattern.length - 1]\n        };\n      }\n    }\n\n    // Token: !^fire\n\n    class InversePrefixExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'inverse-prefix-exact';\n      }\n      static get multiRegex() {\n        return /^!\\^\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^!\\^(.*)$/;\n      }\n      search(text) {\n        const isMatch = !text.startsWith(this.pattern);\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, text.length - 1]\n        };\n      }\n    }\n\n    // Token: .file$\n\n    class SuffixExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'suffix-exact';\n      }\n      static get multiRegex() {\n        return /^\"(.*)\"\\$$/;\n      }\n      static get singleRegex() {\n        return /^(.*)\\$$/;\n      }\n      search(text) {\n        const isMatch = text.endsWith(this.pattern);\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [text.length - this.pattern.length, text.length - 1]\n        };\n      }\n    }\n\n    // Token: !.file$\n\n    class InverseSuffixExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'inverse-suffix-exact';\n      }\n      static get multiRegex() {\n        return /^!\"(.*)\"\\$$/;\n      }\n      static get singleRegex() {\n        return /^!(.*)\\$$/;\n      }\n      search(text) {\n        const isMatch = !text.endsWith(this.pattern);\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, text.length - 1]\n        };\n      }\n    }\n    class FuzzyMatch extends BaseMatch {\n      constructor(pattern, {\n        location = Config.location,\n        threshold = Config.threshold,\n        distance = Config.distance,\n        includeMatches = Config.includeMatches,\n        findAllMatches = Config.findAllMatches,\n        minMatchCharLength = Config.minMatchCharLength,\n        isCaseSensitive = Config.isCaseSensitive,\n        ignoreDiacritics = Config.ignoreDiacritics,\n        ignoreLocation = Config.ignoreLocation\n      } = {}) {\n        super(pattern);\n        this._bitapSearch = new BitapSearch(pattern, {\n          location,\n          threshold,\n          distance,\n          includeMatches,\n          findAllMatches,\n          minMatchCharLength,\n          isCaseSensitive,\n          ignoreDiacritics,\n          ignoreLocation\n        });\n      }\n      static get type() {\n        return 'fuzzy';\n      }\n      static get multiRegex() {\n        return /^\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^(.*)$/;\n      }\n      search(text) {\n        return this._bitapSearch.searchIn(text);\n      }\n    }\n\n    // Token: 'file\n\n    class IncludeMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'include';\n      }\n      static get multiRegex() {\n        return /^'\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^'(.*)$/;\n      }\n      search(text) {\n        let location = 0;\n        let index;\n        const indices = [];\n        const patternLen = this.pattern.length;\n\n        // Get all exact matches\n        while ((index = text.indexOf(this.pattern, location)) > -1) {\n          location = index + patternLen;\n          indices.push([index, location - 1]);\n        }\n        const isMatch = !!indices.length;\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices\n        };\n      }\n    }\n\n    // ❗Order is important. DO NOT CHANGE.\n    const searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\n    const searchersLen = searchers.length;\n\n    // Regex to split by spaces, but keep anything in quotes together\n    const SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\n    const OR_TOKEN = '|';\n\n    // Return a 2D array representation of the query, for simpler parsing.\n    // Example:\n    // \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\n    function parseQuery(pattern, options = {}) {\n      return pattern.split(OR_TOKEN).map(item => {\n        let query = item.trim().split(SPACE_RE).filter(item => item && !!item.trim());\n        let results = [];\n        for (let i = 0, len = query.length; i < len; i += 1) {\n          const queryItem = query[i];\n\n          // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n          let found = false;\n          let idx = -1;\n          while (!found && ++idx < searchersLen) {\n            const searcher = searchers[idx];\n            let token = searcher.isMultiMatch(queryItem);\n            if (token) {\n              results.push(new searcher(token, options));\n              found = true;\n            }\n          }\n          if (found) {\n            continue;\n          }\n\n          // 2. Handle single query matches (i.e, once that are *not* quoted)\n          idx = -1;\n          while (++idx < searchersLen) {\n            const searcher = searchers[idx];\n            let token = searcher.isSingleMatch(queryItem);\n            if (token) {\n              results.push(new searcher(token, options));\n              break;\n            }\n          }\n        }\n        return results;\n      });\n    }\n\n    // These extended matchers can return an array of matches, as opposed\n    // to a singl match\n    const MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n    /**\n     * Command-like searching\n     * ======================\n     *\n     * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n     * search in a given text.\n     *\n     * Search syntax:\n     *\n     * | Token       | Match type                 | Description                            |\n     * | ----------- | -------------------------- | -------------------------------------- |\n     * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n     * | `=scheme`   | exact-match                | Items that are `scheme`                |\n     * | `'python`   | include-match              | Items that include `python`            |\n     * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n     * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n     * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n     * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n     * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n     *\n     * A single pipe character acts as an OR operator. For example, the following\n     * query matches entries that start with `core` and end with either`go`, `rb`,\n     * or`py`.\n     *\n     * ```\n     * ^core go$ | rb$ | py$\n     * ```\n     */\n    class ExtendedSearch {\n      constructor(pattern, {\n        isCaseSensitive = Config.isCaseSensitive,\n        ignoreDiacritics = Config.ignoreDiacritics,\n        includeMatches = Config.includeMatches,\n        minMatchCharLength = Config.minMatchCharLength,\n        ignoreLocation = Config.ignoreLocation,\n        findAllMatches = Config.findAllMatches,\n        location = Config.location,\n        threshold = Config.threshold,\n        distance = Config.distance\n      } = {}) {\n        this.query = null;\n        this.options = {\n          isCaseSensitive,\n          ignoreDiacritics,\n          includeMatches,\n          minMatchCharLength,\n          findAllMatches,\n          ignoreLocation,\n          location,\n          threshold,\n          distance\n        };\n        pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n        pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n        this.pattern = pattern;\n        this.query = parseQuery(this.pattern, this.options);\n      }\n      static condition(_, options) {\n        return options.useExtendedSearch;\n      }\n      searchIn(text) {\n        const query = this.query;\n        if (!query) {\n          return {\n            isMatch: false,\n            score: 1\n          };\n        }\n        const {\n          includeMatches,\n          isCaseSensitive,\n          ignoreDiacritics\n        } = this.options;\n        text = isCaseSensitive ? text : text.toLowerCase();\n        text = ignoreDiacritics ? stripDiacritics(text) : text;\n        let numMatches = 0;\n        let allIndices = [];\n        let totalScore = 0;\n\n        // ORs\n        for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n          const searchers = query[i];\n\n          // Reset indices\n          allIndices.length = 0;\n          numMatches = 0;\n\n          // ANDs\n          for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n            const searcher = searchers[j];\n            const {\n              isMatch,\n              indices,\n              score\n            } = searcher.search(text);\n            if (isMatch) {\n              numMatches += 1;\n              totalScore += score;\n              if (includeMatches) {\n                const type = searcher.constructor.type;\n                if (MultiMatchSet.has(type)) {\n                  allIndices = [...allIndices, ...indices];\n                } else {\n                  allIndices.push(indices);\n                }\n              }\n            } else {\n              totalScore = 0;\n              numMatches = 0;\n              allIndices.length = 0;\n              break;\n            }\n          }\n\n          // OR condition, so if TRUE, return\n          if (numMatches) {\n            let result = {\n              isMatch: true,\n              score: totalScore / numMatches\n            };\n            if (includeMatches) {\n              result.indices = allIndices;\n            }\n            return result;\n          }\n        }\n\n        // Nothing was matched\n        return {\n          isMatch: false,\n          score: 1\n        };\n      }\n    }\n    const registeredSearchers = [];\n    function register(...args) {\n      registeredSearchers.push(...args);\n    }\n    function createSearcher(pattern, options) {\n      for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n        let searcherClass = registeredSearchers[i];\n        if (searcherClass.condition(pattern, options)) {\n          return new searcherClass(pattern, options);\n        }\n      }\n      return new BitapSearch(pattern, options);\n    }\n    const LogicalOperator = {\n      AND: '$and',\n      OR: '$or'\n    };\n    const KeyType = {\n      PATH: '$path',\n      PATTERN: '$val'\n    };\n    const isExpression = query => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n    const isPath = query => !!query[KeyType.PATH];\n    const isLeaf = query => !isArray(query) && isObject(query) && !isExpression(query);\n    const convertToExplicit = query => ({\n      [LogicalOperator.AND]: Object.keys(query).map(key => ({\n        [key]: query[key]\n      }))\n    });\n\n    // When `auto` is `true`, the parse function will infer and initialize and add\n    // the appropriate `Searcher` instance\n    function parse(query, options, {\n      auto = true\n    } = {}) {\n      const next = query => {\n        let keys = Object.keys(query);\n        const isQueryPath = isPath(query);\n        if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n          return next(convertToExplicit(query));\n        }\n        if (isLeaf(query)) {\n          const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n          const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n          if (!isString(pattern)) {\n            throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\n          }\n          const obj = {\n            keyId: createKeyId(key),\n            pattern\n          };\n          if (auto) {\n            obj.searcher = createSearcher(pattern, options);\n          }\n          return obj;\n        }\n        let node = {\n          children: [],\n          operator: keys[0]\n        };\n        keys.forEach(key => {\n          const value = query[key];\n          if (isArray(value)) {\n            value.forEach(item => {\n              node.children.push(next(item));\n            });\n          }\n        });\n        return node;\n      };\n      if (!isExpression(query)) {\n        query = convertToExplicit(query);\n      }\n      return next(query);\n    }\n\n    // Practical scoring function\n    function computeScore(results, {\n      ignoreFieldNorm = Config.ignoreFieldNorm\n    }) {\n      results.forEach(result => {\n        let totalScore = 1;\n        result.matches.forEach(({\n          key,\n          norm,\n          score\n        }) => {\n          const weight = key ? key.weight : null;\n          totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\n        });\n        result.score = totalScore;\n      });\n    }\n    function transformMatches(result, data) {\n      const matches = result.matches;\n      data.matches = [];\n      if (!isDefined(matches)) {\n        return;\n      }\n      matches.forEach(match => {\n        if (!isDefined(match.indices) || !match.indices.length) {\n          return;\n        }\n        const {\n          indices,\n          value\n        } = match;\n        let obj = {\n          indices,\n          value\n        };\n        if (match.key) {\n          obj.key = match.key.src;\n        }\n        if (match.idx > -1) {\n          obj.refIndex = match.idx;\n        }\n        data.matches.push(obj);\n      });\n    }\n    function transformScore(result, data) {\n      data.score = result.score;\n    }\n    function format(results, docs, {\n      includeMatches = Config.includeMatches,\n      includeScore = Config.includeScore\n    } = {}) {\n      const transformers = [];\n      if (includeMatches) transformers.push(transformMatches);\n      if (includeScore) transformers.push(transformScore);\n      return results.map(result => {\n        const {\n          idx\n        } = result;\n        const data = {\n          item: docs[idx],\n          refIndex: idx\n        };\n        if (transformers.length) {\n          transformers.forEach(transformer => {\n            transformer(result, data);\n          });\n        }\n        return data;\n      });\n    }\n    class Fuse {\n      constructor(docs, options = {}, index) {\n        this.options = _objectSpread2(_objectSpread2({}, Config), options);\n        if (this.options.useExtendedSearch && false) ;\n        this._keyStore = new KeyStore(this.options.keys);\n        this.setCollection(docs, index);\n      }\n      setCollection(docs, index) {\n        this._docs = docs;\n        if (index && !(index instanceof FuseIndex)) {\n          throw new Error(INCORRECT_INDEX_TYPE);\n        }\n        this._myIndex = index || createIndex(this.options.keys, this._docs, {\n          getFn: this.options.getFn,\n          fieldNormWeight: this.options.fieldNormWeight\n        });\n      }\n      add(doc) {\n        if (!isDefined(doc)) {\n          return;\n        }\n        this._docs.push(doc);\n        this._myIndex.add(doc);\n      }\n      remove(predicate = (/* doc, idx */) => false) {\n        const results = [];\n        for (let i = 0, len = this._docs.length; i < len; i += 1) {\n          const doc = this._docs[i];\n          if (predicate(doc, i)) {\n            this.removeAt(i);\n            i -= 1;\n            len -= 1;\n            results.push(doc);\n          }\n        }\n        return results;\n      }\n      removeAt(idx) {\n        this._docs.splice(idx, 1);\n        this._myIndex.removeAt(idx);\n      }\n      getIndex() {\n        return this._myIndex;\n      }\n      search(query, {\n        limit = -1\n      } = {}) {\n        const {\n          includeMatches,\n          includeScore,\n          shouldSort,\n          sortFn,\n          ignoreFieldNorm\n        } = this.options;\n        let results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\n        computeScore(results, {\n          ignoreFieldNorm\n        });\n        if (shouldSort) {\n          results.sort(sortFn);\n        }\n        if (isNumber(limit) && limit > -1) {\n          results = results.slice(0, limit);\n        }\n        return format(results, this._docs, {\n          includeMatches,\n          includeScore\n        });\n      }\n      _searchStringList(query) {\n        const searcher = createSearcher(query, this.options);\n        const {\n          records\n        } = this._myIndex;\n        const results = [];\n\n        // Iterate over every string in the index\n        records.forEach(({\n          v: text,\n          i: idx,\n          n: norm\n        }) => {\n          if (!isDefined(text)) {\n            return;\n          }\n          const {\n            isMatch,\n            score,\n            indices\n          } = searcher.searchIn(text);\n          if (isMatch) {\n            results.push({\n              item: text,\n              idx,\n              matches: [{\n                score,\n                value: text,\n                norm,\n                indices\n              }]\n            });\n          }\n        });\n        return results;\n      }\n      _searchLogical(query) {\n        const expression = parse(query, this.options);\n        const evaluate = (node, item, idx) => {\n          if (!node.children) {\n            const {\n              keyId,\n              searcher\n            } = node;\n            const matches = this._findMatches({\n              key: this._keyStore.get(keyId),\n              value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n              searcher\n            });\n            if (matches && matches.length) {\n              return [{\n                idx,\n                item,\n                matches\n              }];\n            }\n            return [];\n          }\n          const res = [];\n          for (let i = 0, len = node.children.length; i < len; i += 1) {\n            const child = node.children[i];\n            const result = evaluate(child, item, idx);\n            if (result.length) {\n              res.push(...result);\n            } else if (node.operator === LogicalOperator.AND) {\n              return [];\n            }\n          }\n          return res;\n        };\n        const records = this._myIndex.records;\n        const resultMap = {};\n        const results = [];\n        records.forEach(({\n          $: item,\n          i: idx\n        }) => {\n          if (isDefined(item)) {\n            let expResults = evaluate(expression, item, idx);\n            if (expResults.length) {\n              // Dedupe when adding\n              if (!resultMap[idx]) {\n                resultMap[idx] = {\n                  idx,\n                  item,\n                  matches: []\n                };\n                results.push(resultMap[idx]);\n              }\n              expResults.forEach(({\n                matches\n              }) => {\n                resultMap[idx].matches.push(...matches);\n              });\n            }\n          }\n        });\n        return results;\n      }\n      _searchObjectList(query) {\n        const searcher = createSearcher(query, this.options);\n        const {\n          keys,\n          records\n        } = this._myIndex;\n        const results = [];\n\n        // List is Array<Object>\n        records.forEach(({\n          $: item,\n          i: idx\n        }) => {\n          if (!isDefined(item)) {\n            return;\n          }\n          let matches = [];\n\n          // Iterate over every key (i.e, path), and fetch the value at that key\n          keys.forEach((key, keyIndex) => {\n            matches.push(...this._findMatches({\n              key,\n              value: item[keyIndex],\n              searcher\n            }));\n          });\n          if (matches.length) {\n            results.push({\n              idx,\n              item,\n              matches\n            });\n          }\n        });\n        return results;\n      }\n      _findMatches({\n        key,\n        value,\n        searcher\n      }) {\n        if (!isDefined(value)) {\n          return [];\n        }\n        let matches = [];\n        if (isArray(value)) {\n          value.forEach(({\n            v: text,\n            i: idx,\n            n: norm\n          }) => {\n            if (!isDefined(text)) {\n              return;\n            }\n            const {\n              isMatch,\n              score,\n              indices\n            } = searcher.searchIn(text);\n            if (isMatch) {\n              matches.push({\n                score,\n                key,\n                value: text,\n                idx,\n                norm,\n                indices\n              });\n            }\n          });\n        } else {\n          const {\n            v: text,\n            n: norm\n          } = value;\n          const {\n            isMatch,\n            score,\n            indices\n          } = searcher.searchIn(text);\n          if (isMatch) {\n            matches.push({\n              score,\n              key,\n              value: text,\n              norm,\n              indices\n            });\n          }\n        }\n        return matches;\n      }\n    }\n    Fuse.version = '7.1.0';\n    Fuse.createIndex = createIndex;\n    Fuse.parseIndex = parseIndex;\n    Fuse.config = Config;\n    {\n      Fuse.parseQuery = parse;\n    }\n    {\n      register(ExtendedSearch);\n    }\n\n    var SearchByFuse = /** @class */ (function () {\n        function SearchByFuse(config) {\n            this._haystack = [];\n            this._fuseOptions = __assign(__assign({}, config.fuseOptions), { keys: __spreadArray([], config.searchFields, true), includeMatches: true });\n        }\n        SearchByFuse.prototype.index = function (data) {\n            this._haystack = data;\n            if (this._fuse) {\n                this._fuse.setCollection(data);\n            }\n        };\n        SearchByFuse.prototype.reset = function () {\n            this._haystack = [];\n            this._fuse = undefined;\n        };\n        SearchByFuse.prototype.isEmptyIndex = function () {\n            return !this._haystack.length;\n        };\n        SearchByFuse.prototype.search = function (needle) {\n            if (!this._fuse) {\n                {\n                    this._fuse = new Fuse(this._haystack, this._fuseOptions);\n                }\n            }\n            var results = this._fuse.search(needle);\n            return results.map(function (value, i) {\n                return {\n                    item: value.item,\n                    score: value.score || 0,\n                    rank: i + 1, // If value.score is used for sorting, this can create non-stable sorts!\n                };\n            });\n        };\n        return SearchByFuse;\n    }());\n\n    function getSearcher(config) {\n        {\n            return new SearchByFuse(config);\n        }\n    }\n\n    /**\n     * Helpers to create HTML elements used by Choices\n     * Can be overridden by providing `callbackOnCreateTemplates` option.\n     * `Choices.defaults.templates` allows access to the default template methods from `callbackOnCreateTemplates`\n     */\n    var isEmptyObject = function (obj) {\n        // eslint-disable-next-line no-restricted-syntax\n        for (var prop in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    var assignCustomProperties = function (el, choice, withCustomProperties) {\n        var dataset = el.dataset;\n        var customProperties = choice.customProperties, labelClass = choice.labelClass, labelDescription = choice.labelDescription;\n        if (labelClass) {\n            dataset.labelClass = getClassNames(labelClass).join(' ');\n        }\n        if (labelDescription) {\n            dataset.labelDescription = labelDescription;\n        }\n        if (withCustomProperties && customProperties) {\n            if (typeof customProperties === 'string') {\n                dataset.customProperties = customProperties;\n            }\n            else if (typeof customProperties === 'object' && !isEmptyObject(customProperties)) {\n                dataset.customProperties = JSON.stringify(customProperties);\n            }\n        }\n    };\n    var addAriaLabel = function (docRoot, id, element) {\n        var label = id && docRoot.querySelector(\"label[for='\".concat(id, \"']\"));\n        var text = label && label.innerText;\n        if (text) {\n            element.setAttribute('aria-label', text);\n        }\n    };\n    var templates = {\n        containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\n            var containerOuter = _a.classNames.containerOuter;\n            var div = document.createElement('div');\n            addClassesToElement(div, containerOuter);\n            div.dataset.type = passedElementType;\n            if (dir) {\n                div.dir = dir;\n            }\n            if (isSelectOneElement) {\n                div.tabIndex = 0;\n            }\n            if (isSelectElement) {\n                div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n                if (searchEnabled) {\n                    div.setAttribute('aria-autocomplete', 'list');\n                }\n                else if (!labelId) {\n                    addAriaLabel(this._docRoot, this.passedElement.element.id, div);\n                }\n                div.setAttribute('aria-haspopup', 'true');\n                div.setAttribute('aria-expanded', 'false');\n            }\n            if (labelId) {\n                div.setAttribute('aria-labelledby', labelId);\n            }\n            return div;\n        },\n        containerInner: function (_a) {\n            var containerInner = _a.classNames.containerInner;\n            var div = document.createElement('div');\n            addClassesToElement(div, containerInner);\n            return div;\n        },\n        itemList: function (_a, isSelectOneElement) {\n            var searchEnabled = _a.searchEnabled, _b = _a.classNames, list = _b.list, listSingle = _b.listSingle, listItems = _b.listItems;\n            var div = document.createElement('div');\n            addClassesToElement(div, list);\n            addClassesToElement(div, isSelectOneElement ? listSingle : listItems);\n            if (this._isSelectElement && searchEnabled) {\n                div.setAttribute('role', 'listbox');\n            }\n            return div;\n        },\n        placeholder: function (_a, value) {\n            var allowHTML = _a.allowHTML, placeholder = _a.classNames.placeholder;\n            var div = document.createElement('div');\n            addClassesToElement(div, placeholder);\n            setElementHtml(div, allowHTML, value);\n            return div;\n        },\n        item: function (_a, choice, removeItemButton) {\n            var allowHTML = _a.allowHTML, removeItemButtonAlignLeft = _a.removeItemButtonAlignLeft, removeItemIconText = _a.removeItemIconText, removeItemLabelText = _a.removeItemLabelText, _b = _a.classNames, item = _b.item, button = _b.button, highlightedState = _b.highlightedState, itemSelectable = _b.itemSelectable, placeholder = _b.placeholder;\n            var rawValue = unwrapStringForRaw(choice.value);\n            var div = document.createElement('div');\n            addClassesToElement(div, item);\n            if (choice.labelClass) {\n                var spanLabel = document.createElement('span');\n                setElementHtml(spanLabel, allowHTML, choice.label);\n                addClassesToElement(spanLabel, choice.labelClass);\n                div.appendChild(spanLabel);\n            }\n            else {\n                setElementHtml(div, allowHTML, choice.label);\n            }\n            div.dataset.item = '';\n            div.dataset.id = choice.id;\n            div.dataset.value = rawValue;\n            assignCustomProperties(div, choice, true);\n            if (choice.disabled || this.containerOuter.isDisabled) {\n                div.setAttribute('aria-disabled', 'true');\n            }\n            if (this._isSelectElement) {\n                div.setAttribute('aria-selected', 'true');\n                div.setAttribute('role', 'option');\n            }\n            if (choice.placeholder) {\n                addClassesToElement(div, placeholder);\n                div.dataset.placeholder = '';\n            }\n            addClassesToElement(div, choice.highlighted ? highlightedState : itemSelectable);\n            if (removeItemButton) {\n                if (choice.disabled) {\n                    removeClassesFromElement(div, itemSelectable);\n                }\n                div.dataset.deletable = '';\n                var removeButton = document.createElement('button');\n                removeButton.type = 'button';\n                addClassesToElement(removeButton, button);\n                setElementHtml(removeButton, true, resolveNoticeFunction(removeItemIconText, choice.value));\n                var REMOVE_ITEM_LABEL = resolveNoticeFunction(removeItemLabelText, choice.value);\n                if (REMOVE_ITEM_LABEL) {\n                    removeButton.setAttribute('aria-label', REMOVE_ITEM_LABEL);\n                }\n                removeButton.dataset.button = '';\n                if (removeItemButtonAlignLeft) {\n                    div.insertAdjacentElement('afterbegin', removeButton);\n                }\n                else {\n                    div.appendChild(removeButton);\n                }\n            }\n            return div;\n        },\n        choiceList: function (_a, isSelectOneElement) {\n            var list = _a.classNames.list;\n            var div = document.createElement('div');\n            addClassesToElement(div, list);\n            if (!isSelectOneElement) {\n                div.setAttribute('aria-multiselectable', 'true');\n            }\n            div.setAttribute('role', 'listbox');\n            return div;\n        },\n        choiceGroup: function (_a, _b) {\n            var allowHTML = _a.allowHTML, _c = _a.classNames, group = _c.group, groupHeading = _c.groupHeading, itemDisabled = _c.itemDisabled;\n            var id = _b.id, label = _b.label, disabled = _b.disabled;\n            var rawLabel = unwrapStringForRaw(label);\n            var div = document.createElement('div');\n            addClassesToElement(div, group);\n            if (disabled) {\n                addClassesToElement(div, itemDisabled);\n            }\n            div.setAttribute('role', 'group');\n            div.dataset.group = '';\n            div.dataset.id = id;\n            div.dataset.value = rawLabel;\n            if (disabled) {\n                div.setAttribute('aria-disabled', 'true');\n            }\n            var heading = document.createElement('div');\n            addClassesToElement(heading, groupHeading);\n            setElementHtml(heading, allowHTML, label || '');\n            div.appendChild(heading);\n            return div;\n        },\n        choice: function (_a, choice, selectText, groupName) {\n            var allowHTML = _a.allowHTML, _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, itemSelectable = _b.itemSelectable, selectedState = _b.selectedState, itemDisabled = _b.itemDisabled, description = _b.description, placeholder = _b.placeholder;\n            // eslint-disable-next-line prefer-destructuring\n            var label = choice.label;\n            var rawValue = unwrapStringForRaw(choice.value);\n            var div = document.createElement('div');\n            div.id = choice.elementId;\n            addClassesToElement(div, item);\n            addClassesToElement(div, itemChoice);\n            if (groupName && typeof label === 'string') {\n                label = escapeForTemplate(allowHTML, label);\n                label += \" (\".concat(groupName, \")\");\n                label = { trusted: label };\n            }\n            var describedBy = div;\n            if (choice.labelClass) {\n                var spanLabel = document.createElement('span');\n                setElementHtml(spanLabel, allowHTML, label);\n                addClassesToElement(spanLabel, choice.labelClass);\n                describedBy = spanLabel;\n                div.appendChild(spanLabel);\n            }\n            else {\n                setElementHtml(div, allowHTML, label);\n            }\n            if (choice.labelDescription) {\n                var descId = \"\".concat(choice.elementId, \"-description\");\n                describedBy.setAttribute('aria-describedby', descId);\n                var spanDesc = document.createElement('span');\n                setElementHtml(spanDesc, allowHTML, choice.labelDescription);\n                spanDesc.id = descId;\n                addClassesToElement(spanDesc, description);\n                div.appendChild(spanDesc);\n            }\n            if (choice.selected) {\n                addClassesToElement(div, selectedState);\n            }\n            if (choice.placeholder) {\n                addClassesToElement(div, placeholder);\n            }\n            div.setAttribute('role', choice.group ? 'treeitem' : 'option');\n            div.dataset.choice = '';\n            div.dataset.id = choice.id;\n            div.dataset.value = rawValue;\n            if (selectText) {\n                div.dataset.selectText = selectText;\n            }\n            if (choice.group) {\n                div.dataset.groupId = \"\".concat(choice.group.id);\n            }\n            assignCustomProperties(div, choice, false);\n            if (choice.disabled) {\n                addClassesToElement(div, itemDisabled);\n                div.dataset.choiceDisabled = '';\n                div.setAttribute('aria-disabled', 'true');\n            }\n            else {\n                addClassesToElement(div, itemSelectable);\n                div.dataset.choiceSelectable = '';\n            }\n            return div;\n        },\n        input: function (_a, placeholderValue) {\n            var _b = _a.classNames, input = _b.input, inputCloned = _b.inputCloned, labelId = _a.labelId;\n            var inp = document.createElement('input');\n            inp.type = 'search';\n            addClassesToElement(inp, input);\n            addClassesToElement(inp, inputCloned);\n            inp.autocomplete = 'off';\n            inp.autocapitalize = 'off';\n            inp.spellcheck = false;\n            inp.name = 'search';\n            inp.setAttribute('aria-autocomplete', 'list');\n            if (placeholderValue) {\n                inp.setAttribute('aria-label', placeholderValue);\n            }\n            else if (!labelId) {\n                addAriaLabel(this._docRoot, this.passedElement.element.id, inp);\n            }\n            return inp;\n        },\n        dropdown: function (_a) {\n            var _b = _a.classNames, list = _b.list, listDropdown = _b.listDropdown;\n            var div = document.createElement('div');\n            addClassesToElement(div, list);\n            addClassesToElement(div, listDropdown);\n            div.setAttribute('aria-expanded', 'false');\n            return div;\n        },\n        notice: function (_a, innerHTML, type) {\n            var _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, addChoice = _b.addChoice, noResults = _b.noResults, noChoices = _b.noChoices, noticeItem = _b.notice;\n            if (type === void 0) { type = NoticeTypes.generic; }\n            var notice = document.createElement('div');\n            setElementHtml(notice, true, innerHTML);\n            addClassesToElement(notice, item);\n            addClassesToElement(notice, itemChoice);\n            addClassesToElement(notice, noticeItem);\n            // eslint-disable-next-line default-case\n            switch (type) {\n                case NoticeTypes.addChoice:\n                    addClassesToElement(notice, addChoice);\n                    break;\n                case NoticeTypes.noResults:\n                    addClassesToElement(notice, noResults);\n                    break;\n                case NoticeTypes.noChoices:\n                    addClassesToElement(notice, noChoices);\n                    break;\n            }\n            if (type === NoticeTypes.addChoice) {\n                notice.dataset.choiceSelectable = '';\n                notice.dataset.choice = '';\n            }\n            return notice;\n        },\n        option: function (choice) {\n            // HtmlOptionElement's label value does not support HTML, so the avoid double escaping unwrap the untrusted string.\n            var labelValue = unwrapStringForRaw(choice.label);\n            var opt = new Option(labelValue, choice.value, false, choice.selected);\n            assignCustomProperties(opt, choice, true);\n            opt.disabled = choice.disabled;\n            if (choice.selected) {\n                opt.setAttribute('selected', '');\n            }\n            return opt;\n        },\n    };\n\n    /** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n    var IS_IE11 = '-ms-scroll-limit' in document.documentElement.style &&\n        '-ms-ime-align' in document.documentElement.style;\n    var USER_DEFAULTS = {};\n    var parseDataSetId = function (element) {\n        if (!element) {\n            return undefined;\n        }\n        return element.dataset.id ? parseInt(element.dataset.id, 10) : undefined;\n    };\n    var selectableChoiceIdentifier = '[data-choice-selectable]';\n    /**\n     * Choices\n     * @author Josh Johnson<josh@joshuajohnson.co.uk>\n     */\n    var Choices = /** @class */ (function () {\n        function Choices(element, userConfig) {\n            if (element === void 0) { element = '[data-choice]'; }\n            if (userConfig === void 0) { userConfig = {}; }\n            var _this = this;\n            this.initialisedOK = undefined;\n            this._hasNonChoicePlaceholder = false;\n            this._lastAddedChoiceId = 0;\n            this._lastAddedGroupId = 0;\n            var defaults = Choices.defaults;\n            this.config = __assign(__assign(__assign({}, defaults.allOptions), defaults.options), userConfig);\n            ObjectsInConfig.forEach(function (key) {\n                _this.config[key] = __assign(__assign(__assign({}, defaults.allOptions[key]), defaults.options[key]), userConfig[key]);\n            });\n            var config = this.config;\n            if (!config.silent) {\n                this._validateConfig();\n            }\n            var docRoot = config.shadowRoot || document.documentElement;\n            this._docRoot = docRoot;\n            var passedElement = typeof element === 'string' ? docRoot.querySelector(element) : element;\n            if (!passedElement ||\n                typeof passedElement !== 'object' ||\n                !(isHtmlInputElement(passedElement) || isHtmlSelectElement(passedElement))) {\n                if (!passedElement && typeof element === 'string') {\n                    throw TypeError(\"Selector \".concat(element, \" failed to find an element\"));\n                }\n                throw TypeError(\"Expected one of the following types text|select-one|select-multiple\");\n            }\n            var elementType = passedElement.type;\n            var isText = elementType === PassedElementTypes.Text;\n            if (isText || config.maxItemCount !== 1) {\n                config.singleModeForMultiSelect = false;\n            }\n            if (config.singleModeForMultiSelect) {\n                elementType = PassedElementTypes.SelectMultiple;\n            }\n            var isSelectOne = elementType === PassedElementTypes.SelectOne;\n            var isSelectMultiple = elementType === PassedElementTypes.SelectMultiple;\n            var isSelect = isSelectOne || isSelectMultiple;\n            this._elementType = elementType;\n            this._isTextElement = isText;\n            this._isSelectOneElement = isSelectOne;\n            this._isSelectMultipleElement = isSelectMultiple;\n            this._isSelectElement = isSelectOne || isSelectMultiple;\n            this._canAddUserChoices = (isText && config.addItems) || (isSelect && config.addChoices);\n            if (typeof config.renderSelectedChoices !== 'boolean') {\n                config.renderSelectedChoices = config.renderSelectedChoices === 'always' || isSelectOne;\n            }\n            if (config.closeDropdownOnSelect === 'auto') {\n                config.closeDropdownOnSelect = isText || isSelectOne || config.singleModeForMultiSelect;\n            }\n            else {\n                config.closeDropdownOnSelect = coerceBool(config.closeDropdownOnSelect);\n            }\n            if (config.placeholder) {\n                if (config.placeholderValue) {\n                    this._hasNonChoicePlaceholder = true;\n                }\n                else if (passedElement.dataset.placeholder) {\n                    this._hasNonChoicePlaceholder = true;\n                    config.placeholderValue = passedElement.dataset.placeholder;\n                }\n            }\n            if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n                var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n                config.addItemFilter = re.test.bind(re);\n            }\n            if (this._isTextElement) {\n                this.passedElement = new WrappedInput({\n                    element: passedElement,\n                    classNames: config.classNames,\n                });\n            }\n            else {\n                var selectEl = passedElement;\n                this.passedElement = new WrappedSelect({\n                    element: selectEl,\n                    classNames: config.classNames,\n                    template: function (data) { return _this._templates.option(data); },\n                    extractPlaceholder: config.placeholder && !this._hasNonChoicePlaceholder,\n                });\n            }\n            this.initialised = false;\n            this._store = new Store(config);\n            this._currentValue = '';\n            config.searchEnabled = (!isText && config.searchEnabled) || isSelectMultiple;\n            this._canSearch = config.searchEnabled;\n            this._isScrollingOnIe = false;\n            this._highlightPosition = 0;\n            this._wasTap = true;\n            this._placeholderValue = this._generatePlaceholderValue();\n            this._baseId = generateId(passedElement, 'choices-');\n            /**\n             * setting direction in cases where it's explicitly set on passedElement\n             * or when calculated direction is different from the document\n             */\n            this._direction = passedElement.dir;\n            if (!this._direction) {\n                var elementDirection = window.getComputedStyle(passedElement).direction;\n                var documentDirection = window.getComputedStyle(document.documentElement).direction;\n                if (elementDirection !== documentDirection) {\n                    this._direction = elementDirection;\n                }\n            }\n            this._idNames = {\n                itemChoice: 'item-choice',\n            };\n            this._templates = defaults.templates;\n            this._render = this._render.bind(this);\n            this._onFocus = this._onFocus.bind(this);\n            this._onBlur = this._onBlur.bind(this);\n            this._onKeyUp = this._onKeyUp.bind(this);\n            this._onKeyDown = this._onKeyDown.bind(this);\n            this._onInput = this._onInput.bind(this);\n            this._onClick = this._onClick.bind(this);\n            this._onTouchMove = this._onTouchMove.bind(this);\n            this._onTouchEnd = this._onTouchEnd.bind(this);\n            this._onMouseDown = this._onMouseDown.bind(this);\n            this._onMouseOver = this._onMouseOver.bind(this);\n            this._onFormReset = this._onFormReset.bind(this);\n            this._onSelectKey = this._onSelectKey.bind(this);\n            this._onEnterKey = this._onEnterKey.bind(this);\n            this._onEscapeKey = this._onEscapeKey.bind(this);\n            this._onDirectionKey = this._onDirectionKey.bind(this);\n            this._onDeleteKey = this._onDeleteKey.bind(this);\n            // If element has already been initialised with Choices, fail silently\n            if (this.passedElement.isActive) {\n                if (!config.silent) {\n                    console.warn('Trying to initialise Choices on element already initialised', { element: element });\n                }\n                this.initialised = true;\n                this.initialisedOK = false;\n                return;\n            }\n            // Let's go\n            this.init();\n            // preserve the selected item list after setup for form reset\n            this._initialItems = this._store.items.map(function (choice) { return choice.value; });\n        }\n        Object.defineProperty(Choices, \"defaults\", {\n            get: function () {\n                return Object.preventExtensions({\n                    get options() {\n                        return USER_DEFAULTS;\n                    },\n                    get allOptions() {\n                        return DEFAULT_CONFIG;\n                    },\n                    get templates() {\n                        return templates;\n                    },\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Choices.prototype.init = function () {\n            if (this.initialised || this.initialisedOK !== undefined) {\n                return;\n            }\n            this._searcher = getSearcher(this.config);\n            this._loadChoices();\n            this._createTemplates();\n            this._createElements();\n            this._createStructure();\n            if ((this._isTextElement && !this.config.addItems) ||\n                this.passedElement.element.hasAttribute('disabled') ||\n                !!this.passedElement.element.closest('fieldset:disabled')) {\n                this.disable();\n            }\n            else {\n                this.enable();\n                this._addEventListeners();\n            }\n            // should be triggered **after** disabled state to avoid additional re-draws\n            this._initStore();\n            this.initialised = true;\n            this.initialisedOK = true;\n            var callbackOnInit = this.config.callbackOnInit;\n            // Run callback if it is a function\n            if (typeof callbackOnInit === 'function') {\n                callbackOnInit.call(this);\n            }\n        };\n        Choices.prototype.destroy = function () {\n            if (!this.initialised) {\n                return;\n            }\n            this._removeEventListeners();\n            this.passedElement.reveal();\n            this.containerOuter.unwrap(this.passedElement.element);\n            this._store._listeners = []; // prevents select/input value being wiped\n            this.clearStore(false);\n            this._stopSearch();\n            this._templates = Choices.defaults.templates;\n            this.initialised = false;\n            this.initialisedOK = undefined;\n        };\n        Choices.prototype.enable = function () {\n            if (this.passedElement.isDisabled) {\n                this.passedElement.enable();\n            }\n            if (this.containerOuter.isDisabled) {\n                this._addEventListeners();\n                this.input.enable();\n                this.input.element.focus();\n                this.containerOuter.enable();\n            }\n            return this;\n        };\n        Choices.prototype.disable = function () {\n            if (!this.passedElement.isDisabled) {\n                this.passedElement.disable();\n            }\n            if (!this.containerOuter.isDisabled) {\n                this._removeEventListeners();\n                this.input.disable();\n                this.containerOuter.disable();\n            }\n            return this;\n        };\n        Choices.prototype.highlightItem = function (item, runEvent) {\n            if (runEvent === void 0) { runEvent = true; }\n            if (!item || !item.id) {\n                return this;\n            }\n            var choice = this._store.items.find(function (c) { return c.id === item.id; });\n            if (!choice || choice.highlighted) {\n                return this;\n            }\n            this._store.dispatch(highlightItem(choice, true));\n            if (runEvent) {\n                this.passedElement.triggerEvent(EventType.highlightItem, this._getChoiceForOutput(choice));\n            }\n            return this;\n        };\n        Choices.prototype.unhighlightItem = function (item, runEvent) {\n            if (runEvent === void 0) { runEvent = true; }\n            if (!item || !item.id) {\n                return this;\n            }\n            var choice = this._store.items.find(function (c) { return c.id === item.id; });\n            if (!choice || !choice.highlighted) {\n                return this;\n            }\n            this._store.dispatch(highlightItem(choice, false));\n            if (runEvent) {\n                this.passedElement.triggerEvent(EventType.unhighlightItem, this._getChoiceForOutput(choice));\n            }\n            return this;\n        };\n        Choices.prototype.highlightAll = function () {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this._store.items.forEach(function (item) {\n                    if (!item.highlighted) {\n                        _this._store.dispatch(highlightItem(item, true));\n                        _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                    }\n                });\n            });\n            return this;\n        };\n        Choices.prototype.unhighlightAll = function () {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this._store.items.forEach(function (item) {\n                    if (item.highlighted) {\n                        _this._store.dispatch(highlightItem(item, false));\n                        _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                    }\n                });\n            });\n            return this;\n        };\n        Choices.prototype.removeActiveItemsByValue = function (value) {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this._store.items.filter(function (item) { return item.value === value; }).forEach(function (item) { return _this._removeItem(item); });\n            });\n            return this;\n        };\n        Choices.prototype.removeActiveItems = function (excludedId) {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this._store.items.filter(function (_a) {\n                    var id = _a.id;\n                    return id !== excludedId;\n                }).forEach(function (item) { return _this._removeItem(item); });\n            });\n            return this;\n        };\n        Choices.prototype.removeHighlightedItems = function (runEvent) {\n            var _this = this;\n            if (runEvent === void 0) { runEvent = false; }\n            this._store.withTxn(function () {\n                _this._store.highlightedActiveItems.forEach(function (item) {\n                    _this._removeItem(item);\n                    // If this action was performed by the user\n                    // trigger the event\n                    if (runEvent) {\n                        _this._triggerChange(item.value);\n                    }\n                });\n            });\n            return this;\n        };\n        Choices.prototype.showDropdown = function (preventInputFocus) {\n            var _this = this;\n            if (this.dropdown.isActive) {\n                return this;\n            }\n            if (preventInputFocus === undefined) {\n                // eslint-disable-next-line no-param-reassign\n                preventInputFocus = !this._canSearch;\n            }\n            requestAnimationFrame(function () {\n                _this.dropdown.show();\n                var rect = _this.dropdown.element.getBoundingClientRect();\n                _this.containerOuter.open(rect.bottom, rect.height);\n                if (!preventInputFocus) {\n                    _this.input.focus();\n                }\n                _this.passedElement.triggerEvent(EventType.showDropdown);\n            });\n            return this;\n        };\n        Choices.prototype.hideDropdown = function (preventInputBlur) {\n            var _this = this;\n            if (!this.dropdown.isActive) {\n                return this;\n            }\n            requestAnimationFrame(function () {\n                _this.dropdown.hide();\n                _this.containerOuter.close();\n                if (!preventInputBlur && _this._canSearch) {\n                    _this.input.removeActiveDescendant();\n                    _this.input.blur();\n                }\n                _this.passedElement.triggerEvent(EventType.hideDropdown);\n            });\n            return this;\n        };\n        Choices.prototype.getValue = function (valueOnly) {\n            var _this = this;\n            var values = this._store.items.map(function (item) {\n                return (valueOnly ? item.value : _this._getChoiceForOutput(item));\n            });\n            return this._isSelectOneElement || this.config.singleModeForMultiSelect ? values[0] : values;\n        };\n        Choices.prototype.setValue = function (items) {\n            var _this = this;\n            if (!this.initialisedOK) {\n                this._warnChoicesInitFailed('setValue');\n                return this;\n            }\n            this._store.withTxn(function () {\n                items.forEach(function (value) {\n                    if (value) {\n                        _this._addChoice(mapInputToChoice(value, false));\n                    }\n                });\n            });\n            // @todo integrate with Store\n            this._searcher.reset();\n            return this;\n        };\n        Choices.prototype.setChoiceByValue = function (value) {\n            var _this = this;\n            if (!this.initialisedOK) {\n                this._warnChoicesInitFailed('setChoiceByValue');\n                return this;\n            }\n            if (this._isTextElement) {\n                return this;\n            }\n            this._store.withTxn(function () {\n                // If only one value has been passed, convert to array\n                var choiceValue = Array.isArray(value) ? value : [value];\n                // Loop through each value and\n                choiceValue.forEach(function (val) { return _this._findAndSelectChoiceByValue(val); });\n                _this.unhighlightAll();\n            });\n            // @todo integrate with Store\n            this._searcher.reset();\n            return this;\n        };\n        /**\n         * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n         * a value field name and a label field name.\n         * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n         * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n         * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n         *\n         * **Input types affected:** select-one, select-multiple\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices([\n         *   {value: 'One', label: 'Label One', disabled: true},\n         *   {value: 'Two', label: 'Label Two', selected: true},\n         *   {value: 'Three', label: 'Label Three'},\n         * ], 'value', 'label', false);\n         * ```\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices(async () => {\n         *   try {\n         *      const items = await fetch('/items');\n         *      return items.json()\n         *   } catch(err) {\n         *      console.error(err)\n         *   }\n         * });\n         * ```\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices([{\n         *   label: 'Group one',\n         *   id: 1,\n         *   disabled: false,\n         *   choices: [\n         *     {value: 'Child One', label: 'Child One', selected: true},\n         *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n         *     {value: 'Child Three', label: 'Child Three'},\n         *   ]\n         * },\n         * {\n         *   label: 'Group two',\n         *   id: 2,\n         *   disabled: false,\n         *   choices: [\n         *     {value: 'Child Four', label: 'Child Four', disabled: true},\n         *     {value: 'Child Five', label: 'Child Five'},\n         *     {value: 'Child Six', label: 'Child Six', customProperties: {\n         *       description: 'Custom description about child six',\n         *       random: 'Another random custom property'\n         *     }},\n         *   ]\n         * }], 'value', 'label', false);\n         * ```\n         */\n        Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices, clearSearchFlag, replaceItems) {\n            var _this = this;\n            if (choicesArrayOrFetcher === void 0) { choicesArrayOrFetcher = []; }\n            if (value === void 0) { value = 'value'; }\n            if (label === void 0) { label = 'label'; }\n            if (replaceChoices === void 0) { replaceChoices = false; }\n            if (clearSearchFlag === void 0) { clearSearchFlag = true; }\n            if (replaceItems === void 0) { replaceItems = false; }\n            if (!this.initialisedOK) {\n                this._warnChoicesInitFailed('setChoices');\n                return this;\n            }\n            if (!this._isSelectElement) {\n                throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n            }\n            if (typeof value !== 'string' || !value) {\n                throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n            }\n            if (typeof choicesArrayOrFetcher === 'function') {\n                // it's a choices fetcher function\n                var fetcher_1 = choicesArrayOrFetcher(this);\n                if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n                    // that's a promise\n                    // eslint-disable-next-line no-promise-executor-return\n                    return new Promise(function (resolve) { return requestAnimationFrame(resolve); })\n                        .then(function () { return _this._handleLoadingState(true); })\n                        .then(function () { return fetcher_1; })\n                        .then(function (data) {\n                        return _this.setChoices(data, value, label, replaceChoices, clearSearchFlag, replaceItems);\n                    })\n                        .catch(function (err) {\n                        if (!_this.config.silent) {\n                            console.error(err);\n                        }\n                    })\n                        .then(function () { return _this._handleLoadingState(false); })\n                        .then(function () { return _this; });\n                }\n                // function returned something else than promise, let's check if it's an array of choices\n                if (!Array.isArray(fetcher_1)) {\n                    throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n                }\n                // recursion with results, it's sync and choices were cleared already\n                return this.setChoices(fetcher_1, value, label, false);\n            }\n            if (!Array.isArray(choicesArrayOrFetcher)) {\n                throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n            }\n            this.containerOuter.removeLoadingState();\n            this._store.withTxn(function () {\n                if (clearSearchFlag) {\n                    _this._isSearching = false;\n                }\n                // Clear choices if needed\n                if (replaceChoices) {\n                    _this.clearChoices(true, replaceItems);\n                }\n                var isDefaultValue = value === 'value';\n                var isDefaultLabel = label === 'label';\n                choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n                    if ('choices' in groupOrChoice) {\n                        var group = groupOrChoice;\n                        if (!isDefaultLabel) {\n                            group = __assign(__assign({}, group), { label: group[label], value: group[value] });\n                        }\n                        _this._addGroup(mapInputToChoice(group, true));\n                    }\n                    else {\n                        var choice = groupOrChoice;\n                        if (!isDefaultLabel || !isDefaultValue) {\n                            choice = __assign(__assign({}, choice), { value: choice[value], label: choice[label] });\n                        }\n                        var choiceFull = mapInputToChoice(choice, false);\n                        _this._addChoice(choiceFull);\n                        if (choiceFull.placeholder && !_this._hasNonChoicePlaceholder) {\n                            _this._placeholderValue = unwrapStringForEscaped(choiceFull.label);\n                        }\n                    }\n                });\n                _this.unhighlightAll();\n            });\n            // @todo integrate with Store\n            this._searcher.reset();\n            return this;\n        };\n        Choices.prototype.refresh = function (withEvents, selectFirstOption, deselectAll) {\n            var _this = this;\n            if (withEvents === void 0) { withEvents = false; }\n            if (selectFirstOption === void 0) { selectFirstOption = false; }\n            if (deselectAll === void 0) { deselectAll = false; }\n            if (!this._isSelectElement) {\n                if (!this.config.silent) {\n                    console.warn('refresh method can only be used on choices backed by a <select> element');\n                }\n                return this;\n            }\n            this._store.withTxn(function () {\n                var choicesFromOptions = _this.passedElement.optionsAsChoices();\n                // Build the list of items which require preserving\n                var existingItems = {};\n                if (!deselectAll) {\n                    _this._store.items.forEach(function (choice) {\n                        if (choice.id && choice.active && choice.selected) {\n                            existingItems[choice.value] = true;\n                        }\n                    });\n                }\n                _this.clearStore(false);\n                var updateChoice = function (choice) {\n                    if (deselectAll) {\n                        _this._store.dispatch(removeItem$1(choice));\n                    }\n                    else if (existingItems[choice.value]) {\n                        choice.selected = true;\n                    }\n                };\n                choicesFromOptions.forEach(function (groupOrChoice) {\n                    if ('choices' in groupOrChoice) {\n                        groupOrChoice.choices.forEach(updateChoice);\n                        return;\n                    }\n                    updateChoice(groupOrChoice);\n                });\n                /* @todo only generate add events for the added options instead of all\n                if (withEvents) {\n                  items.forEach((choice) => {\n                    if (existingItems[choice.value]) {\n                      this.passedElement.triggerEvent(\n                        EventType.removeItem,\n                        this._getChoiceForEvent(choice),\n                      );\n                    }\n                  });\n                }\n                */\n                // load new choices & items\n                _this._addPredefinedChoices(choicesFromOptions, selectFirstOption, withEvents);\n                // re-do search if required\n                if (_this._isSearching) {\n                    _this._searchChoices(_this.input.value);\n                }\n            });\n            return this;\n        };\n        Choices.prototype.removeChoice = function (value) {\n            var choice = this._store.choices.find(function (c) { return c.value === value; });\n            if (!choice) {\n                return this;\n            }\n            this._clearNotice();\n            this._store.dispatch(removeChoice(choice));\n            // @todo integrate with Store\n            this._searcher.reset();\n            if (choice.selected) {\n                this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(choice));\n            }\n            return this;\n        };\n        Choices.prototype.clearChoices = function (clearOptions, clearItems) {\n            var _this = this;\n            if (clearOptions === void 0) { clearOptions = true; }\n            if (clearItems === void 0) { clearItems = false; }\n            if (clearOptions) {\n                if (clearItems) {\n                    this.passedElement.element.replaceChildren('');\n                }\n                else {\n                    this.passedElement.element.querySelectorAll(':not([selected])').forEach(function (el) {\n                        el.remove();\n                    });\n                }\n            }\n            this.itemList.element.replaceChildren('');\n            this.choiceList.element.replaceChildren('');\n            this._clearNotice();\n            this._store.withTxn(function () {\n                var items = clearItems ? [] : _this._store.items;\n                _this._store.reset();\n                items.forEach(function (item) {\n                    _this._store.dispatch(addChoice(item));\n                    _this._store.dispatch(addItem(item));\n                });\n            });\n            // @todo integrate with Store\n            this._searcher.reset();\n            return this;\n        };\n        Choices.prototype.clearStore = function (clearOptions) {\n            if (clearOptions === void 0) { clearOptions = true; }\n            this.clearChoices(clearOptions, true);\n            this._stopSearch();\n            this._lastAddedChoiceId = 0;\n            this._lastAddedGroupId = 0;\n            return this;\n        };\n        Choices.prototype.clearInput = function () {\n            var shouldSetInputWidth = !this._isSelectOneElement;\n            this.input.clear(shouldSetInputWidth);\n            this._stopSearch();\n            return this;\n        };\n        Choices.prototype._validateConfig = function () {\n            var config = this.config;\n            var invalidConfigOptions = diff(config, DEFAULT_CONFIG);\n            if (invalidConfigOptions.length) {\n                console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n            }\n            if (config.allowHTML && config.allowHtmlUserInput) {\n                if (config.addItems) {\n                    console.warn('Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks');\n                }\n                if (config.addChoices) {\n                    console.warn('Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks');\n                }\n            }\n        };\n        Choices.prototype._render = function (changes) {\n            if (changes === void 0) { changes = { choices: true, groups: true, items: true }; }\n            if (this._store.inTxn()) {\n                return;\n            }\n            if (this._isSelectElement) {\n                if (changes.choices || changes.groups) {\n                    this._renderChoices();\n                }\n            }\n            if (changes.items) {\n                this._renderItems();\n            }\n        };\n        Choices.prototype._renderChoices = function () {\n            var _this = this;\n            if (!this._canAddItems()) {\n                return; // block rendering choices if the input limit is reached.\n            }\n            var _a = this, config = _a.config, isSearching = _a._isSearching;\n            var _b = this._store, activeGroups = _b.activeGroups, activeChoices = _b.activeChoices;\n            var renderLimit = 0;\n            if (isSearching && config.searchResultLimit > 0) {\n                renderLimit = config.searchResultLimit;\n            }\n            else if (config.renderChoiceLimit > 0) {\n                renderLimit = config.renderChoiceLimit;\n            }\n            if (this._isSelectElement) {\n                var backingOptions = activeChoices.filter(function (choice) { return !choice.element; });\n                if (backingOptions.length) {\n                    this.passedElement.addOptions(backingOptions);\n                }\n            }\n            var fragment = document.createDocumentFragment();\n            var renderableChoices = function (choices) {\n                return choices.filter(function (choice) {\n                    return !choice.placeholder && (isSearching ? !!choice.rank : config.renderSelectedChoices || !choice.selected);\n                });\n            };\n            var selectableChoices = false;\n            var renderChoices = function (choices, withinGroup, groupLabel) {\n                if (isSearching) {\n                    // sortByRank is used to ensure stable sorting, as scores are non-unique\n                    // this additionally ensures fuseOptions.sortFn is not ignored\n                    choices.sort(sortByRank);\n                }\n                else if (config.shouldSort) {\n                    choices.sort(config.sorter);\n                }\n                var choiceLimit = choices.length;\n                choiceLimit = !withinGroup && renderLimit && choiceLimit > renderLimit ? renderLimit : choiceLimit;\n                choiceLimit--;\n                choices.every(function (choice, index) {\n                    // choiceEl being empty signals the contents has probably significantly changed\n                    var dropdownItem = choice.choiceEl || _this._templates.choice(config, choice, config.itemSelectText, groupLabel);\n                    choice.choiceEl = dropdownItem;\n                    fragment.appendChild(dropdownItem);\n                    if (isSearching || !choice.selected) {\n                        selectableChoices = true;\n                    }\n                    return index < choiceLimit;\n                });\n            };\n            if (activeChoices.length) {\n                if (config.resetScrollPosition) {\n                    requestAnimationFrame(function () { return _this.choiceList.scrollToTop(); });\n                }\n                if (!this._hasNonChoicePlaceholder && !isSearching && this._isSelectOneElement) {\n                    // If we have a placeholder choice along with groups\n                    renderChoices(activeChoices.filter(function (choice) { return choice.placeholder && !choice.group; }), false, undefined);\n                }\n                // If we have grouped options\n                if (activeGroups.length && !isSearching) {\n                    if (config.shouldSort) {\n                        activeGroups.sort(config.sorter);\n                    }\n                    // render Choices without group first, regardless of sort, otherwise they won't be distinguishable\n                    // from the last group\n                    renderChoices(activeChoices.filter(function (choice) { return !choice.placeholder && !choice.group; }), false, undefined);\n                    activeGroups.forEach(function (group) {\n                        var groupChoices = renderableChoices(group.choices);\n                        if (groupChoices.length) {\n                            if (group.label) {\n                                var dropdownGroup = group.groupEl || _this._templates.choiceGroup(_this.config, group);\n                                group.groupEl = dropdownGroup;\n                                dropdownGroup.remove();\n                                fragment.appendChild(dropdownGroup);\n                            }\n                            renderChoices(groupChoices, true, config.appendGroupInSearch && isSearching ? group.label : undefined);\n                        }\n                    });\n                }\n                else {\n                    renderChoices(renderableChoices(activeChoices), false, undefined);\n                }\n            }\n            if (!selectableChoices && (isSearching || !fragment.children.length || !config.renderSelectedChoices)) {\n                if (!this._notice) {\n                    this._notice = {\n                        text: resolveStringFunction(isSearching ? config.noResultsText : config.noChoicesText),\n                        type: isSearching ? NoticeTypes.noResults : NoticeTypes.noChoices,\n                    };\n                }\n                fragment.replaceChildren('');\n            }\n            this._renderNotice(fragment);\n            this.choiceList.element.replaceChildren(fragment);\n            if (selectableChoices) {\n                this._highlightChoice();\n            }\n        };\n        Choices.prototype._renderItems = function () {\n            var _this = this;\n            var items = this._store.items || [];\n            var itemList = this.itemList.element;\n            var config = this.config;\n            var fragment = document.createDocumentFragment();\n            var itemFromList = function (item) {\n                return itemList.querySelector(\"[data-item][data-id=\\\"\".concat(item.id, \"\\\"]\"));\n            };\n            var addItemToFragment = function (item) {\n                var el = item.itemEl;\n                if (el && el.parentElement) {\n                    return;\n                }\n                el = itemFromList(item) || _this._templates.item(config, item, config.removeItemButton);\n                item.itemEl = el;\n                fragment.appendChild(el);\n            };\n            // new items\n            items.forEach(addItemToFragment);\n            var addedItems = !!fragment.childNodes.length;\n            if (this._isSelectOneElement) {\n                var existingItems = itemList.children.length;\n                if (addedItems || existingItems > 1) {\n                    var placeholder = itemList.querySelector(getClassNamesSelector(config.classNames.placeholder));\n                    if (placeholder) {\n                        placeholder.remove();\n                    }\n                }\n                else if (!addedItems && !existingItems && this._placeholderValue) {\n                    addedItems = true;\n                    addItemToFragment(mapInputToChoice({\n                        selected: true,\n                        value: '',\n                        label: this._placeholderValue,\n                        placeholder: true,\n                    }, false));\n                }\n            }\n            if (addedItems) {\n                itemList.append(fragment);\n                if (config.shouldSortItems && !this._isSelectOneElement) {\n                    items.sort(config.sorter);\n                    // push sorting into the DOM\n                    items.forEach(function (item) {\n                        var el = itemFromList(item);\n                        if (el) {\n                            el.remove();\n                            fragment.append(el);\n                        }\n                    });\n                    itemList.append(fragment);\n                }\n            }\n            if (this._isTextElement) {\n                // Update the value of the hidden input\n                this.passedElement.value = items.map(function (_a) {\n                    var value = _a.value;\n                    return value;\n                }).join(config.delimiter);\n            }\n        };\n        Choices.prototype._displayNotice = function (text, type, openDropdown) {\n            if (openDropdown === void 0) { openDropdown = true; }\n            var oldNotice = this._notice;\n            if (oldNotice &&\n                ((oldNotice.type === type && oldNotice.text === text) ||\n                    (oldNotice.type === NoticeTypes.addChoice &&\n                        (type === NoticeTypes.noResults || type === NoticeTypes.noChoices)))) {\n                if (openDropdown) {\n                    this.showDropdown(true);\n                }\n                return;\n            }\n            this._clearNotice();\n            this._notice = text\n                ? {\n                    text: text,\n                    type: type,\n                }\n                : undefined;\n            this._renderNotice();\n            if (openDropdown && text) {\n                this.showDropdown(true);\n            }\n        };\n        Choices.prototype._clearNotice = function () {\n            if (!this._notice) {\n                return;\n            }\n            var noticeElement = this.choiceList.element.querySelector(getClassNamesSelector(this.config.classNames.notice));\n            if (noticeElement) {\n                noticeElement.remove();\n            }\n            this._notice = undefined;\n        };\n        Choices.prototype._renderNotice = function (fragment) {\n            var noticeConf = this._notice;\n            if (noticeConf) {\n                var notice = this._templates.notice(this.config, noticeConf.text, noticeConf.type);\n                if (fragment) {\n                    fragment.append(notice);\n                }\n                else {\n                    this.choiceList.prepend(notice);\n                }\n            }\n        };\n        // eslint-disable-next-line class-methods-use-this\n        Choices.prototype._getChoiceForOutput = function (choice, keyCode) {\n            return {\n                id: choice.id,\n                highlighted: choice.highlighted,\n                labelClass: choice.labelClass,\n                labelDescription: choice.labelDescription,\n                customProperties: choice.customProperties,\n                disabled: choice.disabled,\n                active: choice.active,\n                label: choice.label,\n                placeholder: choice.placeholder,\n                value: choice.value,\n                groupValue: choice.group ? choice.group.label : undefined,\n                element: choice.element,\n                keyCode: keyCode,\n            };\n        };\n        Choices.prototype._triggerChange = function (value) {\n            if (value === undefined || value === null) {\n                return;\n            }\n            this.passedElement.triggerEvent(EventType.change, {\n                value: value,\n            });\n        };\n        Choices.prototype._handleButtonAction = function (element) {\n            var _this = this;\n            var items = this._store.items;\n            if (!items.length || !this.config.removeItems || !this.config.removeItemButton) {\n                return;\n            }\n            var id = element && parseDataSetId(element.parentElement);\n            var itemToRemove = id && items.find(function (item) { return item.id === id; });\n            if (!itemToRemove) {\n                return;\n            }\n            this._store.withTxn(function () {\n                // Remove item associated with button\n                _this._removeItem(itemToRemove);\n                _this._triggerChange(itemToRemove.value);\n                if (_this._isSelectOneElement && !_this._hasNonChoicePlaceholder) {\n                    var placeholderChoice = (_this.config.shouldSort ? _this._store.choices.reverse() : _this._store.choices).find(function (choice) { return choice.placeholder; });\n                    if (placeholderChoice) {\n                        _this._addItem(placeholderChoice);\n                        _this.unhighlightAll();\n                        if (placeholderChoice.value) {\n                            _this._triggerChange(placeholderChoice.value);\n                        }\n                    }\n                }\n            });\n        };\n        Choices.prototype._handleItemAction = function (element, hasShiftKey) {\n            var _this = this;\n            if (hasShiftKey === void 0) { hasShiftKey = false; }\n            var items = this._store.items;\n            if (!items.length || !this.config.removeItems || this._isSelectOneElement) {\n                return;\n            }\n            var id = parseDataSetId(element);\n            if (!id) {\n                return;\n            }\n            // We only want to select one item with a click\n            // so we deselect any items that aren't the target\n            // unless shift is being pressed\n            items.forEach(function (item) {\n                if (item.id === id && !item.highlighted) {\n                    _this.highlightItem(item);\n                }\n                else if (!hasShiftKey && item.highlighted) {\n                    _this.unhighlightItem(item);\n                }\n            });\n            // Focus input as without focus, a user cannot do anything with a\n            // highlighted item\n            this.input.focus();\n        };\n        Choices.prototype._handleChoiceAction = function (element) {\n            var _this = this;\n            // If we are clicking on an option\n            var id = parseDataSetId(element);\n            var choice = id && this._store.getChoiceById(id);\n            if (!choice || choice.disabled) {\n                return false;\n            }\n            var hasActiveDropdown = this.dropdown.isActive;\n            if (!choice.selected) {\n                if (!this._canAddItems()) {\n                    return true; // causes _onEnterKey to early out\n                }\n                this._store.withTxn(function () {\n                    _this._addItem(choice, true, true);\n                    _this.clearInput();\n                    _this.unhighlightAll();\n                });\n                this._triggerChange(choice.value);\n            }\n            // We want to close the dropdown if we are dealing with a single select box\n            if (hasActiveDropdown && this.config.closeDropdownOnSelect) {\n                this.hideDropdown(true);\n                this.containerOuter.element.focus();\n            }\n            return true;\n        };\n        Choices.prototype._handleBackspace = function (items) {\n            var config = this.config;\n            if (!config.removeItems || !items.length) {\n                return;\n            }\n            var lastItem = items[items.length - 1];\n            var hasHighlightedItems = items.some(function (item) { return item.highlighted; });\n            // If editing the last item is allowed and there are not other selected items,\n            // we can edit the item value. Otherwise if we can remove items, remove all selected items\n            if (config.editItems && !hasHighlightedItems && lastItem) {\n                this.input.value = lastItem.value;\n                this.input.setWidth();\n                this._removeItem(lastItem);\n                this._triggerChange(lastItem.value);\n            }\n            else {\n                if (!hasHighlightedItems) {\n                    // Highlight last item if none already highlighted\n                    this.highlightItem(lastItem, false);\n                }\n                this.removeHighlightedItems(true);\n            }\n        };\n        Choices.prototype._loadChoices = function () {\n            var _a;\n            var _this = this;\n            var config = this.config;\n            if (this._isTextElement) {\n                // Assign preset items from passed object first\n                this._presetChoices = config.items.map(function (e) { return mapInputToChoice(e, false); });\n                // Add any values passed from attribute\n                if (this.passedElement.value) {\n                    var elementItems = this.passedElement.value\n                        .split(config.delimiter)\n                        .map(function (e) { return mapInputToChoice(e, false, _this.config.allowHtmlUserInput); });\n                    this._presetChoices = this._presetChoices.concat(elementItems);\n                }\n                this._presetChoices.forEach(function (choice) {\n                    choice.selected = true;\n                });\n            }\n            else if (this._isSelectElement) {\n                // Assign preset choices from passed object\n                this._presetChoices = config.choices.map(function (e) { return mapInputToChoice(e, true); });\n                // Create array of choices from option elements\n                var choicesFromOptions = this.passedElement.optionsAsChoices();\n                if (choicesFromOptions) {\n                    (_a = this._presetChoices).push.apply(_a, choicesFromOptions);\n                }\n            }\n        };\n        Choices.prototype._handleLoadingState = function (setLoading) {\n            if (setLoading === void 0) { setLoading = true; }\n            var el = this.itemList.element;\n            if (setLoading) {\n                this.disable();\n                this.containerOuter.addLoadingState();\n                if (this._isSelectOneElement) {\n                    el.replaceChildren(this._templates.placeholder(this.config, this.config.loadingText));\n                }\n                else {\n                    this.input.placeholder = this.config.loadingText;\n                }\n            }\n            else {\n                this.enable();\n                this.containerOuter.removeLoadingState();\n                if (this._isSelectOneElement) {\n                    el.replaceChildren('');\n                    this._render();\n                }\n                else {\n                    this.input.placeholder = this._placeholderValue || '';\n                }\n            }\n        };\n        Choices.prototype._handleSearch = function (value) {\n            if (!this.input.isFocussed) {\n                return;\n            }\n            // Check that we have a value to search and the input was an alphanumeric character\n            if (value !== null && typeof value !== 'undefined' && value.length >= this.config.searchFloor) {\n                var resultCount = this.config.searchChoices ? this._searchChoices(value) : 0;\n                if (resultCount !== null) {\n                    // Trigger search event\n                    this.passedElement.triggerEvent(EventType.search, {\n                        value: value,\n                        resultCount: resultCount,\n                    });\n                }\n            }\n            else if (this._store.choices.some(function (option) { return !option.active; })) {\n                this._stopSearch();\n            }\n        };\n        Choices.prototype._canAddItems = function () {\n            var config = this.config;\n            var maxItemCount = config.maxItemCount, maxItemText = config.maxItemText;\n            if (!config.singleModeForMultiSelect && maxItemCount > 0 && maxItemCount <= this._store.items.length) {\n                this.choiceList.element.replaceChildren('');\n                this._notice = undefined;\n                this._displayNotice(typeof maxItemText === 'function' ? maxItemText(maxItemCount) : maxItemText, NoticeTypes.addChoice);\n                return false;\n            }\n            if (this._notice && this._notice.type === NoticeTypes.addChoice) {\n                this._clearNotice();\n            }\n            return true;\n        };\n        Choices.prototype._canCreateItem = function (value) {\n            var config = this.config;\n            var canAddItem = true;\n            var notice = '';\n            if (canAddItem && typeof config.addItemFilter === 'function' && !config.addItemFilter(value)) {\n                canAddItem = false;\n                notice = resolveNoticeFunction(config.customAddItemText, value);\n            }\n            if (canAddItem) {\n                var foundChoice = this._store.choices.find(function (choice) { return config.valueComparer(choice.value, value); });\n                if (foundChoice) {\n                    if (this._isSelectElement) {\n                        // for exact matches, do not prompt to add it as a custom choice\n                        this._displayNotice('', NoticeTypes.addChoice);\n                        return false;\n                    }\n                    if (!config.duplicateItemsAllowed) {\n                        canAddItem = false;\n                        notice = resolveNoticeFunction(config.uniqueItemText, value);\n                    }\n                }\n            }\n            if (canAddItem) {\n                notice = resolveNoticeFunction(config.addItemText, value);\n            }\n            if (notice) {\n                this._displayNotice(notice, NoticeTypes.addChoice);\n            }\n            return canAddItem;\n        };\n        Choices.prototype._searchChoices = function (value) {\n            var newValue = value.trim().replace(/\\s{2,}/, ' ');\n            // signal input didn't change search\n            if (!newValue.length || newValue === this._currentValue) {\n                return null;\n            }\n            var searcher = this._searcher;\n            if (searcher.isEmptyIndex()) {\n                searcher.index(this._store.searchableChoices);\n            }\n            // If new value matches the desired length and is not the same as the current value with a space\n            var results = searcher.search(newValue);\n            this._currentValue = newValue;\n            this._highlightPosition = 0;\n            this._isSearching = true;\n            var notice = this._notice;\n            var noticeType = notice && notice.type;\n            if (noticeType !== NoticeTypes.addChoice) {\n                if (!results.length) {\n                    this._displayNotice(resolveStringFunction(this.config.noResultsText), NoticeTypes.noResults);\n                }\n                else {\n                    this._clearNotice();\n                }\n            }\n            this._store.dispatch(filterChoices(results));\n            return results.length;\n        };\n        Choices.prototype._stopSearch = function () {\n            if (this._isSearching) {\n                this._currentValue = '';\n                this._isSearching = false;\n                this._clearNotice();\n                this._store.dispatch(activateChoices(true));\n                this.passedElement.triggerEvent(EventType.search, {\n                    value: '',\n                    resultCount: 0,\n                });\n            }\n        };\n        Choices.prototype._addEventListeners = function () {\n            var documentElement = this._docRoot;\n            var outerElement = this.containerOuter.element;\n            var inputElement = this.input.element;\n            // capture events - can cancel event processing or propagation\n            documentElement.addEventListener('touchend', this._onTouchEnd, true);\n            outerElement.addEventListener('keydown', this._onKeyDown, true);\n            outerElement.addEventListener('mousedown', this._onMouseDown, true);\n            // passive events - doesn't call `preventDefault` or `stopPropagation`\n            documentElement.addEventListener('click', this._onClick, { passive: true });\n            documentElement.addEventListener('touchmove', this._onTouchMove, {\n                passive: true,\n            });\n            this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n                passive: true,\n            });\n            if (this._isSelectOneElement) {\n                outerElement.addEventListener('focus', this._onFocus, {\n                    passive: true,\n                });\n                outerElement.addEventListener('blur', this._onBlur, {\n                    passive: true,\n                });\n            }\n            inputElement.addEventListener('keyup', this._onKeyUp, {\n                passive: true,\n            });\n            inputElement.addEventListener('input', this._onInput, {\n                passive: true,\n            });\n            inputElement.addEventListener('focus', this._onFocus, {\n                passive: true,\n            });\n            inputElement.addEventListener('blur', this._onBlur, {\n                passive: true,\n            });\n            if (inputElement.form) {\n                inputElement.form.addEventListener('reset', this._onFormReset, {\n                    passive: true,\n                });\n            }\n            this.input.addEventListeners();\n        };\n        Choices.prototype._removeEventListeners = function () {\n            var documentElement = this._docRoot;\n            var outerElement = this.containerOuter.element;\n            var inputElement = this.input.element;\n            documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n            outerElement.removeEventListener('keydown', this._onKeyDown, true);\n            outerElement.removeEventListener('mousedown', this._onMouseDown, true);\n            documentElement.removeEventListener('click', this._onClick);\n            documentElement.removeEventListener('touchmove', this._onTouchMove);\n            this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n            if (this._isSelectOneElement) {\n                outerElement.removeEventListener('focus', this._onFocus);\n                outerElement.removeEventListener('blur', this._onBlur);\n            }\n            inputElement.removeEventListener('keyup', this._onKeyUp);\n            inputElement.removeEventListener('input', this._onInput);\n            inputElement.removeEventListener('focus', this._onFocus);\n            inputElement.removeEventListener('blur', this._onBlur);\n            if (inputElement.form) {\n                inputElement.form.removeEventListener('reset', this._onFormReset);\n            }\n            this.input.removeEventListeners();\n        };\n        Choices.prototype._onKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var hasActiveDropdown = this.dropdown.isActive;\n            /*\n            See:\n            https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n            https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\n            https://en.wikipedia.org/wiki/UTF-16#Code_points_from_U+010000_to_U+10FFFF - UTF-16 surrogate pairs\n            https://stackoverflow.com/a/70866532 - \"Unidentified\" for mobile\n            http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635 - U+FFFF is reserved (Section 16.7)\n        \n            Logic: when a key event is sent, `event.key` represents its printable value _or_ one\n            of a large list of special values indicating meta keys/functionality. In addition,\n            key events for compose functionality contain a value of `Dead` when mid-composition.\n        \n            I can't quite verify it, but non-English IMEs may also be able to generate key codes\n            for code points in the surrogate-pair range, which could potentially be seen as having\n            key.length > 1. Since `Fn` is one of the special keys, we can't distinguish by that\n            alone.\n        \n            Here, key.length === 1 means we know for sure the input was printable and not a special\n            `key` value. When the length is greater than 1, it could be either a printable surrogate\n            pair or a special `key` value. We can tell the difference by checking if the _character\n            code_ value (not code point!) is in the \"surrogate pair\" range or not.\n        \n            We don't use .codePointAt because an invalid code point would return 65535, which wouldn't\n            pass the >= 0x10000 check we would otherwise use.\n        \n            > ...The Unicode Standard sets aside 66 noncharacter code points. The last two code points\n            > of each plane are noncharacters: U+FFFE and U+FFFF on the BMP...\n            */\n            var wasPrintableChar = event.key.length === 1 ||\n                (event.key.length === 2 && event.key.charCodeAt(0) >= 0xd800) ||\n                event.key === 'Unidentified';\n            /*\n              We do not show the dropdown if focusing out with esc or navigating through input fields.\n              An activated search can still be opened with any other key.\n             */\n            if (!this._isTextElement &&\n                !hasActiveDropdown &&\n                keyCode !== KeyCodeMap.ESC_KEY &&\n                keyCode !== KeyCodeMap.TAB_KEY &&\n                keyCode !== KeyCodeMap.SHIFT_KEY) {\n                this.showDropdown();\n                if (!this.input.isFocussed && wasPrintableChar) {\n                    /*\n                      We update the input value with the pressed key as\n                      the input was not focussed at the time of key press\n                      therefore does not have the value of the key.\n                    */\n                    this.input.value += event.key;\n                    // browsers interpret a space as pagedown\n                    if (event.key === ' ') {\n                        event.preventDefault();\n                    }\n                }\n            }\n            switch (keyCode) {\n                case KeyCodeMap.A_KEY:\n                    return this._onSelectKey(event, this.itemList.element.hasChildNodes());\n                case KeyCodeMap.ENTER_KEY:\n                    return this._onEnterKey(event, hasActiveDropdown);\n                case KeyCodeMap.ESC_KEY:\n                    return this._onEscapeKey(event, hasActiveDropdown);\n                case KeyCodeMap.UP_KEY:\n                case KeyCodeMap.PAGE_UP_KEY:\n                case KeyCodeMap.DOWN_KEY:\n                case KeyCodeMap.PAGE_DOWN_KEY:\n                    return this._onDirectionKey(event, hasActiveDropdown);\n                case KeyCodeMap.DELETE_KEY:\n                case KeyCodeMap.BACK_KEY:\n                    return this._onDeleteKey(event, this._store.items, this.input.isFocussed);\n            }\n        };\n        Choices.prototype._onKeyUp = function ( /* event: KeyboardEvent */) {\n            this._canSearch = this.config.searchEnabled;\n        };\n        Choices.prototype._onInput = function ( /* event: InputEvent */) {\n            var value = this.input.value;\n            if (!value) {\n                if (this._isTextElement) {\n                    this.hideDropdown(true);\n                }\n                else {\n                    this._stopSearch();\n                }\n                return;\n            }\n            if (!this._canAddItems()) {\n                return;\n            }\n            if (this._canSearch) {\n                // do the search even if the entered text can not be added\n                this._handleSearch(value);\n            }\n            if (!this._canAddUserChoices) {\n                return;\n            }\n            // determine if a notice needs to be displayed for why a search result can't be added\n            this._canCreateItem(value);\n            if (this._isSelectElement) {\n                this._highlightPosition = 0; // reset to select the notice and/or exact match\n                this._highlightChoice();\n            }\n        };\n        Choices.prototype._onSelectKey = function (event, hasItems) {\n            // If CTRL + A or CMD + A have been pressed and there are items to select\n            if ((event.ctrlKey || event.metaKey) && hasItems) {\n                this._canSearch = false;\n                var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n                if (shouldHightlightAll) {\n                    this.highlightAll();\n                }\n            }\n        };\n        Choices.prototype._onEnterKey = function (event, hasActiveDropdown) {\n            var _this = this;\n            var value = this.input.value;\n            var target = event.target;\n            event.preventDefault();\n            if (target && target.hasAttribute('data-button')) {\n                this._handleButtonAction(target);\n                return;\n            }\n            if (!hasActiveDropdown) {\n                if (this._isSelectElement || this._notice) {\n                    this.showDropdown();\n                }\n                return;\n            }\n            var highlightedChoice = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n            if (highlightedChoice && this._handleChoiceAction(highlightedChoice)) {\n                return;\n            }\n            if (!target || !value) {\n                this.hideDropdown(true);\n                return;\n            }\n            if (!this._canAddItems()) {\n                return;\n            }\n            var addedItem = false;\n            this._store.withTxn(function () {\n                addedItem = _this._findAndSelectChoiceByValue(value, true);\n                if (!addedItem) {\n                    if (!_this._canAddUserChoices) {\n                        return;\n                    }\n                    if (!_this._canCreateItem(value)) {\n                        return;\n                    }\n                    _this._addChoice(mapInputToChoice(value, false, _this.config.allowHtmlUserInput), true, true);\n                    addedItem = true;\n                }\n                _this.clearInput();\n                _this.unhighlightAll();\n            });\n            if (!addedItem) {\n                return;\n            }\n            this._triggerChange(value);\n            if (this.config.closeDropdownOnSelect) {\n                this.hideDropdown(true);\n            }\n        };\n        Choices.prototype._onEscapeKey = function (event, hasActiveDropdown) {\n            if (hasActiveDropdown) {\n                event.stopPropagation();\n                this.hideDropdown(true);\n                this._stopSearch();\n                this.containerOuter.element.focus();\n            }\n        };\n        Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n            var keyCode = event.keyCode;\n            // If up or down key is pressed, traverse through options\n            if (hasActiveDropdown || this._isSelectOneElement) {\n                this.showDropdown();\n                this._canSearch = false;\n                var directionInt = keyCode === KeyCodeMap.DOWN_KEY || keyCode === KeyCodeMap.PAGE_DOWN_KEY ? 1 : -1;\n                var skipKey = event.metaKey || keyCode === KeyCodeMap.PAGE_DOWN_KEY || keyCode === KeyCodeMap.PAGE_UP_KEY;\n                var nextEl = void 0;\n                if (skipKey) {\n                    if (directionInt > 0) {\n                        nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n                    }\n                    else {\n                        nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                    }\n                }\n                else {\n                    var currentEl = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n                    if (currentEl) {\n                        nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n                    }\n                    else {\n                        nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                    }\n                }\n                if (nextEl) {\n                    // We prevent default to stop the cursor moving\n                    // when pressing the arrow\n                    if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n                        this.choiceList.scrollToChildElement(nextEl, directionInt);\n                    }\n                    this._highlightChoice(nextEl);\n                }\n                // Prevent default to maintain cursor position whilst\n                // traversing dropdown options\n                event.preventDefault();\n            }\n        };\n        Choices.prototype._onDeleteKey = function (event, items, hasFocusedInput) {\n            // If backspace or delete key is pressed and the input has no value\n            if (!this._isSelectOneElement && !event.target.value && hasFocusedInput) {\n                this._handleBackspace(items);\n                event.preventDefault();\n            }\n        };\n        Choices.prototype._onTouchMove = function () {\n            if (this._wasTap) {\n                this._wasTap = false;\n            }\n        };\n        Choices.prototype._onTouchEnd = function (event) {\n            var target = (event || event.touches[0]).target;\n            var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n            if (touchWasWithinContainer) {\n                var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n                if (containerWasExactTarget) {\n                    if (this._isTextElement) {\n                        this.input.focus();\n                    }\n                    else if (this._isSelectMultipleElement) {\n                        this.showDropdown();\n                    }\n                }\n                // Prevents focus event firing\n                event.stopPropagation();\n            }\n            this._wasTap = true;\n        };\n        /**\n         * Handles mousedown event in capture mode for containetOuter.element\n         */\n        Choices.prototype._onMouseDown = function (event) {\n            var target = event.target;\n            if (!(target instanceof HTMLElement)) {\n                return;\n            }\n            // If we have our mouse down on the scrollbar and are on IE11...\n            if (IS_IE11 && this.choiceList.element.contains(target)) {\n                // check if click was on a scrollbar area\n                var firstChoice = this.choiceList.element.firstElementChild;\n                this._isScrollingOnIe =\n                    this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n            }\n            if (target === this.input.element) {\n                return;\n            }\n            var item = target.closest('[data-button],[data-item],[data-choice]');\n            if (item instanceof HTMLElement) {\n                if ('button' in item.dataset) {\n                    this._handleButtonAction(item);\n                }\n                else if ('item' in item.dataset) {\n                    this._handleItemAction(item, event.shiftKey);\n                }\n                else if ('choice' in item.dataset) {\n                    this._handleChoiceAction(item);\n                }\n            }\n            event.preventDefault();\n        };\n        /**\n         * Handles mouseover event over this.dropdown\n         * @param {MouseEvent} event\n         */\n        Choices.prototype._onMouseOver = function (_a) {\n            var target = _a.target;\n            if (target instanceof HTMLElement && 'choice' in target.dataset) {\n                this._highlightChoice(target);\n            }\n        };\n        Choices.prototype._onClick = function (_a) {\n            var target = _a.target;\n            var containerOuter = this.containerOuter;\n            var clickWasWithinContainer = containerOuter.element.contains(target);\n            if (clickWasWithinContainer) {\n                if (!this.dropdown.isActive && !containerOuter.isDisabled) {\n                    if (this._isTextElement) {\n                        if (document.activeElement !== this.input.element) {\n                            this.input.focus();\n                        }\n                    }\n                    else {\n                        this.showDropdown();\n                        containerOuter.element.focus();\n                    }\n                }\n                else if (this._isSelectOneElement &&\n                    target !== this.input.element &&\n                    !this.dropdown.element.contains(target)) {\n                    this.hideDropdown();\n                }\n            }\n            else {\n                containerOuter.removeFocusState();\n                this.hideDropdown(true);\n                this.unhighlightAll();\n            }\n        };\n        Choices.prototype._onFocus = function (_a) {\n            var target = _a.target;\n            var containerOuter = this.containerOuter;\n            var focusWasWithinContainer = target && containerOuter.element.contains(target);\n            if (!focusWasWithinContainer) {\n                return;\n            }\n            var targetIsInput = target === this.input.element;\n            if (this._isTextElement) {\n                if (targetIsInput) {\n                    containerOuter.addFocusState();\n                }\n            }\n            else if (this._isSelectMultipleElement) {\n                if (targetIsInput) {\n                    this.showDropdown(true);\n                    // If element is a select box, the focused element is the container and the dropdown\n                    // isn't already open, focus and show dropdown\n                    containerOuter.addFocusState();\n                }\n            }\n            else {\n                containerOuter.addFocusState();\n                if (targetIsInput) {\n                    this.showDropdown(true);\n                }\n            }\n        };\n        Choices.prototype._onBlur = function (_a) {\n            var target = _a.target;\n            var containerOuter = this.containerOuter;\n            var blurWasWithinContainer = target && containerOuter.element.contains(target);\n            if (blurWasWithinContainer && !this._isScrollingOnIe) {\n                if (target === this.input.element) {\n                    containerOuter.removeFocusState();\n                    this.hideDropdown(true);\n                    if (this._isTextElement || this._isSelectMultipleElement) {\n                        this.unhighlightAll();\n                    }\n                }\n                else if (target === this.containerOuter.element) {\n                    // Remove the focus state when the past outerContainer was the target\n                    containerOuter.removeFocusState();\n                    // Also close the dropdown if search is disabled\n                    if (!this._canSearch) {\n                        this.hideDropdown(true);\n                    }\n                }\n            }\n            else {\n                // On IE11, clicking the scollbar blurs our input and thus\n                // closes the dropdown. To stop this, we refocus our input\n                // if we know we are on IE *and* are scrolling.\n                this._isScrollingOnIe = false;\n                this.input.element.focus();\n            }\n        };\n        Choices.prototype._onFormReset = function () {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this.clearInput();\n                _this.hideDropdown();\n                _this.refresh(false, false, true);\n                if (_this._initialItems.length) {\n                    _this.setChoiceByValue(_this._initialItems);\n                }\n            });\n        };\n        Choices.prototype._highlightChoice = function (el) {\n            if (el === void 0) { el = null; }\n            var choices = Array.from(this.dropdown.element.querySelectorAll(selectableChoiceIdentifier));\n            if (!choices.length) {\n                return;\n            }\n            var passedEl = el;\n            var highlightedState = this.config.classNames.highlightedState;\n            var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(getClassNamesSelector(highlightedState)));\n            // Remove any highlighted choices\n            highlightedChoices.forEach(function (choice) {\n                removeClassesFromElement(choice, highlightedState);\n                choice.setAttribute('aria-selected', 'false');\n            });\n            if (passedEl) {\n                this._highlightPosition = choices.indexOf(passedEl);\n            }\n            else {\n                // Highlight choice based on last known highlight location\n                if (choices.length > this._highlightPosition) {\n                    // If we have an option to highlight\n                    passedEl = choices[this._highlightPosition];\n                }\n                else {\n                    // Otherwise highlight the option before\n                    passedEl = choices[choices.length - 1];\n                }\n                if (!passedEl) {\n                    passedEl = choices[0];\n                }\n            }\n            addClassesToElement(passedEl, highlightedState);\n            passedEl.setAttribute('aria-selected', 'true');\n            this.passedElement.triggerEvent(EventType.highlightChoice, {\n                el: passedEl,\n            });\n            if (this.dropdown.isActive) {\n                // IE11 ignores aria-label and blocks virtual keyboard\n                // if aria-activedescendant is set without a dropdown\n                this.input.setActiveDescendant(passedEl.id);\n                this.containerOuter.setActiveDescendant(passedEl.id);\n            }\n        };\n        Choices.prototype._addItem = function (item, withEvents, userTriggered) {\n            if (withEvents === void 0) { withEvents = true; }\n            if (userTriggered === void 0) { userTriggered = false; }\n            if (!item.id) {\n                throw new TypeError('item.id must be set before _addItem is called for a choice/item');\n            }\n            if (this.config.singleModeForMultiSelect || this._isSelectOneElement) {\n                this.removeActiveItems(item.id);\n            }\n            this._store.dispatch(addItem(item));\n            if (withEvents) {\n                this.passedElement.triggerEvent(EventType.addItem, this._getChoiceForOutput(item));\n                if (userTriggered) {\n                    this.passedElement.triggerEvent(EventType.choice, this._getChoiceForOutput(item));\n                }\n            }\n        };\n        Choices.prototype._removeItem = function (item) {\n            if (!item.id) {\n                return;\n            }\n            this._store.dispatch(removeItem$1(item));\n            var notice = this._notice;\n            if (notice && notice.type === NoticeTypes.noChoices) {\n                this._clearNotice();\n            }\n            this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(item));\n        };\n        Choices.prototype._addChoice = function (choice, withEvents, userTriggered) {\n            if (withEvents === void 0) { withEvents = true; }\n            if (userTriggered === void 0) { userTriggered = false; }\n            if (choice.id) {\n                throw new TypeError('Can not re-add a choice which has already been added');\n            }\n            var config = this.config;\n            if (!config.duplicateItemsAllowed && this._store.choices.find(function (c) { return config.valueComparer(c.value, choice.value); })) {\n                return;\n            }\n            // Generate unique id, in-place update is required so chaining _addItem works as expected\n            this._lastAddedChoiceId++;\n            choice.id = this._lastAddedChoiceId;\n            choice.elementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choice.id);\n            var prependValue = config.prependValue, appendValue = config.appendValue;\n            if (prependValue) {\n                choice.value = prependValue + choice.value;\n            }\n            if (appendValue) {\n                choice.value += appendValue.toString();\n            }\n            if ((prependValue || appendValue) && choice.element) {\n                choice.element.value = choice.value;\n            }\n            this._clearNotice();\n            this._store.dispatch(addChoice(choice));\n            if (choice.selected) {\n                this._addItem(choice, withEvents, userTriggered);\n            }\n        };\n        Choices.prototype._addGroup = function (group, withEvents) {\n            var _this = this;\n            if (withEvents === void 0) { withEvents = true; }\n            if (group.id) {\n                throw new TypeError('Can not re-add a group which has already been added');\n            }\n            this._store.dispatch(addGroup(group));\n            if (!group.choices) {\n                return;\n            }\n            // add unique id for the group(s), and do not store the full list of choices in this group\n            this._lastAddedGroupId++;\n            group.id = this._lastAddedGroupId;\n            group.choices.forEach(function (item) {\n                item.group = group;\n                if (group.disabled) {\n                    item.disabled = true;\n                }\n                _this._addChoice(item, withEvents);\n            });\n        };\n        Choices.prototype._createTemplates = function () {\n            var _this = this;\n            var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n            var userTemplates = {};\n            if (typeof callbackOnCreateTemplates === 'function') {\n                userTemplates = callbackOnCreateTemplates.call(this, strToEl, escapeForTemplate, getClassNames);\n            }\n            var templating = {};\n            Object.keys(this._templates).forEach(function (name) {\n                if (name in userTemplates) {\n                    templating[name] = userTemplates[name].bind(_this);\n                }\n                else {\n                    templating[name] = _this._templates[name].bind(_this);\n                }\n            });\n            this._templates = templating;\n        };\n        Choices.prototype._createElements = function () {\n            var templating = this._templates;\n            var _a = this, config = _a.config, isSelectOneElement = _a._isSelectOneElement;\n            var position = config.position, classNames = config.classNames;\n            var elementType = this._elementType;\n            this.containerOuter = new Container({\n                element: templating.containerOuter(config, this._direction, this._isSelectElement, isSelectOneElement, config.searchEnabled, elementType, config.labelId),\n                classNames: classNames,\n                type: elementType,\n                position: position,\n            });\n            this.containerInner = new Container({\n                element: templating.containerInner(config),\n                classNames: classNames,\n                type: elementType,\n                position: position,\n            });\n            this.input = new Input({\n                element: templating.input(config, this._placeholderValue),\n                classNames: classNames,\n                type: elementType,\n                preventPaste: !config.paste,\n            });\n            this.choiceList = new List({\n                element: templating.choiceList(config, isSelectOneElement),\n            });\n            this.itemList = new List({\n                element: templating.itemList(config, isSelectOneElement),\n            });\n            this.dropdown = new Dropdown({\n                element: templating.dropdown(config),\n                classNames: classNames,\n                type: elementType,\n            });\n        };\n        Choices.prototype._createStructure = function () {\n            var _a = this, containerInner = _a.containerInner, containerOuter = _a.containerOuter, passedElement = _a.passedElement;\n            var dropdownElement = this.dropdown.element;\n            // Hide original element\n            passedElement.conceal();\n            // Wrap input in container preserving DOM ordering\n            containerInner.wrap(passedElement.element);\n            // Wrapper inner container with outer container\n            containerOuter.wrap(containerInner.element);\n            if (this._isSelectOneElement) {\n                this.input.placeholder = this.config.searchPlaceholderValue || '';\n            }\n            else {\n                if (this._placeholderValue) {\n                    this.input.placeholder = this._placeholderValue;\n                }\n                this.input.setWidth();\n            }\n            containerOuter.element.appendChild(containerInner.element);\n            containerOuter.element.appendChild(dropdownElement);\n            containerInner.element.appendChild(this.itemList.element);\n            dropdownElement.appendChild(this.choiceList.element);\n            if (!this._isSelectOneElement) {\n                containerInner.element.appendChild(this.input.element);\n            }\n            else if (this.config.searchEnabled) {\n                dropdownElement.insertBefore(this.input.element, dropdownElement.firstChild);\n            }\n            this._highlightPosition = 0;\n            this._isSearching = false;\n        };\n        Choices.prototype._initStore = function () {\n            var _this = this;\n            this._store.subscribe(this._render).withTxn(function () {\n                _this._addPredefinedChoices(_this._presetChoices, _this._isSelectOneElement && !_this._hasNonChoicePlaceholder, false);\n            });\n            if (!this._store.choices.length || (this._isSelectOneElement && this._hasNonChoicePlaceholder)) {\n                this._render();\n            }\n        };\n        Choices.prototype._addPredefinedChoices = function (choices, selectFirstOption, withEvents) {\n            var _this = this;\n            if (selectFirstOption === void 0) { selectFirstOption = false; }\n            if (withEvents === void 0) { withEvents = true; }\n            if (selectFirstOption) {\n                /**\n                 * If there is a selected choice already or the choice is not the first in\n                 * the array, add each choice normally.\n                 *\n                 * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n                 */\n                var noSelectedChoices = choices.findIndex(function (choice) { return choice.selected; }) === -1;\n                if (noSelectedChoices) {\n                    choices.some(function (choice) {\n                        if (choice.disabled || 'choices' in choice) {\n                            return false;\n                        }\n                        choice.selected = true;\n                        return true;\n                    });\n                }\n            }\n            choices.forEach(function (item) {\n                if ('choices' in item) {\n                    if (_this._isSelectElement) {\n                        _this._addGroup(item, withEvents);\n                    }\n                }\n                else {\n                    _this._addChoice(item, withEvents);\n                }\n            });\n        };\n        Choices.prototype._findAndSelectChoiceByValue = function (value, userTriggered) {\n            var _this = this;\n            if (userTriggered === void 0) { userTriggered = false; }\n            // Check 'value' property exists and the choice isn't already selected\n            var foundChoice = this._store.choices.find(function (choice) { return _this.config.valueComparer(choice.value, value); });\n            if (foundChoice && !foundChoice.disabled && !foundChoice.selected) {\n                this._addItem(foundChoice, true, userTriggered);\n                return true;\n            }\n            return false;\n        };\n        Choices.prototype._generatePlaceholderValue = function () {\n            var config = this.config;\n            if (!config.placeholder) {\n                return null;\n            }\n            if (this._hasNonChoicePlaceholder) {\n                return config.placeholderValue;\n            }\n            if (this._isSelectElement) {\n                var placeholderOption = this.passedElement.placeholderOption;\n                return placeholderOption ? placeholderOption.text : null;\n            }\n            return null;\n        };\n        Choices.prototype._warnChoicesInitFailed = function (caller) {\n            if (this.config.silent) {\n                return;\n            }\n            if (!this.initialised) {\n                throw new TypeError(\"\".concat(caller, \" called on a non-initialised instance of Choices\"));\n            }\n            else if (!this.initialisedOK) {\n                throw new TypeError(\"\".concat(caller, \" called for an element which has multiple instances of Choices initialised on it\"));\n            }\n        };\n        Choices.version = '11.1.0';\n        return Choices;\n    }());\n\n    return Choices;\n\n}));\n","module.exports = bootstrap;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Choices from './assets/scripts/choices.js';\nimport * as bootstrap from 'bootstrap';\nconst _global = (window /* browser */ || global /* node */);\n_global.Choices = Choices;\n// Generic Functions\ndocument.addEventListener('DOMContentLoaded', () => {\n    _global.loadSelectMenus();\n});\n_global.loadSelectMenus = () => {\n    document.querySelectorAll('[data-bs-toggle=\"tooltip\"]').forEach(toolTip => {\n        return new bootstrap.Tooltip(toolTip);\n    });\n    document.querySelectorAll('.yafnet .select2-select').forEach(select => {\n        const choice = new Choices(select, {\n            allowHTML: true,\n            shouldSort: false,\n            placeholderValue: select.getAttribute('placeholder') || '',\n            classNames: { containerOuter: ['choices', 'w-100'] }\n        });\n    });\n    document.querySelectorAll('.yafnet .select2-image-select').forEach(select => {\n        var selectedValue = select.value;\n        var groups = new Array();\n        document.querySelectorAll('.yafnet .select2-image-select option[data-category]').forEach(option => {\n            var group = option.dataset.category.trim();\n            if (groups.indexOf(group) === -1) {\n                groups.push(group);\n            }\n        });\n        groups.forEach(group => {\n            document.querySelectorAll('.yafnet .select2-image-select').forEach(s => {\n                var optionGroups = new Array();\n                s.querySelectorAll(`option[data-category='${group}']`).forEach(option => {\n                    if (optionGroups.indexOf(option) === -1) {\n                        optionGroups.push(option);\n                    }\n                });\n                const optionGroupElement = document.createElement('optgroup');\n                optionGroupElement.label = group;\n                optionGroups.forEach(option => {\n                    option.replaceWith(optionGroupElement);\n                    optionGroupElement.appendChild(option);\n                });\n            });\n        });\n        select.value = selectedValue;\n        const choice = new Choices(select, {\n            classNames: { containerOuter: ['choices', 'w-100'] },\n            allowHTML: true,\n            shouldSort: false,\n            removeItemButton: select.dataset.allowClear === 'true',\n            placeholderValue: select.getAttribute('placeholder'),\n            callbackOnCreateTemplates: function (template) {\n                var itemSelectText = this.config.itemSelectText;\n                const removeItemButton = this.config.removeItemButton;\n                return {\n                    item({ classNames }, data) {\n                        let label = data.label;\n                        if (data.customProperties) {\n                            let json;\n                            try {\n                                json = JSON.parse(data.customProperties);\n                            }\n                            catch (e) {\n                                json = data.customProperties;\n                            }\n                            label = json.label === undefined ? data.label : json.label;\n                        }\n                        return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(data.highlighted\n                            ? classNames.highlightedState\n                            : classNames.itemSelectable)} ${String(data.placeholder ? classNames.placeholder : '')}\"\r\n                                      data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(removeItemButton ? 'data-deletable' : '')}\r\n                                      ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                            ? 'aria-disabled=\"true\"'\n                            : '')}>\r\n                                    ${String(label)}\r\n                                    ${String(removeItemButton\n                            ? `<button type=\"button\" class=\"${String(classNames.button)}\" aria-label=\"Remove item: '${String(data.value)}'\" data-button=\"\">Remove item</button>`\n                            : '')}\r\n                                 </div>\r\n                                `);\n                    },\n                    choice({ classNames }, data) {\n                        let label = data.label;\n                        if (data.customProperties) {\n                            let json;\n                            try {\n                                json = JSON.parse(data.customProperties);\n                            }\n                            catch (e) {\n                                json = data.customProperties;\n                            }\n                            label = json.label === undefined ? data.label : json.label;\n                        }\n                        return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(classNames.itemChoice)} ${String(data.disabled ? classNames.itemDisabled : classNames.itemSelectable)}\"\r\n                                      data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                            ? 'data-choice-disabled aria-disabled=\"true\"'\n                            : 'data-choice-selectable')}\r\n                                      data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                                      ${String(label)}\r\n                                 </div>\r\n                                 `);\n                    }\n                };\n            }\n        });\n        choice.passedElement.element.addEventListener('choice', (event) => {\n            var _a;\n            const customEvent = event;\n            if ((_a = customEvent.detail) === null || _a === void 0 ? void 0 : _a.customProperties) {\n                let json;\n                try {\n                    json = JSON.parse(customEvent.detail.customProperties);\n                }\n                catch (e) {\n                    json = customEvent.detail.customProperties;\n                }\n                if (json.url !== undefined) {\n                    window.location.href = json.url;\n                }\n            }\n        });\n    });\n};\n_global.createTagsSelectTemplates = function (template) {\n    const config = this.config;\n    const removeItemButton = config.removeItemButton;\n    return {\n        item({ classNames }, data) {\n            let label = data.label;\n            if (data.customProperties) {\n                let json;\n                try {\n                    json = JSON.parse(data.customProperties);\n                }\n                catch (e) {\n                    json = data.customProperties;\n                }\n                label = json.label === undefined ? data.label : json.label;\n            }\n            return template(`\r\n                     <div class=\"${String(classNames.item)} ${String(data.highlighted\n                ? classNames.highlightedState\n                : classNames.itemSelectable)} badge text-bg-primary fs-6 m-1\"\r\n                          data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                          ${String(removeItemButton ? 'data-deletable' : '')}\r\n                          ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                ? 'aria-disabled=\"true\"'\n                : '')}>\r\n                        <i class=\"fas fa-tag align-middle me-1\"></i>${String(label)}\r\n                        ${String(removeItemButton ? `<button type=\"button\" class=\"${String(classNames.button)}\" aria-label=\"Remove item: '${String(data.value)}'\" data-button=\"\">Remove item</button>` : '')}\r\n                     </div>\r\n                    `);\n        }\n    };\n};\n_global.createForumSelectTemplates = function (template) {\n    const config = this.config;\n    const itemSelectText = config.itemSelectText;\n    return {\n        item({ classNames }, data) {\n            return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(data.highlighted\n                ? classNames.highlightedState\n                : classNames.itemSelectable)} ${String(data.placeholder ? classNames.placeholder : '')}\"\r\n                                      data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                ? 'aria-disabled=\"true\"'\n                : '')}>\r\n                                    <span><i class=\"fas fa-comments text-secondary me-1\"></i>${String(data.label)}</span>\r\n                                 </div>\r\n                                `);\n        },\n        choice({ classNames }, data) {\n            return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(classNames.itemChoice)} ${String(data.disabled ? classNames.itemDisabled : classNames.itemSelectable)}\"\r\n                                      data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                ? 'data-choice-disabled aria-disabled=\"true\"'\n                : 'data-choice-selectable')}\r\n                                      data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                                      <span><i class=\"fas fa-comments text-secondary me-1\"></i>${String(data.label)}</span>\r\n                                 </div>\r\n                                 `);\n        },\n        choiceGroup({ classNames }, data) {\n            return template(`\r\n                     <div class=\"${String(classNames.item)} fw-bold text-secondary\"\r\n                          data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                ? 'data-choice-disabled aria-disabled=\"true\"'\n                : 'data-choice-selectable')}\r\n                          data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                          ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                          <span><i class=\"fas fa-folder text-warning me-1\"></i>${String(data.label)}</span>\r\n                     </div>\r\n                     `);\n        }\n    };\n};\n_global.loadForumChoiceOptions = (params, url, selectedForumId) => fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(params),\n    headers: {\n        \"RequestVerificationToken\": document.querySelector('input[name=\"__RequestVerificationToken\"]').value,\n        \"Accept\": 'application/json',\n        \"Content-Type\": 'application/json;charset=utf-8'\n    }\n}).then(response => response.json())\n    .then(data => data.results.map((group) => ({\n    value: group.id,\n    label: group.text,\n    choices: group.children.map((forum) => {\n        const selectedId = parseInt(selectedForumId);\n        return {\n            value: forum.id,\n            label: forum.text,\n            selected: selectedId > 0 && selectedForumId == forum.id,\n            customProperties: {\n                page: params.Page,\n                total: data.total,\n                url: forum.url\n            }\n        };\n    })\n})));\n_global.loadChoiceOptions = (params, url) => fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(params),\n    headers: {\n        \"RequestVerificationToken\": document.querySelector('input[name=\"__RequestVerificationToken\"]').value,\n        \"Accept\": 'application/json',\n        \"Content-Type\": 'application/json;charset=utf-8'\n    }\n}).then(response => response.json())\n    .then(data => data.results.map((result) => ({\n    value: result.id,\n    label: result.text,\n    customProperties: {\n        page: params.Page,\n        total: data.total\n    }\n})));\n"],"names":["module","exports","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","ar","l","slice","concat","SuppressedError","tmpEl","ActionType","ADD_CHOICE","REMOVE_CHOICE","FILTER_CHOICES","ACTIVATE_CHOICES","CLEAR_CHOICES","ADD_GROUP","ADD_ITEM","REMOVE_ITEM","HIGHLIGHT_ITEM","EventType","showDropdown","hideDropdown","change","choice","search","addItem","removeItem","highlightItem","highlightChoice","unhighlightItem","KeyCodeMap","TAB_KEY","SHIFT_KEY","BACK_KEY","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","ObjectsInConfig","PassedElementTypes","Text","SelectOne","SelectMultiple","addChoice","type","removeChoice","filterChoices","results","activateChoices","active","addGroup","group","item","removeItem$1","highlighted","getRandomNumber","min","max","Math","floor","random","generateChars","toString","join","generateId","element","prefix","id","name","replace","getAdjacentEl","startEl","selector","direction","prop","sibling","matches","isScrolledIntoView","parent","scrollTop","offsetHeight","offsetTop","sanitise","value","raw","trusted","strToEl","document","createElement","str","innerHTML","trim","firstChild","children","removeChild","resolveNoticeFunction","fn","resolveStringFunction","unwrapStringForRaw","unwrapStringForEscaped","escaped","escapeForTemplate","allowHTML","setElementHtml","el","allowHtml","html","sortByAlpha","_a","_b","_c","label","value2","_d","label2","localeCompare","sensitivity","ignorePunctuation","numeric","sortByRank","a","rank","dispatchEvent","customArgs","event","CustomEvent","detail","bubbles","cancelable","diff","aKeys","keys","sort","bKeys","filter","indexOf","getClassNames","ClassNames","isArray","getClassNamesSelector","option","map","addClassesToElement","className","classList","add","removeClassesFromElement","remove","parseCustomProperties","customProperties","JSON","parse","e","updateClassList","itemEl","Dropdown","classNames","isActive","show","activeState","setAttribute","hide","Container","position","isOpen","isFlipped","isDisabled","isLoading","shouldFlip","dropdownPos","dropdownHeight","getBoundingClientRect","top","window","matchMedia","setActiveDescendant","activeDescendantID","removeActiveDescendant","removeAttribute","open","openState","flippedState","close","addFocusState","focusState","removeFocusState","enable","disabledState","disable","wrap","parentNode","nextSibling","insertBefore","appendChild","unwrap","addLoadingState","loadingState","removeLoadingState","Input","preventPaste","isFocussed","isEqualNode","activeElement","disabled","_onPaste","bind","_onInput","_onFocus","_onBlur","defineProperty","set","placeholder","enumerable","configurable","get","addEventListeners","addEventListener","passive","removeEventListeners","removeEventListener","focus","blur","clear","setWidth","style","minWidth","width","preventDefault","SCROLLING_SPEED","List","scrollPos","height","prepend","node","child","firstElementChild","append","scrollToTop","scrollToChildElement","_this","listHeight","listScrollPosition","elementHeight","elementPos","destination","requestAnimationFrame","_animateScroll","_scrollDown","strength","easing","distance","_scrollUp","choiceListScrollTop","continueAnimation","WrappedElement","dataset","dir","conceal","input","hidden","tabIndex","origStyle","getAttribute","reveal","triggerEvent","eventType","data","WrappedInput","_super","coerceBool","arg","defaultValue","stringToHtmlClass","split","mapInputToChoice","allowGroup","allowRawString","sanitisedValue","selected","groupOrChoice","choices","score","labelClass","labelDescription","isHtmlInputElement","tagName","isHtmlSelectElement","isHtmlOption","isHtmlOptgroup","WrappedSelect","template","extractPlaceholder","querySelector","addOptions","fragment","createDocumentFragment","forEach","obj","optionsAsChoices","querySelectorAll","push","_optionToChoice","_optgroupToChoice","hasAttribute","undefined","optgroup","options","DEFAULT_CONFIG","items","silent","renderChoiceLimit","maxItemCount","closeDropdownOnSelect","singleModeForMultiSelect","addChoices","addItems","addItemFilter","removeItems","removeItemButton","removeItemButtonAlignLeft","editItems","allowHtmlUserInput","duplicateItemsAllowed","delimiter","paste","searchEnabled","searchChoices","searchFloor","searchResultLimit","searchFields","resetScrollPosition","shouldSort","shouldSortItems","sorter","shadowRoot","placeholderValue","searchPlaceholderValue","prependValue","appendValue","renderSelectedChoices","loadingText","noResultsText","noChoicesText","itemSelectText","uniqueItemText","customAddItemText","addItemText","removeItemIconText","removeItemLabelText","maxItemText","valueComparer","value1","fuseOptions","includeScore","labelId","callbackOnInit","callbackOnCreateTemplates","containerOuter","containerInner","inputCloned","list","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","itemChoice","description","groupHeading","button","highlightedState","selectedState","notice","noResults","noChoices","appendGroupInSearch","action","context","state","update","select","parentElement","find","groups","choiceEl","scoreLookup_1","result","reducers","Store","_state","defaultState","_listeners","_txn","_context","changeSet","init","reset","changes","_changeSet","subscribe","onChange","dispatch","hasChanges","key","stateUpdate","withTxn","func","changeSet_1","hasActiveOptions","some","inTxn","getChoiceById","activeChoices","getGroupById","NoticeTypes","generic","_defineProperty","r","_toPropertyKey","writable","ownKeys","getOwnPropertySymbols","o","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_toPrimitive","Symbol","toPrimitive","Number","getTag","baseToString","isString","isNumber","isBoolean","isObjectLike","isObject","isDefined","isBlank","INCORRECT_INDEX_TYPE","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","PATTERN_LENGTH_TOO_LARGE","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","keyId","toJSON","stringify","path","src","getFn","createKeyPath","createKeyId","Error","arr","deepGet","index","len","MatchOptions","includeMatches","findAllMatches","minMatchCharLength","FuzzyOptions","location","threshold","AdvancedOptions","useExtendedSearch","ignoreLocation","ignoreFieldNorm","fieldNormWeight","Config","isCaseSensitive","ignoreDiacritics","sortFn","idx","SPACE","norm","mantissa","cache","Map","m","pow","numTokens","match","has","parseFloat","round","FuseIndex","isCreated","setIndexRecords","setSources","docs","records","setKeys","_keysMap","doc","docIndex","_addString","_addObject","size","removeAt","splice","getValueForItemAtKeyId","record","v","$","keyIndex","subRecords","stack","nestedArrIndex","pop","subRecord","k","createIndex","myIndex","parseIndex","computeScore$1","pattern","errors","currentLocation","expectedLocation","accuracy","proximity","abs","convertMaskToIndices","matchmask","indices","start","end","MAX_BITS","text","patternAlphabet","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","charAt","isMatch","createPatternAlphabet","char","stripDiacritics","normalize","BitapSearch","toLowerCase","chunks","addChunk","startIndex","alphabet","remainder","substr","searchIn","allIndices","totalScore","hasMatches","BaseMatch","isMultiMatch","getMatch","multiRegex","isSingleMatch","singleRegex","exp","ExactMatch","super","InverseExactMatch","PrefixExactMatch","startsWith","InversePrefixExactMatch","SuffixExactMatch","endsWith","InverseSuffixExactMatch","FuzzyMatch","_bitapSearch","IncludeMatch","searchers","searchersLen","SPACE_RE","OR_TOKEN","parseQuery","query","queryItem","found","searcher","token","MultiMatchSet","Set","ExtendedSearch","condition","_","numMatches","qLen","pLen","registeredSearchers","register","args","createSearcher","searcherClass","LogicalOperator","AND","OR","KeyType","PATH","PATTERN","isExpression","isPath","isLeaf","convertToExplicit","auto","next","isQueryPath","operator","computeScore","EPSILON","transformMatches","refIndex","transformScore","format","transformers","transformer","Fuse","_keyStore","setCollection","_docs","_myIndex","predicate","getIndex","limit","_searchStringList","_searchObjectList","_searchLogical","expression","evaluate","_findMatches","res","resultMap","expResults","version","config","SearchByFuse","_haystack","_fuseOptions","_fuse","isEmptyIndex","needle","getSearcher","isEmptyObject","assignCustomProperties","withCustomProperties","addAriaLabel","docRoot","innerText","templates","isSelectElement","isSelectOneElement","passedElementType","div","_docRoot","passedElement","itemList","_isSelectElement","rawValue","spanLabel","deletable","removeButton","REMOVE_ITEM_LABEL","insertAdjacentElement","choiceList","choiceGroup","rawLabel","heading","selectText","groupName","elementId","describedBy","descId","spanDesc","groupId","choiceDisabled","choiceSelectable","inp","autocomplete","autocapitalize","spellcheck","dropdown","noticeItem","labelValue","opt","Option","IS_IE11","documentElement","USER_DEFAULTS","parseDataSetId","parseInt","selectableChoiceIdentifier","Choices","userConfig","initialisedOK","_hasNonChoicePlaceholder","_lastAddedChoiceId","_lastAddedGroupId","defaults","allOptions","_validateConfig","elementType","isText","isSelectOne","isSelectMultiple","isSelect","_elementType","_isTextElement","_isSelectOneElement","_isSelectMultipleElement","_canAddUserChoices","re","RegExp","test","selectEl","_templates","initialised","_store","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","_direction","elementDirection","getComputedStyle","_idNames","_render","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onSelectKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","console","warn","_initialItems","preventExtensions","_searcher","_loadChoices","_createTemplates","_createElements","_createStructure","closest","_addEventListeners","_initStore","destroy","_removeEventListeners","clearStore","_stopSearch","runEvent","c","_getChoiceForOutput","highlightAll","unhighlightAll","removeActiveItemsByValue","_removeItem","removeActiveItems","excludedId","removeHighlightedItems","highlightedActiveItems","_triggerChange","preventInputFocus","rect","bottom","preventInputBlur","getValue","valueOnly","values","setValue","_addChoice","_warnChoicesInitFailed","setChoiceByValue","val","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","clearSearchFlag","replaceItems","fetcher_1","Promise","resolve","then","_handleLoadingState","catch","err","error","_isSearching","clearChoices","isDefaultValue","isDefaultLabel","_addGroup","choiceFull","refresh","withEvents","selectFirstOption","deselectAll","choicesFromOptions","existingItems","updateChoice","_addPredefinedChoices","_searchChoices","_clearNotice","clearOptions","clearItems","replaceChildren","clearInput","shouldSetInputWidth","invalidConfigOptions","_renderChoices","_renderItems","_canAddItems","isSearching","activeGroups","renderLimit","backingOptions","renderableChoices","selectableChoices","renderChoices","withinGroup","groupLabel","choiceLimit","every","dropdownItem","groupChoices","dropdownGroup","groupEl","_notice","_renderNotice","_highlightChoice","itemFromList","addItemToFragment","addedItems","childNodes","_displayNotice","openDropdown","oldNotice","noticeElement","noticeConf","keyCode","groupValue","_handleButtonAction","itemToRemove","placeholderChoice","reverse","_addItem","_handleItemAction","hasShiftKey","_handleChoiceAction","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","_presetChoices","elementItems","setLoading","_handleSearch","resultCount","_canCreateItem","canAddItem","newValue","searchableChoices","outerElement","inputElement","form","wasPrintableChar","charCodeAt","hasChildNodes","hasItems","ctrlKey","metaKey","target","highlightedChoice","addedItem","stopPropagation","directionInt","nextEl","currentEl","hasFocusedInput","touches","contains","HTMLElement","firstChoice","offsetX","offsetWidth","offsetLeft","shiftKey","targetIsInput","passedEl","userTriggered","userTemplates","templating","dropdownElement","findIndex","foundChoice","placeholderOption","caller","factory","bootstrap","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","g","globalThis","Function","toStringTag","_global","loadSelectMenus","toolTip","selectedValue","category","optionGroups","optionGroupElement","replaceWith","allowClear","json","customEvent","url","href","createTagsSelectTemplates","createForumSelectTemplates","loadForumChoiceOptions","params","selectedForumId","fetch","method","body","headers","response","forum","selectedId","page","Page","total","loadChoiceOptions"],"sourceRoot":""}