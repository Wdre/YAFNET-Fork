/*! Yet Another Forum.NET v4.0.0 | © Ingo Herbote | https://www.yetanotherforum.net/ */

(()=>{"use strict";var e={"./node_modules/@w8tcha/bootbox/dist/bootbox.js":(e,t,a)=>{a.r(t),a.d(t,{VERSION:()=>s,addLocale:()=>p,alert:()=>y,confirm:()=>C,dialog:()=>v,getLocale:()=>u,hideAll:()=>h,init:()=>g,prompt:()=>O,removeLocale:()=>b,setDefaults:()=>f,setLocale:()=>m});var o=a("bootstrap");function n(e){return/([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(e)}function r(e){return/(\d{4})-(\d{2})-(\d{2})/.test(e)}function i(e,t){if("string"==typeof t&&"function"==typeof e[t])e[t]();else{const a="string"==typeof t?new Event(t,{bubbles:!0}):t;e.dispatchEvent(a)}}const s="6.0.6",l={ar:{OK:"موافق",CANCEL:"الغاء",CONFIRM:"تأكيد"},az:{OK:"OK",CANCEL:"İmtina et",CONFIRM:"Təsdiq et"},bgBG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},eu:{OK:"OK",CANCEL:"Ezeztatu",CONFIRM:"Onartu"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"Confirmer"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"OK"},ka:{OK:"OK",CANCEL:"გაუქმება",CONFIRM:"დადასტურება"},ko:{OK:"OK",CANCEL:"취소",CONFIRM:"확인"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ptBR:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sk:{OK:"OK",CANCEL:"Zrušiť",CONFIRM:"Potvrdiť"},sl:{OK:"OK",CANCEL:"Prekliči",CONFIRM:"Potrdi"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},sw:{OK:"Sawa",CANCEL:"Ghairi",CONFIRM:"Thibitisha"},ta:{OK:"சரி",CANCEL:"ரத்து செய்",CONFIRM:"உறுதி செய்"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},uk:{OK:"OK",CANCEL:"Відміна",CONFIRM:"Прийняти"},vi:{OK:"OK",CANCEL:"Hủy bỏ",CONFIRM:"Xác nhận"},zhCN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zhTW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}},c={dialog:'<div class="bootbox modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="bootbox-body"></div></div></div></div></div>',header:'<div class="modal-header"><h5 class="modal-title"></h5></div>',footer:'<div class="modal-footer"></div>',closeButton:'<button type="button" class="bootbox-close-button close btn-close" aria-label="Close"></button>',form:'<form class="bootbox-form"></form>',button:'<button type="button" class="btn"></button>',option:'<option value=""></option>',promptMessage:'<div class="bootbox-prompt-message"></div>',inputs:{text:'<input class="bootbox-input bootbox-input-text form-control" autocomplete="off" type="text" />',textarea:'<textarea class="bootbox-input bootbox-input-textarea form-control"></textarea>',email:'<input class="bootbox-input bootbox-input-email form-control" autocomplete="off" type="email" />',select:'<select class="bootbox-input bootbox-input-select form-select"></select>',checkbox:'<div class="form-check checkbox"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-checkbox" type="checkbox" /></label></div>',radio:'<div class="form-check radio"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-radio" type="radio" name="bootbox-radio" /></label></div>',date:'<input class="bootbox-input bootbox-input-date form-control" autocomplete="off" type="date" />',time:'<input class="bootbox-input bootbox-input-time form-control" autocomplete="off" type="time" />',number:'<input class="bootbox-input bootbox-input-number form-control" autocomplete="off" type="number" />',password:'<input class="bootbox-input bootbox-input-password form-control" autocomplete="off" type="password" />',range:'<input class="bootbox-input bootbox-input-range form-control-range" autocomplete="off" type="range" />'}},d={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",value:"",inputType:"text",errorMessage:null,swapButtonOrder:!1,centerVertical:!1,multiple:!1,scrollable:!1,reusable:!1,relatedTarget:null,size:null,id:null};function u(e){return l[e]}function p(e,t){["OK","CANCEL","CONFIRM"].forEach(((e,a)=>{if(!t[e])throw new Error(`Please supply a translation for "${e}"`)})),l[e]={OK:t.OK,CANCEL:t.CANCEL,CONFIRM:t.CONFIRM}}function b(e){if("en"===e)throw new Error('"en" is used as the default and fallback locale and cannot be removed.');delete l[e]}function m(e){return e&&(e=e.replace("-","")),f("locale",e)}function f(...e){let t={};2===e.length?t[e[0]]=e[1]:t=e[0],Object.assign(d,t)}function h(){document.querySelectorAll(".bootbox").forEach((e=>{const t=o.Modal.getInstance(e);t&&t.hide()}))}function g(e){return g()}function v(e){if(void 0===o.Modal)throw new Error('"bootstrap.Modal" is not defined; please double check you have included the Bootstrap JavaScript library. See https://getbootstrap.com/docs/5.3/getting-started/introduction/ for more details.');e=function(e){let t,a;if(!e.message&&!e.messageForm)throw new Error('"message" option must not be null or an empty string.');e=Object.assign({},d,e),e.backdrop?e.backdrop="string"!=typeof e.backdrop||"static"!==e.backdrop.toLowerCase()||"static":e.backdrop=!1!==e.backdrop&&0!==e.backdrop&&"static",e.buttons||(e.buttons={}),t=e.buttons,a=A(t);let o=0;for(let[n,r]of Object.entries(t)){if("function"==typeof r&&(r=t[n]={callback:r,label:"",className:""}),"object"!==Object.prototype.toString.call(r).replace(/^\[object (.+)\]$/,"$1").toLowerCase())throw new Error(`button with key "${n}" must be an object`);if(r.label||(r.label=n),!r.className){let t=!1;t=e.swapButtonOrder?0===o:o===a-1,r.className=a<=2&&t?"btn-primary":"btn-secondary"}o++}return e}(e);let t=M(c.dialog),a=t.querySelector(".modal-dialog"),n=t.querySelector(".modal-body"),r=M(c.header),s=M(c.footer),l=e.buttons;e.messageForm?n.querySelector(".bootbox-body").append(e.messageForm):"string"==typeof e.message?n.querySelector(".bootbox-body").innerHTML=e.message:n.querySelector(".bootbox-body").append(e.message);let u={};if("function"==typeof e.onEscape&&(u.onEscape=e.onEscape),A(e.buttons)>0){for(const[e,t]of Object.entries(l)){let a=M(c.button);switch(a.dataset.bbHandler=e,t.className.split(" ").forEach((e=>{a.classList.add(e)})),e){case"ok":case"confirm":a.classList.add("bootbox-accept");break;case"cancel":a.classList.add("bootbox-cancel")}a.innerHTML=t.label,t.id&&a.setAttribute("id",t.id),!0===t.disabled&&(a.disabled=!0),s.append(a),"function"==typeof t.callback&&(u[e]=t.callback)}n.after(s)}if(!0===e.animate&&t.classList.add("fade"),e.className&&e.className.split(" ").forEach((e=>{t.classList.add(e)})),e.id&&t.setAttribute("id",e.id),e.size)switch(e.size){case"small":case"sm":a.classList.add("modal-sm");break;case"large":case"lg":a.classList.add("modal-lg");break;case"extra-large":case"xl":a.classList.add("modal-xl")}if(e.scrollable&&a.classList.add("modal-dialog-scrollable"),e.title||e.closeButton){if(e.title?r.querySelector(".modal-title").innerHTML=e.title:r.classList.add("border-0"),e.closeButton){let e=M(c.closeButton);r.append(e)}n.before(r)}if(e.centerVertical&&a.classList.add("modal-dialog-centered"),e.reusable||(t.addEventListener("hide.bs.modal",(e=>{e.target===t&&(t.removeEventListener("escape.close.bb",(()=>{})),t.removeEventListener("click",(()=>{})))}),{once:!0}),t.addEventListener("hidden.bs.modal",(e=>{e.target===t&&t.remove()}),{once:!0})),e.onHide){if("function"!=typeof e.onHide)throw new Error('Argument supplied to "onHide" must be a function');t.addEventListener("hide.bs.modal",e.onHide)}if(e.onHidden){if("function"!=typeof e.onHidden)throw new Error('Argument supplied to "onHidden" must be a function');t.addEventListener("hidden.bs.modal",e.onHidden)}if(e.onShow){if("function"!=typeof e.onShow)throw new Error('Argument supplied to "onShow" must be a function');K(t,"show.bs.modal",e.onShow)}if(t.addEventListener("shown.bs.modal",k),e.onShown){if("function"!=typeof e.onShown)throw new Error('Argument supplied to "onShown" must be a function');K(t,"shown.bs.modal",e.onShown)}if(!0===e.backdrop){let e=!1;K(t,"mousedown",(t=>{t.stopPropagation(),e=!0}),".modal-content"),K(t,"click.dismiss.bs.modal",(a=>{e||a.target!==a.currentTarget||i(t,"escape.close.bb")}))}t.addEventListener("escape.close.bb",(e=>{u.onEscape&&T(e,t,u.onEscape)})),t.addEventListener("click",(e=>{if("button"===e.target.nodeName.toLowerCase()&&!e.target.classList.contains("disabled")){const a=e.target.dataset.bbHandler;void 0!==a&&T(e,t,u[a])}})),document.addEventListener("click",(e=>{e.target.closest(".bootbox-close-button")&&T(e,t,u.onEscape)})),t.addEventListener("keyup",(e=>{(27===e.which||27===e.detail.which)&&i(t,"escape.close.bb")})),"object"==typeof e.container?e.container.append(t):document.querySelector(e.container)?.append(t);const p=new o.Modal(t,{backdrop:e.backdrop,keyboard:!1});return e.show&&(e.relatedTarget?p.show(e.relatedTarget):p.show()),t}function y(...e){const t=S("alert",["ok"],["message","callback"],e);if(t.callback&&"function"!=typeof t.callback)throw new Error('alert requires the "callback" property to be a function when provided');return t.buttons.ok.callback=t.onEscape=function(){return"function"!=typeof t.callback||t.callback.call(this)},v(t)}function C(...e){let t;if(t=S("confirm",["cancel","confirm"],["message","callback"],e),"function"!=typeof t.callback)throw new Error("confirm requires a callback");let a=t.buttons.cancel,o=t.buttons.confirm;return o||(t.buttons.confirm=x("confirm",t.locale),o=t.buttons.confirm),a||(t.buttons.cancel=x("cancel",t.locale),a=t.buttons.cancel),a.callback=t.onEscape=function(){return t.callback?.call(this,null)},o.callback=function(){return t.callback?.call(this,!0)},t.buttons.cancel=a,t.buttons.confirm=o,v(t)}function O(...e){let t,a,s,l,u,p;s=M(c.form),t=S("prompt",["cancel","confirm"],["title","callback"],e),t.value||(t.value=d.value),t.inputType||(t.inputType=d.inputType),u=void 0===t.show?d.show:t.show,t.show=!1;var b=t.buttons.cancel;b||(t.buttons.cancel=x("cancel",t.locale),b=t.buttons.cancel),b.callback=t.onEscape=function(){return t.callback?.call(this,null)},t.buttons.cancel=b;var m=t.buttons.confirm;if(m||(t.buttons.confirm=x("confirm",t.locale),m=t.buttons.confirm),m.callback=function(){let e;if(s.classList.add("was-validated"),"checkbox"===t.inputType){const a=Array.from(l.querySelectorAll('input[type="checkbox"]:checked'));if(e=Array.from(a).map((e=>e.value)),!0===t.required&&0===a.length)return!1}else if("radio"===t.inputType)e=l.querySelector('input[type="radio"]:checked').value;else{let a=l;if(a.setCustomValidity(""),a.checkValidity&&!a.checkValidity())return t.errorMessage&&a.setCustomValidity(t.errorMessage),a.reportValidity&&a.reportValidity(),!1;e="select"===t.inputType&&!0===t.multiple?Array.from(l.querySelectorAll("option:checked")).map((e=>e.value)):a.value}return t.callback?.call(this,e)},t.buttons.confirm=m,!t.title)throw new Error("prompt requires a title");if("function"!=typeof t.callback)throw new Error("prompt requires a callback");var f=c.inputs;if(!f[t.inputType])throw new Error("Invalid prompt type");switch(l=M(f[t.inputType]),"textarea"!==t.inputType&&l.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),i(a.querySelector(".bootbox-accept"),"click"))})),t.inputType){case"text":case"textarea":case"email":case"password":l.value=t.value.toString(),t.placeholder&&l.setAttribute("placeholder",t.placeholder),t.pattern&&l.setAttribute("pattern",t.pattern),t.maxlength&&l.setAttribute("maxlength",t.maxlength.toString()),t.required&&(l.required=!0),"textarea"===t.inputType&&t.rows&&!isNaN(parseInt(t.rows.toString()))&&l.setAttribute("rows",t.rows.toString());break;case"date":case"time":case"number":case"range":if(l.value=t.value.toString(),t.placeholder&&l.setAttribute("placeholder",t.placeholder),t.pattern?l.setAttribute("pattern",t.pattern):"date"===t.inputType?l.setAttribute("pattern","d{4}-d{2}-d{2}"):"time"===t.inputType&&l.setAttribute("pattern","d{2}:d{2}"),t.required&&(l.required=!0),t.step)if("string"==typeof t.step&&("any"===t.step||parseFloat(t.step)>0))l.setAttribute("step",t.step);else{if("number"!=typeof t.step||isNaN(t.step)||!(t.step>0))throw new Error('"step" must be a valid positive number or the value "any". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');l.setAttribute("step",t.step.toString())}(function(e,t,a){let o=!1,i=!0,s=!0;if("date"===e)void 0===t||(i=r(t))?void 0!==a&&!(s=r(a))&&console.warn('Invalid "max" date format for input type "date".'):console.warn('Invalid "min" date format for input type "date".');else if("time"===e){if(void 0!==t&&!(i=n(t)))throw new Error('"min" is not a valid time.');if(void 0!==a&&!(s=n(a)))throw new Error('"max" is not a valid time.')}else{if(void 0!==t&&isNaN(Number(t)))throw i=!1,new Error('"min" must be a valid number.');if(void 0!==a&&isNaN(Number(a)))throw s=!1,new Error('"max" must be a valid number.')}if(i&&s){if("number"==typeof t&&"number"==typeof a&&a<t)throw new Error('"max" must be greater than or equal to "min".');if("string"==typeof t&&"string"==typeof a&&a<t)throw new Error('"max" must be greater than or equal to "min".');o=!0}return o})(t.inputType,t.min,t.max)&&(void 0!==t.min&&l.setAttribute("min",t.min.toString()),void 0!==t.max&&l.setAttribute("max",t.max.toString()));break;case"select":var h={};if(p=t.inputOptions||[],!Array.isArray(p))throw new Error("Please pass an array of input options");if(!p.length)throw new Error('prompt with "inputType" set to "select" requires at least one option');t.required&&(l.required=!0),t.multiple&&(l.multiple=!0);for(const[,e]of Object.entries(p)){let t=l;if(void 0===e.value||void 0===e.text)throw new Error('each option needs a "value" property and a "text" property');if(e.group){if(!h[e.group]){var g=M("<optgroup />");g.setAttribute("label",e.group),h[e.group]={Content:g}}t=h[e.group].Content}let a=M(c.option);a.setAttribute("value",e.value),a.textContent=e.text,t.append(a)}for(const[e,t]of Object.entries(h))l.append(t.Content);l.value=t.value.toString();break;case"checkbox":var y=Array.isArray(t.value)?t.value:[t.value];if(p=t.inputOptions||[],!p.length)throw new Error('prompt with "inputType" set to "checkbox" requires at least one option');l=M('<div class="bootbox-checkbox-list"></div>');for(const[e,a]of Object.entries(p)){if(void 0===a.value||void 0===a.text)throw new Error('each option needs a "value" property and a "text" property');let e=M(c.inputs[t.inputType]);e.querySelector("input")?.setAttribute("value",a.value),e.querySelector("label")?.append(`\n${a.text}`);for(const[t,o]of Object.entries(y))o===a.value&&e.querySelector("input")?.setAttribute("checked","true");l.append(e)}break;case"radio":if(void 0!==t.value&&Array.isArray(t.value))throw new Error('prompt with "inputType" set to "radio" requires a single, non-array value for "value"');if(p=t.inputOptions||[],!p.length)throw new Error('prompt with "inputType" set to "radio" requires at least one option');l=M('<div class="bootbox-radiobutton-list"></div>');var C=!0;for(const[e,a]of Object.entries(p)){if(void 0===a.value||void 0===a.text)throw new Error('each option needs a "value" property and a "text" property');let e=M(c.inputs[t.inputType]);e.querySelector("input")?.setAttribute("value",a.value),e.querySelector("label")?.append(`\n${a.text}`),void 0!==t.value&&a.value===t.value&&(e.querySelector("input").checked=!0,C=!1),l.append(e)}C&&l.querySelector('input[type="radio"]')?.setAttribute("checked","true")}if(s.append(l),s.addEventListener("submit",(e=>{e.preventDefault(),e.stopPropagation(),s.classList.remove("was-validated"),a.querySelector(".bootbox-accept")?.click()})),t.message&&""!==t.message.trim()){let e=M(c.promptMessage).innerHTML=t.message;s.prepend(e),t.messageForm=s}else t.messageForm=s;a=v(t),a.removeEventListener("shown.bs.modal",k),a.addEventListener("shown.bs.modal",(()=>{l.focus()}));const O=new o.Modal(a);return!0===u&&O.show(),a}function w(...e){const t={};let a=!1,o=0;const n=e.length;"[object Boolean]"===Object.prototype.toString.call(e[0])&&(a=e[0],o++);const r=e=>{for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a&&"[object Object]"===Object.prototype.toString.call(e[o])?t[o]=w(!0,t[o],e[o]):t[o]=e[o])};for(;o<n;o++){r(e[o])}return t}function E(e,t,a){return w({},e,function(e,t){const a=e.length;let o={};if(a<1||a>2)throw new Error("Invalid argument length");return 2===a||"string"==typeof e[0]?(o[t[0]]=e[0],o[t[1]]=e[1]):o=e[0],o}(t,a))}function S(e,t,a,o){let n;o&&o[0]&&(n=o[0].locale||d.locale,(o[0].swapButtonOrder||d.swapButtonOrder)&&(t=t.reverse()));return function(e,t){const a={};for(const[e,o]of Object.entries(t))a[o]=!0;for(const[o]of Object.entries(e.buttons))if(void 0===a[o])throw new Error(`button key "${o}" is not allowed (options are ${t.join(" ")})`);return e}(E({className:`bootbox-${e}`,buttons:L(t,n),show:!0,closeButton:!0,animate:!0,locale:"en",swapButtonOrder:!1,scrollable:!1,reusable:!1,centerVertical:!1},o,a),t)}function L(e,t){const a={};for(let o=0,n=e.length;o<n;o++){const n=e[o],r=n.toLowerCase(),i=n.toUpperCase();a[r]={label:N(i,t),className:""}}return a}function x(e,t){return{label:N(e.toUpperCase(),t),className:""}}function N(e,t){const a=l[t];return a?a[e]:l.en[e]}function k(e){const t=e?.data?.dialog?.querySelector(".bootbox-accept");t&&i(t,"focus")}function A(e){return Object.keys(e).length}function T(e,t,a){e.stopPropagation(),e.preventDefault(),("function"!=typeof a||!1!==a.call(t,e))&&t&&o.Modal.getInstance(t)?.hide()}function M(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.children[0]}function K(e,t,a,o){if(o){const n=e=>{if(!e.target)return;const t=e.target.closest(o);t&&a.call(t,e)};return e.addEventListener(t,n),n}{const o=t=>{a.call(e,t)};return e.addEventListener(t,o),o}}},"./wwwroot/lib/forum/utilities.ts":(e,t,a)=>{a.r(t),a.d(t,{bootboxConfirm:()=>m,bootboxShareTopic:()=>f,copyToClipBoard:()=>h,createForumSelectTemplates:()=>i,createTagsSelectTemplates:()=>r,empty:()=>d,errorLog:()=>c,loadChoiceOptions:()=>l,loadForumChoiceOptions:()=>s,renderAttachPreview:()=>p,togglePassword:()=>b,wrap:()=>u});var o=a("bootstrap"),n=a("./node_modules/@w8tcha/bootbox/dist/bootbox.js");function r(e){const t=this.config.removeItemButton;return{item({classNames:a},o){let n=o.label;if(o.customProperties){let e;try{e=JSON.parse(o.customProperties)}catch(t){e=o.customProperties}n=void 0===e.label?o.label:e.label}return e(`\n                     <div class="${String(a.item)} ${String(o.highlighted?a.highlightedState:a.itemSelectable)} badge text-bg-primary fs-6 m-1"\n                          data-item data-id="${String(o.id)}" data-value="${String(o.value)}"\n                          ${String(t?"data-deletable":"")}\n                          ${String(o.active?'aria-selected="true"':"")} ${String(o.disabled?'aria-disabled="true"':"")}>\n                        <i class="fas fa-fw fa-tag align-middle me-1"></i>${String(n)}\n                        ${String(t?`<button type="button" class="${String(a.button)}" aria-label="Remove item: '${String(o.value)}'" data-button="">Remove item</button>`:"")}\n                     </div>\n                    `)}}}function i(e){const t=this.config.itemSelectText;return{item:({classNames:t},a)=>e(`\n                                 <div class="${String(t.item)} ${String(a.highlighted?t.highlightedState:t.itemSelectable)} ${String(a.placeholder?t.placeholder:"")}"\n                                      data-item data-id="${String(a.id)}" data-value="${String(a.value)}"\n                                      ${String(a.active?'aria-selected="true"':"")} ${String(a.disabled?'aria-disabled="true"':"")}>\n                                    <span><i class="fas fa-fw fa-comments text-secondary me-1"></i>${String(a.label)}</span>\n                                 </div>\n                                `),choice:({classNames:a},o)=>e(`\n                                 <div class="${String(a.item)} ${String(a.itemChoice)} ${String(o.disabled?a.itemDisabled:a.itemSelectable)}"\n                                      data-select-text="${String(t)}" data-choice ${String(o.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")}\n                                      data-id="${String(o.id)}" data-value="${String(o.value)}"\n                                      ${String(o.groupId>0?'role="treeitem"':'role="option"')}>\n                                      <span><i class="fas fa-comments fa-fw text-secondary me-1"></i>${String(o.label)}</span>\n                                 </div>\n                                 `),choiceGroup:({classNames:a},o)=>e(`\n                     <div class="${String(a.item)} fw-bold text-secondary"\n                          data-select-text="${String(t)}" data-choice ${String(o.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")}\n                          data-id="${String(o.id)}" data-value="${String(o.value)}"\n                          ${String(o.groupId>0?'role="treeitem"':'role="option"')}>\n                          <span><i class="fas fa-fw fa-folder text-warning me-1"></i>${String(o.label)}</span>\n                     </div>\n                     `)}}function s(e,t,a){return fetch(t,{method:"POST",body:JSON.stringify(e),headers:{RequestVerificationToken:document.querySelector('input[name="__RequestVerificationToken"]').value,Accept:"application/json","Content-Type":"application/json;charset=utf-8"}}).then((e=>e.json())).then((t=>t.results.map((o=>({value:o.id,label:o.text,choices:o.children.map((o=>{const n=parseInt(a);return{value:o.id,label:o.text,selected:n>0&&a==o.id,customProperties:{page:e.Page,total:t.total,url:o.url}}}))})))))}function l(e,t){return fetch(t,{method:"POST",body:JSON.stringify(e),headers:{RequestVerificationToken:document.querySelector('input[name="__RequestVerificationToken"]').value,Accept:"application/json","Content-Type":"application/json;charset=utf-8"}}).then((e=>e.json())).then((t=>t.results.map((a=>({value:a.id,label:a.text,customProperties:{page:e.Page,total:t.total}})))))}function c(e){console.error("An Error has occurred!",e)}function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function u(e,t){var a;null===(a=e.parentNode)||void 0===a||a.insertBefore(t,e),t.appendChild(e)}function p(e){document.querySelectorAll(e).forEach((e=>new o.Popover(e,{html:!0,trigger:"hover",placement:"bottom",content:()=>`<img src="${e.src}" class="img-fluid" />`})))}function b(){const e=document.getElementById("PasswordToggle");if(e&&document.body.contains(e)){const t=e.querySelector("i"),a=document.querySelector("input[id*='Password']");e.addEventListener("click",(e=>{e.preventDefault(),"text"===a.getAttribute("type")?(a.setAttribute("type","password"),t.classList.add("fa-eye-slash"),t.classList.remove("fa-eye")):"password"===a.getAttribute("type")&&(a.setAttribute("type","text"),t.classList.remove("fa-eye-slash"),t.classList.add("fa-eye"))}))}}function m(e,t,a,o,r,i){const s={message:a,centerVertical:!0,title:t};s.buttons={cancel:{label:`<i class="fa fa-times"></i> ${r}`,className:"btn-danger",callback(a){i(!1),e.innerHTML=t}},main:{label:`<i class="fa fa-check"></i> ${o}`,className:"btn-success",callback(e){i(!0)}}},n.dialog(s)}function f(e,t,a,o,r){const i={message:t,centerVertical:!0,title:e,value:r};i.buttons={cancel:{label:a},confirm:{label:o}},i.callback=()=>{h(r)},n.prompt(i)}function h(e){navigator.clipboard.writeText(e)}document.addEventListener("click",(e=>{const t=e.target;if(t.parentElement&&t.parentElement.matches('[data-bs-toggle="confirm"]')){e.preventDefault();const a=t.parentElement,o=a.dataset.title||"",n=a.dataset.yes||"",r=a.dataset.no||"",i=a.innerHTML;a.innerHTML="<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'></span> Loading...",m(a,i,o,n,r,(e=>{e&&a.click()}))}}),!1);const g=window||a.g;g.createTagsSelectTemplates=r,g.createForumSelectTemplates=i,g.loadForumChoiceOptions=s,g.loadChoiceOptions=l,g.errorLog=c,g.bootboxShareTopic=f,g.togglePassword=b,g.copyToClipBoard=h},bootstrap:e=>{e.exports=bootstrap}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{a.r(o);var e=a("./wwwroot/lib/forum/utilities.ts"),t=a("bootstrap");function n(a){const o=document.querySelector(".searchInput").value,n=document.querySelector(".searchUserInput").value,r=document.querySelector(".searchTagInput").value,i=document.getElementById("SearchResultsPlaceholder"),s=new t.Modal("#loadModal"),l="True"===document.querySelector(".searchUserInput").dataset.display,c=parseInt(document.querySelector(".resultsPage").value),d=document.querySelector(".titleOnly").value,u=document.querySelector(".searchWhat").value,p=i.dataset.minimum,b=""===document.getElementById("Input_ForumListSelected").value?0:parseInt(document.getElementById("Input_ForumListSelected").value);let m="";if(o.length&&o.length>=parseInt(p)||n.length&&n.length>=parseInt(p)||r.length&&r.length>=parseInt(p)){let t;if(o.length&&o.length>=parseInt(p)&&("1"===d?"0"===u?(t=o,m+=` Topic: (${t.replace(/(^|\s+)/g,"$1+")})`):"1"===u?m+=` Topic: ${o}`:"2"===u&&(m+=` Topic:"${o}"`):"0"===u?(t=o,m+=`(${t.replace(/(^|\s+)/g,"$1+")})`):"1"===u?m+=`${o}`:"2"===u&&(m+=`"${o}"`)),n.length&&n.length>=parseInt(p)){const e=l?"AuthorDisplay":"Author";m.length&&(m+=" "),o.length?m+=`AND ${e}:${n}`:m=`+${e}:${n}`}r.length&&r.length>=parseInt(p)&&(m.length&&(m+=" "),o.length?m+=`AND TopicTags:${r}`:m=`+TopicTags:${r}`);const f={ForumId:b,PageSize:c,Page:a,SearchTerm:m};e.empty(i),s.show(),fetch("/api/Search/GetSearchResults",{method:"POST",body:JSON.stringify(f),headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8",RequestVerificationToken:document.querySelector('input[name="__RequestVerificationToken"]').value}}).then((e=>e.json())).then((t=>{var o;null===(o=document.getElementById("loadModal"))||void 0===o||o.addEventListener("shown.bs.modal",(()=>{s.hide()}));const n=i.dataset.posted||"",r=i.dataset.by||"",d=i.dataset.lastpost||"",u=i.dataset.topic||"";if(0===t.searchResults.length){s.hide();const t=i.dataset.notext||"",a=document.createElement("div");a.innerHTML=`<div class="alert alert-warning text-center mt-3" role="alert">${t}</div>`,i.appendChild(a),e.empty(document.getElementById("SearchResultsPagerTop")),e.empty(document.getElementById("SearchResultsPagerBottom"))}else s.hide(),t.searchResults.forEach((e=>{const t=document.createElement("div");let a=" ";if(e.topicTags){e.topicTags.split(",").forEach((e=>{a+=`<span class='badge text-bg-secondary me-1'><i class='fas fa-tag me-1'></i>${e}</span>`}))}t.innerHTML=`\n                <div class="row">\n                    <div class="col">\n                        <div class="card border-0 w-100 mb-3">\n                            <div class="card-header bg-transparent border-top border-bottom-0 px-0 pb-0 pt-4 topicTitle">\n                                <h5>\n                                    <a title="${u}" href="${e.topicUrl}">${e.topic}</a>&nbsp;\n                                    <a title="${d}" href="${e.messageUrl}"><i class="fas fa-external-link-alt"></i></a>\n                                    <small class="text-body-secondary">(<a href="${e.forumUrl}">${e.forumName}</a>)</small>\n                                </h5>\n                            </div>\n                            <div class="card-body px-0">\n                                <h6 class="card-subtitle mb-2 text-body-secondary">${e.description}</h6>\n                                <p class="card-text messageContent">${e.message}</p>\n                            </div>\n                            <div class="card-footer bg-transparent border-top-0 px-0 py-2">\n                                <small class="text-body-secondary">\n                                    <span class="fa-stack">\n                                        <i class="fa fa-calendar-day fa-stack-1x text-secondary"></i>\n                                        <i class="fa fa-clock fa-badge text-secondary"></i>\n                                    </span>\n                                    ${n} ${e.posted} <i class="fa fa-user fa-fw text-secondary"></i>${r} ${l?e.userDisplayName:e.userName}${a}\n                                </small>\n                            </div>\n                        </div>\n                    </div>\n                </div>`,i.appendChild(t)})),function(t,a,o){const n=Math.ceil(o/t),r=document.getElementById("SearchResultsPagerTop"),i=document.getElementById("SearchResultsPagerBottom"),s=document.createElement("ul"),l=document.createElement("nav"),c=document.createElement("nav");if(l.setAttribute("aria-label","Search Page Results"),c.setAttribute("aria-label","Search Page Results"),s.classList.add("pagination"),e.empty(r),e.empty(i),a>0){const e=document.createElement("li");e.classList.add("page-item"),e.innerHTML=`<a href="javascript:getSearchResultsData(${a-1})" class="page-link"><i class="fas fas fa-angle-left" aria-hidden="true"></i></a>`,s.appendChild(e)}let d=a-2,u=a+3;if(d<0&&(d=0),u>n&&(u=n),d>0){let e=document.createElement("li");e.classList.add("page-item"),e.innerHTML='<a href="javascript:getSearchResultsData(0);" class="page-link">1</a>',s.appendChild(e),e=document.createElement("li"),e.classList.add("page-item"),e.classList.add("disabled"),e.innerHTML='<a class="page-link" href="#" tabindex="-1">...</a>',s.appendChild(e)}for(let e=d;e<u;e++)if(e===a){const t=document.createElement("li");t.classList.add("page-item"),t.classList.add("active"),t.innerHTML=`<span class="page-link">${e+1}</span>`,s.appendChild(t)}else{const t=document.createElement("li");t.classList.add("page-item"),t.innerHTML=`<a href="javascript:getSearchResultsData(${e});" class="page-link">${e+1}</a>`,s.appendChild(t)}if(u<n){let e=document.createElement("li");e.classList.add("page-item"),e.classList.add("disabled"),e.innerHTML='<a class="page-link" href="#" tabindex="-1">...</a>',s.appendChild(e),e=document.createElement("li"),e.classList.add("page-item"),e.innerHTML=`<a href="javascript:getSearchResultsData(${n-1})" class="page-link">${n}</a>`,s.appendChild(e)}if(a<n-1){const e=document.createElement("li");e.classList.add("page-item"),e.innerHTML=`<a href="javascript:getSearchResultsData(${a+1})" class="page-link"><i class="fas fas fa-angle-right" aria-hidden="true"></i></a>`,s.appendChild(e)}l.appendChild(s),c.innerHTML=l.innerHTML,r&&r.appendChild(l),i&&i.appendChild(c)}(c,a,t.totalRecords)})).catch((e=>{console.log(e),document.getElementById("SearchResultsPlaceholder").style.display="none",i.textContent=e}))}}document.querySelector(".searchInput").addEventListener("keypress",(e=>{if(13===e.which){e.preventDefault();n(0)}})),document.addEventListener("DOMContentLoaded",(()=>{var e=new URL(window.location.href);(e.searchParams.has("search")||e.searchParams.has("forum")||e.searchParams.has("postedBy")||e.searchParams.has("tag"))&&n(0)}))})()})();
//# sourceMappingURL=search.min.js.map